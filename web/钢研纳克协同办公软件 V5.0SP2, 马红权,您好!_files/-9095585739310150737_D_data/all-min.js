Calendar=function(D,C,F,A){this.activeDiv=null;this.currentDateEl=null;this.getDateStatus=null;this.getDateToolTip=null;this.getDateText=null;this.timeout=null;this.onSelected=F||null;this.onClose=A||null;this.dragging=false;this.hidden=false;this.minYear=1900;this.maxYear=2100;this.dateFormat=Calendar._TT.DEF_DATE_FORMAT;this.ttDateFormat=Calendar._TT.TT_DATE_FORMAT;this.isPopup=true;this.weekNumbers=true;this.firstDayOfWeek=typeof D=="number"?D:Calendar._FD;this.showsOtherMonths=false;this.dateStr=C;this.ar_days=null;this.showsTime=false;this.time24=true;this.yearStep=1;this.hiliteToday=true;this.multiple=null;this.table=null;this.element=null;this.tbody=null;this.firstdayname=null;this.monthsCombo=null;this.yearsCombo=null;this.hilitedMonth=null;this.activeMonth=null;this.hilitedYear=null;this.activeYear=null;this.isClear=true;this.height=null;this.dateClicked=false;if(typeof Calendar._SDN=="undefined"){if(typeof Calendar._SDN_len=="undefined"){Calendar._SDN_len=3}var B=new Array();for(var E=8;E>0;){B[--E]=Calendar._DN[E].substr(0,Calendar._SDN_len)}Calendar._SDN=B;if(typeof Calendar._SMN_len=="undefined"){Calendar._SMN_len=3}B=new Array();for(var E=12;E>0;){B[--E]=Calendar._MN[E].substr(0,Calendar._SMN_len)}Calendar._SMN=B}};Calendar._C=null;Calendar.is_ie=((/msie/i.test(navigator.userAgent)||/Trident/i.test(navigator.userAgent))&&!/opera/i.test(navigator.userAgent));Calendar.is_ie5=(Calendar.is_ie&&/msie 5\.0/i.test(navigator.userAgent));Calendar.is_opera=/opera/i.test(navigator.userAgent);Calendar.is_khtml=/Konqueror|Safari|KHTML/i.test(navigator.userAgent);Calendar.getAbsolutePos=function(E){var A=0,D=0;var C=/^div$/i.test(E.tagName);if(C&&E.scrollLeft){A=E.scrollLeft}if(C&&E.scrollTop){D=E.scrollTop}var F={x:E.offsetLeft-A,y:E.offsetTop-D};if(E.offsetParent){var B=this.getAbsolutePos(E.offsetParent);F.x+=B.x;F.y+=B.y}return F};Calendar.isRelated=function(C,A){var D=A.relatedTarget;if(!D){var B=A.type;if(B=="mouseover"){D=A.fromElement}else{if(B=="mouseout"){D=A.toElement}}}while(D){if(D==C){return true}D=D.parentNode}return false};Calendar.removeClass=function(E,D){if(!(E&&E.className)){return }var A=E.className.split(" ");var B=new Array();for(var C=A.length;C>0;){if(A[--C]!=D){B[B.length]=A[C]}}E.className=B.join(" ")};Calendar.addClass=function(B,A){Calendar.removeClass(B,A);B.className+=" "+A};Calendar.getElement=function(A){var B=Calendar.is_ie?window.event.srcElement:A.currentTarget;while(B.nodeType!=1||/^div$/i.test(B.tagName)){B=B.parentNode}return B};Calendar.getCalendar=function(A){while(A.nodeType!=1||!A.calendar){A=A.parentNode}return A.calendar};Calendar.getTargetElement=function(A){var B=Calendar.is_ie?window.event.srcElement:A.target;while(B.nodeType!=1){B=B.parentNode}return B};Calendar.stopEvent=function(A){A||(A=window.event);if(Calendar.is_ie){A.cancelBubble=true;A.returnValue=false}else{A.preventDefault();A.stopPropagation()}return false};Calendar.addEvent=function(A,C,B){if(A.attachEvent){A.attachEvent("on"+C,B)}else{if(A.addEventListener){A.addEventListener(C,B,true)}else{A["on"+C]=B}}};Calendar.removeEvent=function(A,C,B){if(A.detachEvent){A.detachEvent("on"+C,B)}else{if(A.removeEventListener){A.removeEventListener(C,B,true)}else{A["on"+C]=null}}};Calendar.createElement=function(C,B){var A=null;if(document.createElementNS){A=document.createElementNS("http://www.w3.org/1999/xhtml",C)}else{A=document.createElement(C)}if(typeof B!="undefined"){B.appendChild(A)}return A};Calendar._add_evs=function(el){with(Calendar){addEvent(el,"mouseover",dayMouseOver);addEvent(el,"mousedown",dayMouseDown);addEvent(el,"mouseout",dayMouseOut);if(is_ie){addEvent(el,"dblclick",dayMouseDblClick);el.setAttribute("unselectable",true)}}};Calendar.findMonth=function(A){if(typeof A.month!="undefined"){return A}else{if(typeof A.parentNode.month!="undefined"){return A.parentNode}}return null};Calendar.findYear=function(A){if(typeof A.year!="undefined"){return A}else{if(typeof A.parentNode.year!="undefined"){return A.parentNode}}return null};Calendar.showMonthsCombo=function(){var E=Calendar._C;if(!E){return false}var E=E;var F=E.activeDiv;var D=E.monthsCombo;if(E.hilitedMonth){Calendar.removeClass(E.hilitedMonth,"hilite")}if(E.activeMonth){Calendar.removeClass(E.activeMonth,"active")}var C=E.monthsCombo.getElementsByTagName("div")[E.date.getMonth()];Calendar.addClass(C,"active");E.activeMonth=C;var B=D.style;B.display="block";if(F.navtype<0){B.left=F.offsetLeft+"px"}else{var A=D.offsetWidth;if(typeof A=="undefined"){A=50}B.left=(F.offsetLeft+F.offsetWidth-A)+"px"}B.top=(F.offsetTop+F.offsetHeight)+"px"};Calendar.showYearsCombo=function(D){var A=Calendar._C;if(!A){return false}var A=A;var C=A.activeDiv;var F=A.yearsCombo;if(A.hilitedYear){Calendar.removeClass(A.hilitedYear,"hilite")}if(A.activeYear){Calendar.removeClass(A.activeYear,"active")}A.activeYear=null;var B=A.date.getFullYear()+(D?1:-1);var J=F.firstChild;var H=false;for(var E=12;E>0;--E){if(B>=A.minYear&&B<=A.maxYear){J.innerHTML=B;J.year=B;J.style.display="block";H=true}else{J.style.display="none"}J=J.nextSibling;var I=A.yearStep?A.yearStep:1;B+=D?I:-I}if(H){var K=F.style;K.display="block";if(C.navtype<0){K.left=C.offsetLeft+"px"}else{var G=F.offsetWidth;if(typeof G=="undefined"){G=50}K.left=(C.offsetLeft+C.offsetWidth-G)+"px"}K.top=(C.offsetTop+C.offsetHeight)+"px"}};Calendar.tableMouseUp=function(ev){var cal=Calendar._C;if(!cal){return false}if(cal.timeout){clearTimeout(cal.timeout)}var el=cal.activeDiv;if(!el){return false}var target=Calendar.getTargetElement(ev);ev||(ev=window.event);Calendar.removeClass(el,"active");if(target==el||target.parentNode==el){Calendar.cellClick(el,ev)}var mon=Calendar.findMonth(target);var date=null;if(mon){date=new Date(cal.date);if(mon.month!=date.getMonth()){date.setMonth(mon.month);cal.setDate(date);cal.dateClicked=false;cal.callHandler()}}else{var year=Calendar.findYear(target);if(year){date=new Date(cal.date);if(year.year!=date.getFullYear()){date.setFullYear(year.year);cal.setDate(date);cal.dateClicked=false;cal.callHandler()}}}with(Calendar){removeEvent(document,"mouseup",tableMouseUp);removeEvent(document,"mouseover",tableMouseOver);removeEvent(document,"mousemove",tableMouseOver);cal._hideCombos();_C=null;return stopEvent(ev)}};Calendar.tableMouseOver=function(M){var A=Calendar._C;if(!A){return }var C=A.activeDiv;var I=Calendar.getTargetElement(M);if(I==C||I.parentNode==C){Calendar.addClass(C,"hilite active");Calendar.addClass(C.parentNode,"rowhilite")}else{if(typeof C.navtype=="undefined"||(C.navtype!=50&&(C.navtype==0||Math.abs(C.navtype)>2))){Calendar.removeClass(C,"active")}Calendar.removeClass(C,"hilite");Calendar.removeClass(C.parentNode,"rowhilite")}M||(M=window.event);if(C.navtype==50&&I!=C){var L=Calendar.getAbsolutePos(C);var O=C.offsetWidth;var N=M.clientX;var P;var K=true;if(N>L.x+O){P=N-L.x-O;K=false}else{P=L.x-N}if(P<0){P=0}var F=C._range;var H=C._current;var G=Math.floor(P/10)%F.length;for(var E=F.length;--E>=0;){if(F[E]==H){break}}while(G-->0){if(K){if(--E<0){E=F.length-1}}else{if(++E>=F.length){E=0}}}var B=F[E];C.innerHTML=B;A.onUpdateTime()}var D=Calendar.findMonth(I);if(D){if(D.month!=A.date.getMonth()){if(A.hilitedMonth){Calendar.removeClass(A.hilitedMonth,"hilite")}Calendar.addClass(D,"hilite");A.hilitedMonth=D}else{if(A.hilitedMonth){Calendar.removeClass(A.hilitedMonth,"hilite")}}}else{if(A.hilitedMonth){Calendar.removeClass(A.hilitedMonth,"hilite")}var J=Calendar.findYear(I);if(J){if(J.year!=A.date.getFullYear()){if(A.hilitedYear){Calendar.removeClass(A.hilitedYear,"hilite")}Calendar.addClass(J,"hilite");A.hilitedYear=J}else{if(A.hilitedYear){Calendar.removeClass(A.hilitedYear,"hilite")}}}else{if(A.hilitedYear){Calendar.removeClass(A.hilitedYear,"hilite")}}}return Calendar.stopEvent(M)};Calendar.tableMouseDown=function(A){var B=Calendar.getTargetElement(A).id;if(B=="timeHours"||B=="timeMinutes"){return }if(Calendar.getTargetElement(A)==Calendar.getElement(A)){return Calendar.stopEvent(A)}};Calendar.calDragIt=function(B){var C=Calendar._C;if(!(C&&C.dragging)){return false}var E;var D;if(Calendar.is_ie){D=window.event.clientY+document.body.scrollTop;E=window.event.clientX+document.body.scrollLeft}else{E=B.pageX;D=B.pageY}C.hideShowCovered();var A=C.element.style;A.left=(E-C.xOffs)+"px";A.top=(D-C.yOffs)+"px";if(C.isPopup){C.iframe.style.left=(E-C.xOffs)+"px";C.iframe.style.top=(D-C.yOffs)+"px"}return Calendar.stopEvent(B)};Calendar.calDragEnd=function(ev){var cal=Calendar._C;if(!cal){return false}cal.dragging=false;with(Calendar){removeEvent(document,"mousemove",calDragIt);removeEvent(document,"mouseup",calDragEnd);tableMouseUp(ev)}cal.hideShowCovered()};Calendar.dayMouseDown=function(ev){var el=Calendar.getElement(ev);if(el.disabled){return false}var cal=el.calendar;cal.activeDiv=el;Calendar._C=cal;if(el.navtype!=300){with(Calendar){if(el.navtype==50){el._current=el.innerHTML;addEvent(document,"mousemove",tableMouseOver)}else{addEvent(document,Calendar.is_ie5?"mousemove":"mouseover",tableMouseOver)}addClass(el,"hilite active");addEvent(document,"mouseup",tableMouseUp)}}else{if(cal.isPopup){cal._dragStart(ev)}}if(el.navtype==-1||el.navtype==1){if(cal.timeout){clearTimeout(cal.timeout)}cal.timeout=setTimeout("Calendar.showMonthsCombo()",250)}else{if(el.navtype==-2||el.navtype==2){if(cal.timeout){clearTimeout(cal.timeout)}cal.timeout=setTimeout((el.navtype>0)?"Calendar.showYearsCombo(true)":"Calendar.showYearsCombo(false)",250)}else{cal.timeout=null}}return Calendar.stopEvent(ev)};Calendar.dayMouseDblClick=function(A){Calendar.cellClick(Calendar.getElement(A),A||window.event);if(Calendar.is_ie){if(document.selection){document.selection.empty()}else{if(window.getSelection){window.getSelection().removeAllRanges()}}}};Calendar.dayMouseOver=function(B){var A=Calendar.getElement(B);if(Calendar.isRelated(A,B)||Calendar._C||A.disabled){return false}if(A.ttip){if(A.ttip.substr(0,1)=="_"){A.ttip=A.caldate.print(A.calendar.ttDateFormat)+A.ttip.substr(1)}A.calendar.tooltips.innerHTML=A.ttip}if(A.navtype!=300){Calendar.addClass(A,"hilite");if(A.caldate){Calendar.addClass(A.parentNode,"rowhilite");var C=A.calendar;if(C&&C.getDateToolTip){var D=A.caldate;window.status=D;A.title=C.getDateToolTip(D,D.getFullYear(),D.getMonth(),D.getDate())}}}return Calendar.stopEvent(B)};Calendar.dayMouseOut=function(ev){with(Calendar){var el=getElement(ev);if(isRelated(el,ev)||_C||el.disabled){return false}removeClass(el,"hilite");if(el.caldate){removeClass(el.parentNode,"rowhilite")}if(el.calendar){el.calendar.tooltips.innerHTML=_TT.SEL_DATE}}};Calendar.cellClick=function(E,N){var C=E.calendar;var H=false;var K=false;var F=null;if(typeof E.navtype=="undefined"){if(C.currentDateEl){Calendar.removeClass(C.currentDateEl,"selected");Calendar.addClass(E,"selected");H=(C.currentDateEl==E);if(!H){C.currentDateEl=E}}C.date.setDateOnly(E.caldate);F=C.date;var B=!(C.dateClicked=!E.otherMonth);if(!B&&!C.currentDateEl&&C.multiple){C._toggleMultipleDate(new Date(F))}else{K=!E.disabled}if(B){C._init(C.firstDayOfWeek,F)}}else{if(E.navtype==200){Calendar.removeClass(E,"hilite");C.callCloseHandler();return }F=new Date(C.date);if(E.navtype==0){F.setDateOnly(new Date())}C.dateClicked=false;var M=F.getFullYear();var G=F.getMonth();function A(Q){var R=F.getDate();var P=F.getMonthDays(Q);if(R>P){F.setDate(P)}F.setMonth(Q)}switch(E.navtype){case 400:Calendar.removeClass(E,"hilite");var O=Calendar._TT.ABOUT;if(typeof O!="undefined"){O+=C.showsTime?Calendar._TT.ABOUT_TIME:""}else{O='Help and about box text is not translated into this language.\nIf you know this language and you feel generous please update\nthe corresponding file in "lang" subdir to match calendar-en.js\nand send it back to <mihai_bazon@yahoo.com> to get it into the distribution  ;-)\n\nThank you!\nhttp://dynarch.com/mishoo/calendar.epl\n'}alert(O);return ;case -2:if(M>C.minYear){F.setFullYear(M-1)}break;case -1:if(G>0){A(G-1)}else{if(M-->C.minYear){F.setFullYear(M);A(11)}}break;case 1:if(G<11){A(G+1)}else{if(M<C.maxYear){F.setFullYear(M+1);A(0)}}break;case 2:if(M<C.maxYear){F.setFullYear(M+1)}break;case 100:C.setFirstDayOfWeek(E.fdow);return ;case 50:var J=E._range;var L=E.innerHTML;for(var I=J.length;--I>=0;){if(J[I]==L){break}}if(N&&N.shiftKey){if(--I<0){I=J.length-1}}else{if(++I>=J.length){I=0}}var D=J[I];E.innerHTML=D;C.onUpdateTime();return ;case 0:if((typeof C.getDateStatus=="function")&&C.getDateStatus(F,F.getFullYear(),F.getMonth(),F.getDate())){return false}break}if(!F.equalsTo(C.date)){C.setDate(F);K=true}else{if(E.navtype==0){K=H=true}}}if(K){if(C.params.hideOkClearButton==true){N&&C.callHandler()}}if(H){Calendar.removeClass(E,"hilite");if(C.params.hideOkClearButton==true){N&&C.callCloseHandler()}}};Calendar.prototype.create=function(O){var J=null;if(!O){J=document.getElementsByTagName("body")[0];this.isPopup=true}else{J=O;this.isPopup=false}this.date=this.dateStr?new Date(this.dateStr):new Date();var X=Calendar.createElement("table");this.table=X;X.cellSpacing=0;X.cellPadding=0;if(this.height){X.style.height=this.height+"px"}X.calendar=this;Calendar.addEvent(X,"mousedown",Calendar.tableMouseDown);var N=Calendar.createElement("div");this.element=N;N.className="calendar";if(this.isPopup){N.style.position="absolute";N.style.display="none"}N.appendChild(X);if(this.dateFormat=="%Y-%m"){if(document.getElementById("inputYear")){document.getElementById("inputYear").parentElement.innerHTML=""}var H=Calendar.createElement("div");H.className="calendar_month_container";var E=Calendar.createElement("div",H);E.className="calendar_month_container_head border_b";var L=this.date.getFullYear();E.innerHTML='<input type="button" style="width:20px;" value="&#x00ab;" onclick="Calendar.increaseYearInput(-1);"/><input id="inputYear" type="text" value="'+L+'" size="4"/><input type="button" style="width:20px;" value="&#x00bb;"  onclick="Calendar.increaseYearInput(1);"/>';var D=Calendar.createElement("div",H);D.className="calendar_month_container_body";for(S=0;S<Calendar._MN.length;++S){var T=Calendar.createElement("a");T.month=S;if(S==this.date.getMonth()){T.className="current"}T.innerHTML=Calendar._SMN[S];Calendar.addEvent(T,"click",function(b){var Z=Calendar.getElement(b);var c=Z.calendar;c.date.setMonth(Z.month);c.date.setFullYear(document.getElementById("inputYear").value);c.callHandler();c.callCloseHandler()});T.calendar=this;D.appendChild(T)}N.appendChild(H);X.style.display="none"}var W=Calendar.createElement("thead",X);var C=null;var G=null;var M=this;var F=function(b,a,Z){C=Calendar.createElement("td",G);C.colSpan=a;C.className="button";if(Z!=0&&Math.abs(Z)<=2){C.className+=" nav"}Calendar._add_evs(C);C.calendar=M;C.navtype=Z;C.innerHTML="<div unselectable='on'>"+b+"</div>";return C};G=Calendar.createElement("tr",W);var Y=6;(this.isPopup)&&--Y;(this.weekNumbers)&&++Y;F("?",1,400).ttip=Calendar._TT.INFO;this.title=F("",Y,300);this.title.className="title";if(this.isPopup){this.title.ttip=Calendar._TT.DRAG_TO_MOVE;this.title.style.cursor="move";F("&#x00d7;",1,200).ttip=Calendar._TT.CLOSE}G=Calendar.createElement("tr",W);G.className="headrow";this._nav_py=F("&#x00ab;",1,-2);this._nav_py.ttip=Calendar._TT.PREV_YEAR;this._nav_pm=F("&#x2039;",1,-1);this._nav_pm.ttip=Calendar._TT.PREV_MONTH;this._nav_now=F(Calendar._TT.TODAY,this.weekNumbers?4:3,0);this._nav_now.ttip=Calendar._TT.GO_TODAY;this._nav_nm=F("&#x203a;",1,1);this._nav_nm.ttip=Calendar._TT.NEXT_MONTH;this._nav_ny=F("&#x00bb;",1,2);this._nav_ny.ttip=Calendar._TT.NEXT_YEAR;G=Calendar.createElement("tr",W);G.className="daynames";if(this.weekNumbers){C=Calendar.createElement("td",G);C.className="name wn";C.innerHTML=Calendar._TT.WK}for(var S=7;S>0;--S){C=Calendar.createElement("td",G);if(!S){C.navtype=100;C.calendar=this;Calendar._add_evs(C)}}this.firstdayname=(this.weekNumbers)?G.firstChild.nextSibling:G.firstChild;this._displayWeekdays();var A=Calendar.createElement("tbody",X);this.tbody=A;for(S=6;S>0;--S){G=Calendar.createElement("tr",A);if(this.weekNumbers){C=Calendar.createElement("td",G)}for(var P=7;P>0;--P){C=Calendar.createElement("td",G);C.calendar=this;Calendar._add_evs(C)}}if(this.showsTime){G=Calendar.createElement("tr",A);G.className="time";C=Calendar.createElement("td",G);C.className="time";C.colSpan=7;C.innerHTML=getTimeTableHTML(this.date.getHours(),this.date.getMinutes(),this.params.minuteStep,this.params.hideOkClearButton);G=Calendar.createElement("tr",A);G.className="time";G.style.display="none";C=Calendar.createElement("td",G);C.className="time";C.colSpan=2;C.innerHTML=Calendar._TT.TIME||"&nbsp;";C=Calendar.createElement("td",G);C.className="time";C.colSpan=this.weekNumbers?4:3;(function(){function c(m,o,n,p){var k=Calendar.createElement("span",C);k.className=m;k.innerHTML=o;k.calendar=M;k.ttip=Calendar._TT.TIME_PART;k.navtype=50;k._range=[];if(typeof n!="number"){k._range=n}else{for(var l=n;l<=p;++l){var j;if(l<10&&p>=10){j="0"+l}else{j=""+l}k._range[k._range.length]=j}}Calendar._add_evs(k);return k}var g=M.date.getHours();var Z=M.date.getMinutes();var h=!M.time24;var a=(g>12);if(h&&a){g-=12}var e=c("hour",g,h?1:0,h?12:23);var d=Calendar.createElement("span",C);d.innerHTML=":";d.className="colon";var b=c("minute",Z,0,59);var f=null;C=Calendar.createElement("td",G);C.className="time";C.colSpan=2;if(h){f=c("ampm",a?"pm":"am",["am","pm"])}else{C.innerHTML="&nbsp;"}M.onSetTime=function(){var j,i=this.date.getHours(),k=this.date.getMinutes();if(h){j=(i>=12);if(j){i-=12}if(i==0){i=12}f.innerHTML=j?"pm":"am"}e.innerHTML=(i<10)?("0"+i):i;b.innerHTML=(k<10)?("0"+k):k};M.onUpdateTime=function(){var j=this.date;var k=parseInt(e.innerHTML,10);if(h){if(/pm/i.test(f.innerHTML)&&k<12){k+=12}else{if(/am/i.test(f.innerHTML)&&k==12){k=0}}}var l=j.getDate();var i=j.getMonth();var n=j.getFullYear();j.setHours(k);j.setMinutes(parseInt(b.innerHTML,10));j.setFullYear(n);j.setMonth(i);j.setDate(l);this.dateClicked=false;this.callHandler()}})()}else{this.onSetTime=this.onUpdateTime=function(){}}var K=Calendar.createElement("tfoot",X);if(this.isClear){var V=K.insertRow(0);V.className="footrow ttip";V.height="42px";var B=V.insertCell(0);B.colSpan=this.weekNumbers?8:7;var R=Calendar.createElement("table",B);R.width="100%";G=R.insertRow(0);C=F(Calendar._TT.SEL_DATE,1,300);C.className="ttip1";C.style.width="100px";if(this.isPopup){C.ttip=Calendar._TT.DRAG_TO_MOVE;C.style.cursor="move"}this.tooltips=C;if(!this.params.hideOkClearButton){var I=G.insertCell(1);I.nowrap="nowrap";I.align="center";I.width="30";var U=Calendar.createElement("a",I);U.innerHTML=getA8Top().$.i18n("calendar_ok");U.href="javascript:void(0)";U.className="common_button common_button_gray margin_r_10";Calendar.addEvent(U,"click",function(b){var Z=Calendar.getElement(b);var c=Z.calendar;c.callHandler();c.callCloseHandler()});U.calendar=M;I=G.insertCell(2);I.nowrap="nowrap";I.align="center";I.width="30";U=Calendar.createElement("a",I);U.innerHTML=getA8Top().$.i18n("calendar_none");U.className="common_button common_button_gray margin_r_10";U.href="javascript:void(0)";Calendar._add_clear_evs(U);U.calendar=M}}else{G=Calendar.createElement("tr",K);G.className="footrow";C=F(Calendar._TT.SEL_DATE,this.weekNumbers?8:7,300);C.className="ttip";if(this.isPopup){C.ttip=Calendar._TT.DRAG_TO_MOVE;C.style.cursor="move"}this.tooltips=C}N=Calendar.createElement("div",this.element);this.monthsCombo=N;N.className="combo";for(S=0;S<Calendar._MN.length;++S){var T=Calendar.createElement("div");T.className=Calendar.is_ie?"label-IEfix":"label";T.month=S;T.innerHTML=Calendar._SMN[S];N.appendChild(T)}N=Calendar.createElement("div",this.element);this.yearsCombo=N;N.className="combo";for(S=12;S>0;--S){var Q=Calendar.createElement("div");Q.className=Calendar.is_ie?"label-IEfix":"label";N.appendChild(Q)}if(this.isPopup){this.iframe=Calendar.createElement("iframe");this.iframe.className="calendar_iframe";if(!this.showsTime){this.iframe.style.height="170px"}J.appendChild(this.iframe)}this._init(this.firstDayOfWeek,this.date);J.appendChild(this.element)};Calendar._add_clear_evs=function(el){with(Calendar){addEvent(el,"click",callClearHandler)}};Calendar.callClearHandler=function(ev){with(Calendar){var el=getElement(ev);if(el.calendar){if(el.calendar.params.inputField){el.calendar.params.inputField.value="";el.calendar.params.inputField.focus()}el.calendar.callCloseHandler()}}};Calendar._keyEvent=function(M){var A=window._dynarch_popupCalendar;if(!A||A.multiple){return false}(Calendar.is_ie)&&(M=window.event);var J=(Calendar.is_ie||M.type=="keypress"),N=M.keyCode;var I=Calendar.getElement(M);if(I&&(I.id=="inputYear")){var O=document.getElementById("inputYear");return true}if(M.ctrlKey){switch(N){case 37:J&&Calendar.cellClick(A._nav_pm);break;case 38:J&&Calendar.cellClick(A._nav_py);break;case 39:J&&Calendar.cellClick(A._nav_nm);break;case 40:J&&Calendar.cellClick(A._nav_ny);break;default:return false}}else{switch(N){case 32:Calendar.cellClick(A._nav_now);break;case 27:J&&A.callCloseHandler();break;case 37:case 38:case 39:case 40:if(J){var E,P,L,G,C,D;E=N==37||N==38;D=(N==37||N==39)?1:7;function B(){C=A.currentDateEl;var K=C.pos;P=K&15;L=K>>4;G=A.ar_days[L][P]}B();function F(){var K=new Date(A.date);K.setDate(K.getDate()-D);A.setDate(K)}function H(){var K=new Date(A.date);K.setDate(K.getDate()+D);A.setDate(K)}while(1){switch(N){case 37:if(--P>=0){G=A.ar_days[L][P]}else{P=6;N=38;continue}break;case 38:if(--L>=0){G=A.ar_days[L][P]}else{F();B()}break;case 39:if(++P<7){G=A.ar_days[L][P]}else{P=0;N=40;continue}break;case 40:if(++L<A.ar_days.length){G=A.ar_days[L][P]}else{H();B()}break}break}if(G){if(!G.disabled){Calendar.cellClick(G)}else{if(E){F()}else{H()}}}}break;case 13:if(J){Calendar.cellClick(A.currentDateEl,M)}break;default:return false}}return Calendar.stopEvent(M)};Calendar.prototype._init=function(K,U){var T=new Date(),O=T.getFullYear(),W=T.getMonth(),B=T.getDate();this.table.style.visibility="hidden";var H=U.getFullYear();if(H<this.minYear){H=this.minYear;U.setFullYear(H)}else{if(H>this.maxYear){H=this.maxYear;U.setFullYear(H)}}this.firstDayOfWeek=K;this.date=new Date(U);var V=U.getMonth();var Y=U.getDate();var X=U.getMonthDays();U.setDate(1);var P=(U.getDay()-this.firstDayOfWeek)%7;if(P<0){P+=7}U.setDate(-P);U.setDate(U.getDate()+1);var E=this.tbody.firstChild;var I=Calendar._SMN[V];var M=this.ar_days=new Array();var L=Calendar._TT.WEEKEND;var D=this.multiple?(this.datesCells={}):null;for(var R=0;R<6;++R,E=E.nextSibling){var A=E.firstChild;if(this.weekNumbers){A.className="day wn";A.innerHTML=U.getWeekNumber();A=A.nextSibling}E.className="daysrow";var S=false,F,C=M[R]=[];for(var Q=0;Q<7;++Q,A=A.nextSibling,U.setDate(F+1)){F=U.getDate();var G=U.getDay();A.className="day";A.pos=R<<4|Q;C[Q]=A;var J=(U.getMonth()==V);if(!J){if(this.showsOtherMonths){A.className+=" othermonth";A.otherMonth=true}else{A.className="emptycell";A.innerHTML="&nbsp;";A.disabled=true;continue}}else{A.otherMonth=false;S=true}A.disabled=false;A.innerHTML=this.getDateText?this.getDateText(U,F):F;if(D){D[U.print("%Y%m%d")]=A}if(this.getDateStatus){var N=this.getDateStatus(U,H,V,F);if(N===true){A.className+=" disabled";A.disabled=true}else{if(/disabled/i.test(N)){A.disabled=true}A.className+=" "+N}}if(!A.disabled){A.caldate=new Date(U);A.ttip="_";if(!this.multiple&&J&&F==Y&&this.hiliteToday){A.className+=" selected";this.currentDateEl=A}if(U.getFullYear()==O&&U.getMonth()==W&&F==B){A.className+=" today";A.ttip+=Calendar._TT.PART_TODAY}if(L.indexOf(G.toString())!=-1){A.className+=A.otherMonth?" oweekend":" weekend"}}}if(!(S||this.showsOtherMonths)){E.className="emptyrow"}}this.title.innerHTML=Calendar._MN[V]+", "+H;this.onSetTime();this.table.style.visibility="visible";this._initMultipleDates()};Calendar.prototype._initMultipleDates=function(){if(this.multiple){for(var B in this.multiple){var A=this.datesCells[B];var C=this.multiple[B];if(!C){continue}if(A){A.className+=" selected"}}}};Calendar.prototype._toggleMultipleDate=function(B){if(this.multiple){var C=B.print("%Y%m%d");var A=this.datesCells[C];if(A){var D=this.multiple[C];if(!D){Calendar.addClass(A,"selected");this.multiple[C]=B}else{Calendar.removeClass(A,"selected");delete this.multiple[C]}}}};Calendar.prototype.setClear=function(A){this.isClear=A};Calendar.prototype.setHeight=function(A){this.height=A};Calendar.prototype.setDateToolTipHandler=function(A){this.getDateToolTip=A};Calendar.prototype.setDate=function(A){if(!A.equalsTo(this.date)){this._init(this.firstDayOfWeek,A)}};Calendar.prototype.refresh=function(){this._init(this.firstDayOfWeek,this.date)};Calendar.prototype.setFirstDayOfWeek=function(A){this._init(A,this.date);this._displayWeekdays()};Calendar.prototype.setDateStatusHandler=Calendar.prototype.setDisabledHandler=function(A){this.getDateStatus=A};Calendar.prototype.setRange=function(A,B){this.minYear=A;this.maxYear=B};Calendar.prototype.callHandler=function(){if(this.onSelected){this.onSelected(this,this.date.print(this.dateFormat))}};Calendar.prototype.callCloseHandler=function(){if(this.onClose){this.onClose(this)}this.hideShowCovered()};Calendar.prototype.destroy=function(){var A=this.element.parentNode;A.removeChild(this.element);if(this.isPopup){A.removeChild(this.iframe)}Calendar._C=null;window._dynarch_popupCalendar=null};Calendar.prototype.reparent=function(B){var A=this.element;A.parentNode.removeChild(A);B.appendChild(A)};Calendar._checkCalendar=function(B){var C=window._dynarch_popupCalendar;if(!C){return false}var A=Calendar.is_ie?Calendar.getElement(B):Calendar.getTargetElement(B);for(;A!=null&&A!=C.element;A=A.parentNode){}if(A==null){window._dynarch_popupCalendar.callCloseHandler();return Calendar.stopEvent(B)}};Calendar.prototype.show=function(){var J=this.table.getElementsByTagName("tr");for(var D=J.length;D>0;){var I=J[--D];Calendar.removeClass(I,"rowhilite");var H=I.getElementsByTagName("td");for(var C=H.length;C>0;){var G=H[--C];Calendar.removeClass(G,"hilite");Calendar.removeClass(G,"active")}}this.element.style.display="block";this.hidden=false;if(this.isPopup){window._dynarch_popupCalendar=this;Calendar.addEvent(document,"keydown",Calendar._keyEvent);Calendar.addEvent(document,"keypress",Calendar._keyEvent);Calendar.addEvent(document,"mousedown",Calendar._checkCalendar);this.iframe.style.display="block"}this.hideShowCovered();var F=document.getElementById("timeMinutes");if(F){var A=this.date.getMinutes();if(this.params.minuteStep){A=A-(A%this.params.minuteStep)}this.date.setMinutes(A);if(A<10){A="0"+A}F.value=A}var B=this.date.getHours();var E=document.getElementById("timeHours");if(E){if(B<10){B="0"+B}E.value=B}};Calendar.prototype.hide=function(){if(this.isPopup){Calendar.removeEvent(document,"keydown",Calendar._keyEvent);Calendar.removeEvent(document,"keypress",Calendar._keyEvent);Calendar.removeEvent(document,"mousedown",Calendar._checkCalendar)}this.element.style.display="none";if(this.isPopup){this.iframe.style.display="none"}this.hidden=true;this.hideShowCovered()};Calendar.prototype.showAt=function(A,C){var B=this.element.style;B.left=A+"px";B.top=C+"px";this.show();if(this.isPopup){this.iframe.style.left=A+"px";this.iframe.style.top=C+"px";if($){$(this.iframe).height($(this.element).height());$(this.iframe).width($(this.element).width())}}};Calendar.prototype.showAtElement=function(C,D){var A=this;var E=Calendar.getAbsolutePos(C);if(!D||typeof D!="string"){this.showAt(E.x,E.y+C.offsetHeight);return true}function B(J){if(J.x<0){J.x=0}if(J.y<0){J.y=0}var K=document.createElement("div");var I=K.style;I.position="absolute";I.right=I.bottom=I.width=I.height="0px";document.body.appendChild(K);var G=Calendar.getAbsolutePos(K);document.body.removeChild(K);if(Calendar.is_ie){G.y+=document.body.scrollTop;G.x+=document.body.scrollLeft;var H=parseInt(document.documentElement.scrollTop);if(H&&H>0){G.y+=H}}else{G.y+=window.scrollY;G.x+=window.scrollX}var F=J.x+J.width-G.x;if(F>0){J.x-=F}F=J.y+J.height-G.y;if(F>0){J.y-=F}}this.element.style.display="block";Calendar.continuation_for_the_fucking_khtml_browser=function(){var F=A.element.offsetWidth;var H=A.element.offsetHeight;A.element.style.display="none";var G=D.substr(0,1);var I="l";if(D.length>1){I=D.substr(1,1)}switch(G){case"T":E.y-=H;break;case"B":E.y+=C.offsetHeight;break;case"C":E.y+=(C.offsetHeight-H)/2;break;case"t":E.y+=C.offsetHeight-H;break;case"b":break}switch(I){case"L":E.x-=F;break;case"R":E.x+=C.offsetWidth;break;case"C":E.x+=(C.offsetWidth-F)/2;break;case"l":E.x+=C.offsetWidth-F;break;case"r":break}E.width=F;E.height=H+40;A.monthsCombo.style.display="none";B(E);A.showAt(E.x,E.y)};if(Calendar.is_khtml){setTimeout("Calendar.continuation_for_the_fucking_khtml_browser()",10)}else{Calendar.continuation_for_the_fucking_khtml_browser()}};Calendar.prototype.setDateFormat=function(A){this.dateFormat=A};Calendar.prototype.getDateFormat=function(){return this.dateFormat};Calendar.prototype.setTtDateFormat=function(A){this.ttDateFormat=A};Calendar.prototype.parseDate=function(B,A){if(!A){A=this.dateFormat}this.setDate(Date.parseDate(B,A))};Calendar.prototype.hideShowCovered=function(){if(!Calendar.is_ie&&!Calendar.is_opera){return }function B(R){var Q=R.style.visibility;if(!Q){if(document.defaultView&&typeof (document.defaultView.getComputedStyle)=="function"){if(!Calendar.is_khtml){Q=document.defaultView.getComputedStyle(R,"").getPropertyValue("visibility")}else{Q=""}}else{if(R.currentStyle){Q=R.currentStyle.visibility}else{Q=""}}}return Q}var P=new Array("applet","iframe");var C=this.element;var A=Calendar.getAbsolutePos(C);var F=A.x;var D=C.offsetWidth+F;var O=A.y;var N=C.offsetHeight+O;for(var H=P.length;H>0;){var G=document.getElementsByTagName(P[--H]);var E=null;for(var J=G.length;J>0;){E=G[--J];A=Calendar.getAbsolutePos(E);var M=A.x;var L=E.offsetWidth+M;var K=A.y;var I=E.offsetHeight+K;if(this.hidden||(M>D)||(L<F)||(K>N)||(I<O)){if(!E.__msh_save_visibility){E.__msh_save_visibility=B(E)}E.style.visibility=E.__msh_save_visibility}else{if(!E.__msh_save_visibility){E.__msh_save_visibility=B(E)}if(E.name=="timeHours"||E.name=="timeMinutes"||E.className=="cke_wysiwyg_frame cke_reset"||E.id=="mainbodyFrame"||E.id=="fckedit___Frame"||E.id=="officeEditorFrame"||E.className=="calendar_iframe"||E.id=="content"||E.className=="calendar_show_iframe"){continue}E.style.visibility="hidden"}}}};Calendar.prototype._displayWeekdays=function(){var B=this.firstDayOfWeek;var A=this.firstdayname;var D=Calendar._TT.WEEKEND;for(var C=0;C<7;++C){A.className="day name";var E=(C+B)%7;if(C){A.ttip=Calendar._TT.DAY_FIRST.replace("%s",Calendar._DN[E]);A.navtype=100;A.calendar=this;A.fdow=E;Calendar._add_evs(A)}if(D.indexOf(E.toString())!=-1){Calendar.addClass(A,"weekend")}A.innerHTML=Calendar._SDN[(C+B)%7];A=A.nextSibling}};Calendar.prototype._hideCombos=function(){this.monthsCombo.style.display="none";this.yearsCombo.style.display="none"};Calendar.prototype._dragStart=function(ev){if(this.dragging){return }this.dragging=true;var posX;var posY;if(Calendar.is_ie){posY=window.event.clientY+document.body.scrollTop;posX=window.event.clientX+document.body.scrollLeft}else{posY=ev.clientY+window.scrollY;posX=ev.clientX+window.scrollX}var st=this.element.style;this.xOffs=posX-parseInt(st.left);this.yOffs=posY-parseInt(st.top);with(Calendar){addEvent(document,"mousemove",calDragIt);addEvent(document,"mouseup",calDragEnd)}};Date._MD=new Array(31,28,31,30,31,30,31,31,30,31,30,31);Date.SECOND=1000;Date.MINUTE=60*Date.SECOND;Date.HOUR=60*Date.MINUTE;Date.DAY=24*Date.HOUR;Date.WEEK=7*Date.DAY;Date.parseDate=function(G,A){var H=new Date();var I=0;var B=-1;var F=0;var K=G.split(/\W+/);var J=A.match(/%./g);var E=0,D=0;var L=0;var C=0;for(E=0;E<K.length;++E){if(!K[E]){continue}switch(J[E]){case"%d":case"%e":F=parseInt(K[E],10);break;case"%m":B=parseInt(K[E],10)-1;break;case"%Y":case"%y":I=parseInt(K[E],10);(I<100)&&(I+=(I>29)?1900:2000);break;case"%b":case"%B":for(D=0;D<12;++D){if(Calendar._MN[D].substr(0,K[E].length).toLowerCase()==K[E].toLowerCase()){B=D;break}}break;case"%H":case"%I":case"%k":case"%l":L=parseInt(K[E],10);break;case"%P":case"%p":if(/pm/i.test(K[E])&&L<12){L+=12}else{if(/am/i.test(K[E])&&L>=12){L-=12}}break;case"%M":C=parseInt(K[E],10);break}}if(isNaN(I)){I=H.getFullYear()}if(isNaN(B)){B=H.getMonth()}if(isNaN(F)){F=H.getDate()}if(isNaN(L)){L=H.getHours()}if(isNaN(C)){C=H.getMinutes()}if(I!=0&&B!=-1&&"%Y-%m"==A){return new Date(I,B,1,0,0,0)}if(I!=0&&B!=-1&&F!=0){return new Date(I,B,F,L,C,0)}I=0;B=-1;F=0;for(E=0;E<K.length;++E){if(K[E].search(/[a-zA-Z]+/)!=-1){var M=-1;for(D=0;D<12;++D){if(Calendar._MN[D].substr(0,K[E].length).toLowerCase()==K[E].toLowerCase()){M=D;break}}if(M!=-1){if(B!=-1){F=B+1}B=M}}else{if(parseInt(K[E],10)<=12&&B==-1){B=K[E]-1}else{if(parseInt(K[E],10)>31&&I==0){I=parseInt(K[E],10);(I<100)&&(I+=(I>29)?1900:2000)}else{if(F==0){F=K[E]}}}}}if(I==0){I=H.getFullYear()}if(B!=-1&&F!=0){return new Date(I,B,F,L,C,0)}return H};Date.prototype.getMonthDays=function(B){var A=this.getFullYear();if(typeof B=="undefined"){B=this.getMonth()}if(((0==(A%4))&&((0!=(A%100))||(0==(A%400))))&&B==1){return 29}else{return Date._MD[B]}};Date.prototype.getDayOfYear=function(){var A=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0);var C=new Date(this.getFullYear(),0,0,0,0,0);var B=A-C;return Math.floor(B/Date.DAY)};Date.prototype.getWeekNumber=function(){var C=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0);var B=C.getDay();C.setDate(C.getDate()-(B+6)%7+3);var A=C.valueOf();C.setMonth(0);C.setDate(4);return Math.round((A-C.valueOf())/(7*86400000))+1};Date.prototype.equalsTo=function(A){return((this.getFullYear()==A.getFullYear())&&(this.getMonth()==A.getMonth())&&(this.getDate()==A.getDate())&&(this.getHours()==A.getHours())&&(this.getMinutes()==A.getMinutes()))};Date.prototype.setDateOnly=function(A){var B=new Date(A);this.setDate(1);this.setFullYear(B.getFullYear());this.setMonth(B.getMonth());this.setDate(B.getDate())};Date.prototype.print=function(I){var A=this.getMonth();var H=this.getDate();var J=this.getFullYear();var L=this.getWeekNumber();var M=this.getDay();var Q={};var N=this.getHours();var B=(N>=12);var F=(B)?(N-12):N;var P=this.getDayOfYear();if(F==0){F=12}var C=this.getMinutes();var G=this.getSeconds();Q["%a"]=Calendar._SDN[M];Q["%A"]=Calendar._DN[M];Q["%b"]=Calendar._SMN[A];Q["%B"]=Calendar._MN[A];Q["%C"]=1+Math.floor(J/100);Q["%d"]=(H<10)?("0"+H):H;Q["%e"]=H;Q["%H"]=(N<10)?("0"+N):N;Q["%I"]=(F<10)?("0"+F):F;Q["%j"]=(P<100)?((P<10)?("00"+P):("0"+P)):P;Q["%k"]=N;Q["%l"]=F;Q["%m"]=(A<9)?("0"+(1+A)):(1+A);Q["%M"]=(C<10)?("0"+C):C;Q["%n"]="\n";Q["%p"]=B?"PM":"AM";Q["%P"]=B?"pm":"am";Q["%s"]=Math.floor(this.getTime()/1000);Q["%S"]=(G<10)?("0"+G):G;Q["%t"]="\t";Q["%U"]=Q["%W"]=Q["%V"]=(L<10)?("0"+L):L;Q["%u"]=M+1;Q["%w"]=M;Q["%y"]=(""+J).substr(2,2);Q["%Y"]=J;Q["%%"]="%";var O=/%./g;if(!Calendar.is_ie5&&!Calendar.is_khtml){return I.replace(O,function(R){return Q[R]||R})}var K=I.match(O);for(var E=0;E<K.length;E++){var D=Q[K[E]];if(D){O=new RegExp(K[E],"g");I=I.replace(O,D)}}return I};Date.prototype.__msh_oldSetFullYear=Date.prototype.setFullYear;Date.prototype.setFullYear=function(B){var A=new Date(this);A.__msh_oldSetFullYear(B);if(A.getMonth()!=this.getMonth()){this.setDate(28)}this.__msh_oldSetFullYear(B)};window._dynarch_popupCalendar=null;Calendar.increaseYearInput=function(B){var A=document.getElementById("inputYear");if(A){A.value=parseInt(A.value)+B}};function getTimeTableHTML(F,J,C,G){var I;var B;if(!C){C=10}if(!F&&(F!=0)){F=new Date().getHours()}if(!J&&(J!=0)){J=new Date().getMinutes()}if(document.getElementById("timeHours")){document.getElementById("timeHours").parentElement.innerHTML=""}if(document.getElementById("timeMinutes")){document.getElementById("timeMinutes").parentElement.innerHTML=""}var E=0;var D="";var H="";var K="";var A="cal.callHandler();";if(!G){A=""}K+='<table border="0" cellspacing="0" cellpadding="0">';K+=" <tr>";K+=" <td width=10>&nbsp;</td>";K+=" <td width=40>\u65f6\u95f4:</td>";K+=" <td>";K+=' <select name="timeHours" id="timeHours" style="width: 50px;visibility: visible" onchange="var cal = Calendar.getCalendar(this);cal.date.setHours(this.value);'+A+'">';for(E=0;E<24;E++){D=(E==F||E==B)?" selected":"";K+='<option value="'+(E<10?"0"+E:E)+'"'+D+">"+(E<10?"0"+E:E)+"</option>"}K+=" </select>";K+=" </td>";K+=" <td width=30>&nbsp;&nbsp;\u65f6</td>";K+=" <td>";K+=" <select name='timeMinutes' id='timeMinutes' style='width: 50px;visibility: visible' onchange='var cal = Calendar.getCalendar(this);cal.date.setMinutes(this.value);"+A+"'>";for(E=0;E<60;E+=C){H=(E==J||E==I)?" selected":"";K+='<option value="'+(E<10?"0"+E:E)+'"'+H+">"+(E<10?"0"+E:E)+"</option>"}K+=" </select>";K+=" </td>";K+=" <td>&nbsp;&nbsp;\u5206</td>";K+=" </tr>";K+="</table>";return K};
/*
 * jQuery JavaScript Library v1.8.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Tue Nov 13 2012 08:20:33 GMT-0500 (Eastern Standard Time)
 */
(function(window,undefined){var rootjQuery,readyList,document=window.document,location=window.location,navigator=window.navigator,_jQuery=window.jQuery,_$=window.$,core_push=Array.prototype.push,core_slice=Array.prototype.slice,core_indexOf=Array.prototype.indexOf,core_toString=Object.prototype.toString,core_hasOwn=Object.prototype.hasOwnProperty,core_trim=String.prototype.trim,jQuery=function(selector,context){return new jQuery.fn.init(selector,context,rootjQuery)},core_pnum=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,core_rnotwhite=/\S/,core_rspace=/\s+/,rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rquickExpr=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rvalidchars=/^[\],:{}\s]*$/,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rvalidescape=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,rvalidtokens=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return(letter+"").toUpperCase()},DOMContentLoaded=function(){if(document.addEventListener){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,false);jQuery.ready()}else{if(document.readyState==="complete"){document.detachEvent("onreadystatechange",DOMContentLoaded);jQuery.ready()}}},class2type={};jQuery.fn=jQuery.prototype={constructor:jQuery,init:function(selector,context,rootjQuery){var match,elem,ret,doc;if(!selector){return this}if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}if(typeof selector==="string"){if(selector.charAt(0)==="<"&&selector.charAt(selector.length-1)===">"&&selector.length>=3){match=[null,selector,null]}else{match=rquickExpr.exec(selector)}if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;doc=(context&&context.nodeType?context.ownerDocument||context:document);selector=jQuery.parseHTML(match[1],doc,true);if(rsingleTag.test(match[1])&&jQuery.isPlainObject(context)){this.attr.call(selector,context,true)}return jQuery.merge(this,selector)}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){if(elem.id!==match[2]){return rootjQuery.find(selector)}this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}}else{if(!context||context.jquery){return(context||rootjQuery).find(selector)}else{return this.constructor(context).find(selector)}}}else{if(jQuery.isFunction(selector)){return rootjQuery.ready(selector)}}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.makeArray(selector,this)},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return core_slice.call(this)},get:function(num){return num==null?this.toArray():(num<0?this[this.length+num]:this[num])},pushStack:function(elems,name,selector){var ret=jQuery.merge(this.constructor(),elems);ret.prevObject=this;ret.context=this.context;if(name==="find"){ret.selector=this.selector+(this.selector?" ":"")+selector}else{if(name){ret.selector=this.selector+"."+name+"("+selector+")"}}return ret},each:function(callback,args){return jQuery.each(this,callback,args)},ready:function(fn){jQuery.ready.promise().done(fn);return this},eq:function(i){i=+i;return i===-1?this.slice(i):this.slice(i,i+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(core_slice.apply(this,arguments),"slice",core_slice.call(arguments).join(","))},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},end:function(){return this.prevObject||this.constructor(null)},push:core_push,sort:[].sort,splice:[].splice};jQuery.fn.init.prototype=jQuery.fn;jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={}}if(length===i){target=this;--i}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[]}else{clone=src&&jQuery.isPlainObject(src)?src:{}}target[name]=jQuery.extend(deep,clone,copy)}else{if(copy!==undefined){target[name]=copy}}}}}return target};jQuery.extend({noConflict:function(deep){if(window.$===jQuery){window.$=_$}if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery}return jQuery},isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++}else{jQuery.ready(true)}},ready:function(wait){if(wait===true?--jQuery.readyWait:jQuery.isReady){return }if(!document.body){return setTimeout(jQuery.ready,1)}jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return }readyList.resolveWith(document,[jQuery]);if(jQuery.fn.trigger){jQuery(document).trigger("ready").off("ready")}},isFunction:function(obj){return jQuery.type(obj)==="function"},isArray:Array.isArray||function(obj){return jQuery.type(obj)==="array"},isWindow:function(obj){return obj!=null&&obj==obj.window},isNumeric:function(obj){return !isNaN(parseFloat(obj))&&isFinite(obj)},type:function(obj){return obj==null?"null":class2type[core_toString.call(obj)]||"object"},isPlainObject:function(obj){if(!obj||jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return false}try{if(obj.constructor&&!core_hasOwn.call(obj,"constructor")&&!core_hasOwn.call(obj.constructor.prototype,"isPrototypeOf")){return false}}catch(e){return false}var key;for(key in obj){}return key===undefined||core_hasOwn.call(obj,key)},isEmptyObject:function(obj){var name;for(name in obj){return false}return true},error:function(msg){throw new Error(msg)},parseHTML:function(data,context,scripts){var parsed;if(!data||typeof data!=="string"){return null}if(typeof context==="boolean"){scripts=context;context=0}context=context||document;if((parsed=rsingleTag.exec(data))){return[context.createElement(parsed[1])]}parsed=jQuery.buildFragment([data],context,scripts?null:[]);return jQuery.merge([],(parsed.cacheable?jQuery.clone(parsed.fragment):parsed.fragment).childNodes)},parseJSON:function(data){if(!data||typeof data!=="string"){return null}data=jQuery.trim(data);if(window.JSON&&window.JSON.parse){return window.JSON.parse(data)}if(rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))){return(new Function("return "+data))()}jQuery.error("Invalid JSON: "+data)},parseXML:function(data){var xml,tmp;if(!data||typeof data!=="string"){return null}try{if(window.DOMParser){tmp=new DOMParser();xml=tmp.parseFromString(data,"text/xml")}else{xml=new ActiveXObject("Microsoft.XMLDOM");xml.async="false";xml.loadXML(data)}}catch(e){xml=undefined}if(!xml||!xml.documentElement||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data)}return xml},noop:function(){},globalEval:function(data){if(data&&core_rnotwhite.test(data)){(window.execScript||function(data){window["eval"].call(window,data)})(data)}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback,args){var name,i=0,length=obj.length,isObj=length===undefined||jQuery.isFunction(obj);if(args){if(isObj){for(name in obj){if(callback.apply(obj[name],args)===false){break}}}else{for(;i<length;){if(callback.apply(obj[i++],args)===false){break}}}}else{if(isObj){for(name in obj){if(callback.call(obj[name],name,obj[name])===false){break}}}else{for(;i<length;){if(callback.call(obj[i],i,obj[i++])===false){break}}}}return obj},trim:core_trim&&!core_trim.call("\uFEFF\xA0")?function(text){return text==null?"":core_trim.call(text)}:function(text){return text==null?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var type,ret=results||[];if(arr!=null){type=jQuery.type(arr);if(arr.length==null||type==="string"||type==="function"||type==="regexp"||jQuery.isWindow(arr)){core_push.call(ret,arr)}else{jQuery.merge(ret,arr)}}return ret},inArray:function(elem,arr,i){var len;if(arr){if(core_indexOf){return core_indexOf.call(arr,elem,i)}len=arr.length;i=i?i<0?Math.max(0,len+i):i:0;for(;i<len;i++){if(i in arr&&arr[i]===elem){return i}}}return -1},merge:function(first,second){var l=second.length,i=first.length,j=0;if(typeof l==="number"){for(;j<l;j++){first[i++]=second[j]}}else{while(second[j]!==undefined){first[i++]=second[j++]}}first.length=i;return first},grep:function(elems,callback,inv){var retVal,ret=[],i=0,length=elems.length;inv=!!inv;for(;i<length;i++){retVal=!!callback(elems[i],i);if(inv!==retVal){ret.push(elems[i])}}return ret},map:function(elems,callback,arg){var value,key,ret=[],i=0,length=elems.length,isArray=elems instanceof jQuery||length!==undefined&&typeof length==="number"&&((length>0&&elems[0]&&elems[length-1])||length===0||jQuery.isArray(elems));if(isArray){for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret[ret.length]=value}}}else{for(key in elems){value=callback(elems[key],key,arg);if(value!=null){ret[ret.length]=value}}}return ret.concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;if(typeof context==="string"){tmp=fn[context];context=fn;fn=tmp}if(!jQuery.isFunction(fn)){return undefined}args=core_slice.call(arguments,2);proxy=function(){return fn.apply(context,args.concat(core_slice.call(arguments)))};proxy.guid=fn.guid=fn.guid||jQuery.guid++;return proxy},access:function(elems,fn,key,value,chainable,emptyGet,pass){var exec,bulk=key==null,i=0,length=elems.length;if(key&&typeof key==="object"){for(i in key){jQuery.access(elems,fn,i,key[i],1,emptyGet,value)}chainable=1}else{if(value!==undefined){exec=pass===undefined&&jQuery.isFunction(value);if(bulk){if(exec){exec=fn;fn=function(elem,key,value){return exec.call(jQuery(elem),value)}}else{fn.call(elems,value);fn=null}}if(fn){for(;i<length;i++){fn(elems[i],key,exec?value.call(elems[i],i,fn(elems[i],key)):value,pass)}}chainable=1}}return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet},now:function(){return(new Date()).getTime()}});jQuery.ready.promise=function(obj){if(!readyList){readyList=jQuery.Deferred();if(document.readyState==="complete"){setTimeout(jQuery.ready,1)}else{if(document.addEventListener){document.addEventListener("DOMContentLoaded",DOMContentLoaded,false);window.addEventListener("load",jQuery.ready,false)}else{document.attachEvent("onreadystatechange",DOMContentLoaded);window.attachEvent("onload",jQuery.ready);var top=false;try{top=window.frameElement==null&&document.documentElement}catch(e){}if(top&&top.doScroll){(function doScrollCheck(){if(!jQuery.isReady){try{top.doScroll("left")}catch(e){return setTimeout(doScrollCheck,50)}jQuery.ready()}})()}}}}return readyList.promise(obj)};jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});rootjQuery=jQuery(document);var optionsCache={};function createOptions(options){var object=optionsCache[options]={};jQuery.each(options.split(core_rspace),function(_,flag){object[flag]=true});return object}jQuery.Callbacks=function(options){options=typeof options==="string"?(optionsCache[options]||createOptions(options)):jQuery.extend({},options);var memory,fired,firing,firingStart,firingLength,firingIndex,list=[],stack=!options.once&&[],fire=function(data){memory=options.memory&&data;fired=true;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;firing=true;for(;list&&firingIndex<firingLength;firingIndex++){if(list[firingIndex].apply(data[0],data[1])===false&&options.stopOnFalse){memory=false;break}}firing=false;if(list){if(stack){if(stack.length){fire(stack.shift())}}else{if(memory){list=[]}else{self.disable()}}}},self={add:function(){if(list){var start=list.length;(function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);if(type==="function"){if(!options.unique||!self.has(arg)){list.push(arg)}}else{if(arg&&arg.length&&type!=="string"){add(arg)}}})})(arguments);if(firing){firingLength=list.length}else{if(memory){firingStart=start;fire(memory)}}}return this},remove:function(){if(list){jQuery.each(arguments,function(_,arg){var index;while((index=jQuery.inArray(arg,list,index))>-1){list.splice(index,1);if(firing){if(index<=firingLength){firingLength--}if(index<=firingIndex){firingIndex--}}}})}return this},has:function(fn){return jQuery.inArray(fn,list)>-1},empty:function(){list=[];return this},disable:function(){list=stack=memory=undefined;return this},disabled:function(){return !list},lock:function(){stack=undefined;if(!memory){self.disable()}return this},locked:function(){return !stack},fireWith:function(context,args){args=args||[];args=[context,args.slice?args.slice():args];if(list&&(!fired||stack)){if(firing){stack.push(args)}else{fire(args)}}return this},fire:function(){self.fireWith(this,arguments);return this},fired:function(){return !!fired}};return self};jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){deferred.done(arguments).fail(arguments);return this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var action=tuple[0],fn=fns[i];deferred[tuple[1]](jQuery.isFunction(fn)?function(){var returned=fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify)}else{newDefer[action+"With"](this===deferred?newDefer:this,[returned])}}:newDefer[action])});fns=null}).promise()},promise:function(obj){return obj!=null?jQuery.extend(obj,promise):promise}},deferred={};promise.pipe=promise.then;jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add;if(stateString){list.add(function(){state=stateString},tuples[i^1][2].disable,tuples[2][2].lock)}deferred[tuple[0]]=list.fire;deferred[tuple[0]+"With"]=list.fireWith});promise.promise(deferred);if(func){func.call(deferred,deferred)}return deferred},when:function(subordinate){var i=0,resolveValues=core_slice.call(arguments),length=resolveValues.length,remaining=length!==1||(subordinate&&jQuery.isFunction(subordinate.promise))?length:0,deferred=remaining===1?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this;values[i]=arguments.length>1?core_slice.call(arguments):value;if(values===progressValues){deferred.notifyWith(contexts,values)}else{if(!(--remaining)){deferred.resolveWith(contexts,values)}}}},progressValues,progressContexts,resolveContexts;if(length>1){progressValues=new Array(length);progressContexts=new Array(length);resolveContexts=new Array(length);for(;i<length;i++){if(resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)){resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues))}else{--remaining}}}if(!remaining){deferred.resolveWith(resolveContexts,resolveValues)}return deferred.promise()}});jQuery.support=(function(){var support,all,a,select,opt,input,fragment,eventName,i,isSupported,clickFn,div=document.createElement("div");div.setAttribute("className","t");div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";all=div.getElementsByTagName("*");a=div.getElementsByTagName("a")[0];if(!all||!a||!all.length){return{}}select=document.createElement("select");opt=select.appendChild(document.createElement("option"));input=div.getElementsByTagName("input")[0];a.style.cssText="top:1px;float:left;opacity:.5";support={leadingWhitespace:(div.firstChild.nodeType===3),tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/top/.test(a.getAttribute("style")),hrefNormalized:(a.getAttribute("href")==="/a"),opacity:/^0.5/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:(input.value==="on"),optSelected:opt.selected,getSetAttribute:div.className!=="t",enctype:!!document.createElement("form").enctype,html5Clone:document.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:(document.compatMode==="CSS1Compat"),submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};input.checked=true;support.noCloneChecked=input.cloneNode(true).checked;select.disabled=true;support.optDisabled=!opt.disabled;try{delete div.test}catch(e){support.deleteExpando=false}if(!div.addEventListener&&div.attachEvent&&div.fireEvent){div.attachEvent("onclick",clickFn=function(){support.noCloneEvent=false});div.cloneNode(true).fireEvent("onclick");div.detachEvent("onclick",clickFn)}input=document.createElement("input");input.value="t";input.setAttribute("type","radio");support.radioValue=input.value==="t";input.setAttribute("checked","checked");input.setAttribute("name","t");div.appendChild(input);fragment=document.createDocumentFragment();fragment.appendChild(div.lastChild);support.checkClone=fragment.cloneNode(true).cloneNode(true).lastChild.checked;support.appendChecked=input.checked;fragment.removeChild(input);fragment.appendChild(div);if(div.attachEvent){for(i in {submit:true,change:true,focusin:true}){eventName="on"+i;isSupported=(eventName in div);if(!isSupported){div.setAttribute(eventName,"return;");isSupported=(typeof div[eventName]==="function")}support[i+"Bubbles"]=isSupported}}jQuery(function(){var container,div,tds,marginDiv,divReset="padding:0;margin:0;border:0;display:block;overflow:hidden;",body=document.getElementsByTagName("body")[0];if(!body){return }container=document.createElement("div");container.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";body.insertBefore(container,body.firstChild);div=document.createElement("div");container.appendChild(div);div.innerHTML="<table><tr><td></td><td>t</td></tr></table>";tds=div.getElementsByTagName("td");tds[0].style.cssText="padding:0;margin:0;border:0;display:none";isSupported=(tds[0].offsetHeight===0);tds[0].style.display="";tds[1].style.display="none";support.reliableHiddenOffsets=isSupported&&(tds[0].offsetHeight===0);div.innerHTML="";div.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";support.boxSizing=(div.offsetWidth===4);support.doesNotIncludeMarginInBodyOffset=(body.offsetTop!==1);if(window.getComputedStyle){support.pixelPosition=(window.getComputedStyle(div,null)||{}).top!=="1%";support.boxSizingReliable=(window.getComputedStyle(div,null)||{width:"4px"}).width==="4px";marginDiv=document.createElement("div");marginDiv.style.cssText=div.style.cssText=divReset;marginDiv.style.marginRight=marginDiv.style.width="0";div.style.width="1px";div.appendChild(marginDiv);support.reliableMarginRight=!parseFloat((window.getComputedStyle(marginDiv,null)||{}).marginRight)}if(typeof div.style.zoom!=="undefined"){div.innerHTML="";div.style.cssText=divReset+"width:1px;padding:1px;display:inline;zoom:1";support.inlineBlockNeedsLayout=(div.offsetWidth===3);div.style.display="block";div.style.overflow="visible";div.innerHTML="<div></div>";div.firstChild.style.width="5px";support.shrinkWrapBlocks=(div.offsetWidth!==3);container.style.zoom=1}body.removeChild(container);container=div=tds=marginDiv=null});fragment.removeChild(div);all=a=select=opt=input=fragment=div=null;return support})();var rbrace=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(jQuery.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(elem){elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando];return !!elem&&!isEmptyDataObject(elem)},data:function(elem,name,data,pvt){if(!jQuery.acceptData(elem)){return }var thisCache,ret,internalKey=jQuery.expando,getByName=typeof name==="string",isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey;if((!id||!cache[id]||(!pvt&&!cache[id].data))&&getByName&&data===undefined){return }if(!id){if(isNode){elem[internalKey]=id=jQuery.deletedIds.pop()||jQuery.guid++}else{id=internalKey}}if(!cache[id]){cache[id]={};if(!isNode){cache[id].toJSON=jQuery.noop}}if(typeof name==="object"||typeof name==="function"){if(pvt){cache[id]=jQuery.extend(cache[id],name)}else{cache[id].data=jQuery.extend(cache[id].data,name)}}thisCache=cache[id];if(!pvt){if(!thisCache.data){thisCache.data={}}thisCache=thisCache.data}if(data!==undefined){thisCache[jQuery.camelCase(name)]=data}if(getByName){ret=thisCache[name];if(ret==null){ret=thisCache[jQuery.camelCase(name)]}}else{ret=thisCache}return ret},removeData:function(elem,name,pvt){if(!jQuery.acceptData(elem)){return }var thisCache,i,l,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:jQuery.expando;if(!cache[id]){return }if(name){thisCache=pvt?cache[id]:cache[id].data;if(thisCache){if(!jQuery.isArray(name)){if(name in thisCache){name=[name]}else{name=jQuery.camelCase(name);if(name in thisCache){name=[name]}else{name=name.split(" ")}}}for(i=0,l=name.length;i<l;i++){delete thisCache[name[i]]}if(!(pvt?isEmptyDataObject:jQuery.isEmptyObject)(thisCache)){return }}}if(!pvt){delete cache[id].data;if(!isEmptyDataObject(cache[id])){return }}if(isNode){jQuery.cleanData([elem],true)}else{if(jQuery.support.deleteExpando||cache!=cache.window){delete cache[id]}else{cache[id]=null}}},_data:function(elem,name,data){return jQuery.data(elem,name,data,true)},acceptData:function(elem){var noData=elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()];return !noData||noData!==true&&elem.getAttribute("classid")===noData}});jQuery.fn.extend({data:function(key,value){var parts,part,attr,name,l,elem=this[0],i=0,data=null;if(key===undefined){if(this.length){data=jQuery.data(elem);if(elem.nodeType===1&&!jQuery._data(elem,"parsedAttrs")){attr=elem.attributes;for(l=attr.length;i<l;i++){name=attr[i].name;if(!name.indexOf("data-")){name=jQuery.camelCase(name.substring(5));dataAttr(elem,name,data[name])}}jQuery._data(elem,"parsedAttrs",true)}}return data}if(typeof key==="object"){return this.each(function(){jQuery.data(this,key)})}parts=key.split(".",2);parts[1]=parts[1]?"."+parts[1]:"";part=parts[1]+"!";return jQuery.access(this,function(value){if(value===undefined){data=this.triggerHandler("getData"+part,[parts[0]]);if(data===undefined&&elem){data=jQuery.data(elem,key);data=dataAttr(elem,key,data)}return data===undefined&&parts[1]?this.data(parts[0]):data}parts[1]=value;this.each(function(){var self=jQuery(this);self.triggerHandler("setData"+part,parts);jQuery.data(this,key,value);self.triggerHandler("changeData"+part,parts)})},null,value,arguments.length>1,null,false)},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}});function dataAttr(elem,key,data){if(data===undefined&&elem.nodeType===1){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}jQuery.data(elem,key,data)}else{data=undefined}}return data}function isEmptyDataObject(obj){var name;for(name in obj){if(name==="data"&&jQuery.isEmptyObject(obj[name])){continue}if(name!=="toJSON"){return false}}return true}jQuery.extend({queue:function(elem,type,data){var queue;if(elem){type=(type||"fx")+"queue";queue=jQuery._data(elem,type);if(data){if(!queue||jQuery.isArray(data)){queue=jQuery._data(elem,type,jQuery.makeArray(data))}else{queue.push(data)}}return queue||[]}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};if(fn==="inprogress"){fn=queue.shift();startLength--}if(fn){if(type==="fx"){queue.unshift("inprogress")}delete hooks.stop;fn.call(elem,next,hooks)}if(!startLength&&hooks){hooks.empty.fire()}},_queueHooks:function(elem,type){var key=type+"queueHooks";return jQuery._data(elem,key)||jQuery._data(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){jQuery.removeData(elem,type+"queue",true);jQuery.removeData(elem,key,true)})})}});jQuery.fn.extend({queue:function(type,data){var setter=2;if(typeof type!=="string"){data=type;type="fx";setter--}if(arguments.length<setter){return jQuery.queue(this[0],type)}return data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},delay:function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){if(!(--count)){defer.resolveWith(elements,[elements])}};if(typeof type!=="string"){obj=type;type=undefined}type=type||"fx";while(i--){tmp=jQuery._data(elements[i],type+"queueHooks");if(tmp&&tmp.empty){count++;tmp.empty.add(resolve)}}resolve();return defer.promise(obj)}});var nodeHook,boolHook,fixSpecified,rclass=/[\t\r\n]/g,rreturn=/\r/g,rtype=/^(?:button|input)$/i,rfocusable=/^(?:button|input|object|select|textarea)$/i,rclickable=/^a(?:rea|)$/i,rboolean=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,getSetAttribute=jQuery.support.getSetAttribute;jQuery.fn.extend({attr:function(name,value){return jQuery.access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})},prop:function(name,value){return jQuery.access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){name=jQuery.propFix[name]||name;return this.each(function(){try{this[name]=undefined;delete this[name]}catch(e){}})},addClass:function(value){var classNames,i,l,elem,setClass,c,cl;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))})}if(value&&typeof value==="string"){classNames=value.split(core_rspace);for(i=0,l=this.length;i<l;i++){elem=this[i];if(elem.nodeType===1){if(!elem.className&&classNames.length===1){elem.className=value}else{setClass=" "+elem.className+" ";for(c=0,cl=classNames.length;c<cl;c++){if(setClass.indexOf(" "+classNames[c]+" ")<0){setClass+=classNames[c]+" "}}elem.className=jQuery.trim(setClass)}}}}return this},removeClass:function(value){var removes,className,elem,c,cl,i,l;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))})}if((value&&typeof value==="string")||value===undefined){removes=(value||"").split(core_rspace);for(i=0,l=this.length;i<l;i++){elem=this[i];if(elem.nodeType===1&&elem.className){className=(" "+elem.className+" ").replace(rclass," ");for(c=0,cl=removes.length;c<cl;c++){while(className.indexOf(" "+removes[c]+" ")>=0){className=className.replace(" "+removes[c]+" "," ")}}elem.className=value?jQuery.trim(className):""}}}return this},toggleClass:function(value,stateVal){var type=typeof value,isBool=typeof stateVal==="boolean";if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)})}return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),state=stateVal,classNames=value.split(core_rspace);while((className=classNames[i++])){state=isBool?state:!self.hasClass(className);self[state?"addClass":"removeClass"](className)}}else{if(type==="undefined"||type==="boolean"){if(this.className){jQuery._data(this,"__className__",this.className)}this.className=this.className||value===false?"":jQuery._data(this,"__className__")||""}}})},hasClass:function(selector){var className=" "+selector+" ",i=0,l=this.length;for(;i<l;i++){if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0){return true}}return false},val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()];if(hooks&&"get" in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret}ret=elem.value;return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret}return }isFunction=jQuery.isFunction(value);return this.each(function(i){var val,self=jQuery(this);if(this.nodeType!==1){return }if(isFunction){val=value.call(this,i,self.val())}else{val=value}if(val==null){val=""}else{if(typeof val==="number"){val+=""}else{if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+""})}}}hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set" in hooks)||hooks.set(this,val,"value")===undefined){this.value=val}})}});jQuery.extend({valHooks:{option:{get:function(elem){var val=elem.attributes.value;return !val||val.specified?elem.value:elem.text}},select:{get:function(elem){var value,option,options=elem.options,index=elem.selectedIndex,one=elem.type==="select-one"||index<0,values=one?null:[],max=one?index+1:options.length,i=index<0?max:one?index:0;for(;i<max;i++){option=options[i];if((option.selected||i===index)&&(jQuery.support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value}values.push(value)}}return values},set:function(elem,value){var values=jQuery.makeArray(value);jQuery(elem).find("option").each(function(){this.selected=jQuery.inArray(jQuery(this).val(),values)>=0});if(!values.length){elem.selectedIndex=-1}return values}}},attrFn:{},attr:function(elem,name,value,pass){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return }if(pass&&jQuery.isFunction(jQuery.fn[name])){return jQuery(elem)[name](value)}if(typeof elem.getAttribute==="undefined"){return jQuery.prop(elem,name,value)}notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(rboolean.test(name)?boolHook:nodeHook)}if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name);return }else{if(hooks&&"set" in hooks&&notxml&&(ret=hooks.set(elem,value,name))!==undefined){return ret}else{elem.setAttribute(name,value+"");return value}}}else{if(hooks&&"get" in hooks&&notxml&&(ret=hooks.get(elem,name))!==null){return ret}else{ret=elem.getAttribute(name);return ret===null?undefined:ret}}},removeAttr:function(elem,value){var propName,attrNames,name,isBool,i=0;if(value&&elem.nodeType===1){attrNames=value.split(core_rspace);for(;i<attrNames.length;i++){name=attrNames[i];if(name){propName=jQuery.propFix[name]||name;isBool=rboolean.test(name);if(!isBool){jQuery.attr(elem,name,"")}elem.removeAttribute(getSetAttribute?name:propName);if(isBool&&propName in elem){elem[propName]=false}}}}},attrHooks:{type:{set:function(elem,value){if(rtype.test(elem.nodeName)&&elem.parentNode){jQuery.error("type property can't be changed")}else{if(!jQuery.support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val}return value}}}},value:{get:function(elem,name){if(nodeHook&&jQuery.nodeName(elem,"button")){return nodeHook.get(elem,name)}return name in elem?elem.value:null},set:function(elem,value,name){if(nodeHook&&jQuery.nodeName(elem,"button")){return nodeHook.set(elem,value,name)}elem.value=value}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return }notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name]}if(value!==undefined){if(hooks&&"set" in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret}else{return(elem[name]=value)}}else{if(hooks&&"get" in hooks&&(ret=hooks.get(elem,name))!==null){return ret}else{return elem[name]}}},propHooks:{tabIndex:{get:function(elem){var attributeNode=elem.getAttributeNode("tabindex");return attributeNode&&attributeNode.specified?parseInt(attributeNode.value,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined}}}});boolHook={get:function(elem,name){var attrNode,property=jQuery.prop(elem,name);return property===true||typeof property!=="boolean"&&(attrNode=elem.getAttributeNode(name))&&attrNode.nodeValue!==false?name.toLowerCase():undefined},set:function(elem,value,name){var propName;if(value===false){jQuery.removeAttr(elem,name)}else{propName=jQuery.propFix[name]||name;if(propName in elem){elem[propName]=true}elem.setAttribute(name,name.toLowerCase())}return name}};if(!getSetAttribute){fixSpecified={name:true,id:true,coords:true};nodeHook=jQuery.valHooks.button={get:function(elem,name){var ret;ret=elem.getAttributeNode(name);return ret&&(fixSpecified[name]?ret.value!=="":ret.specified)?ret.value:undefined},set:function(elem,value,name){var ret=elem.getAttributeNode(name);if(!ret){ret=document.createAttribute(name);elem.setAttributeNode(ret)}return(ret.value=value+"")}};jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{set:function(elem,value){if(value===""){elem.setAttribute(name,"auto");return value}}})});jQuery.attrHooks.contenteditable={get:nodeHook.get,set:function(elem,value,name){if(value===""){value="false"}nodeHook.set(elem,value,name)}}}if(!jQuery.support.hrefNormalized){jQuery.each(["href","src","width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{get:function(elem){var ret=elem.getAttribute(name,2);return ret===null?undefined:ret}})})}if(!jQuery.support.style){jQuery.attrHooks.style={get:function(elem){return elem.style.cssText.toLowerCase()||undefined},set:function(elem,value){return(elem.style.cssText=value+"")}}}if(!jQuery.support.optSelected){jQuery.propHooks.selected=jQuery.extend(jQuery.propHooks.selected,{get:function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex}}return null}})}if(!jQuery.support.enctype){jQuery.propFix.enctype="encoding"}if(!jQuery.support.checkOn){jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={get:function(elem){return elem.getAttribute("value")===null?"on":elem.value}}})}jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]=jQuery.extend(jQuery.valHooks[this],{set:function(elem,value){if(jQuery.isArray(value)){return(elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0)}}})});var rformElems=/^(?:textarea|input|select)$/i,rtypenamespace=/^([^\.]*|)(?:\.(.+)|)$/,rhoverHack=/(?:^|\s)hover(\.\S+|)\b/,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,hoverHack=function(events){return jQuery.event.special.hover?events:events.replace(rhoverHack,"mouseenter$1 mouseleave$1")};jQuery.event={add:function(elem,types,handler,data,selector){var elemData,eventHandle,events,t,tns,type,namespaces,handleObj,handleObjIn,handlers,special;if(elem.nodeType===3||elem.nodeType===8||!types||!handler||!(elemData=jQuery._data(elem))){return }if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;selector=handleObjIn.selector}if(!handler.guid){handler.guid=jQuery.guid++}events=elemData.events;if(!events){elemData.events=events={}}eventHandle=elemData.handle;if(!eventHandle){elemData.handle=eventHandle=function(e){return typeof jQuery!=="undefined"&&(!e||jQuery.event.triggered!==e.type)?jQuery.event.dispatch.apply(eventHandle.elem,arguments):undefined};eventHandle.elem=elem}types=jQuery.trim(hoverHack(types)).split(" ");for(t=0;t<types.length;t++){tns=rtypenamespace.exec(types[t])||[];type=tns[1];namespaces=(tns[2]||"").split(".").sort();special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:tns[1],data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn);handlers=events[type];if(!handlers){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle,false)}else{if(elem.attachEvent){elem.attachEvent("on"+type,eventHandle)}}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid}}if(selector){handlers.splice(handlers.delegateCount++,0,handleObj)}else{handlers.push(handleObj)}jQuery.event.global[type]=true}elem=null},global:{},remove:function(elem,types,handler,selector,mappedTypes){var t,tns,type,origType,namespaces,origCount,j,events,special,eventType,handleObj,elemData=jQuery.hasData(elem)&&jQuery._data(elem);if(!elemData||!(events=elemData.events)){return }types=jQuery.trim(hoverHack(types||"")).split(" ");for(t=0;t<types.length;t++){tns=rtypenamespace.exec(types[t])||[];type=origType=tns[1];namespaces=tns[2];if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true)}continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;eventType=events[type]||[];origCount=eventType.length;namespaces=namespaces?new RegExp("(^|\\.)"+namespaces.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(j=0;j<eventType.length;j++){handleObj=eventType[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!namespaces||namespaces.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){eventType.splice(j--,1);if(handleObj.selector){eventType.delegateCount--}if(special.remove){special.remove.call(elem,handleObj)}}}if(eventType.length===0&&origCount!==eventType.length){if(!special.teardown||special.teardown.call(elem,namespaces,elemData.handle)===false){jQuery.removeEvent(elem,type,elemData.handle)}delete events[type]}}if(jQuery.isEmptyObject(events)){delete elemData.handle;jQuery.removeData(elem,"events",true)}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(event,data,elem,onlyHandlers){if(elem&&(elem.nodeType===3||elem.nodeType===8)){return }var cache,exclusive,i,cur,old,ontype,special,handle,eventPath,bubbleType,type=event.type||event,namespaces=[];if(rfocusMorph.test(type+jQuery.event.triggered)){return }if(type.indexOf("!")>=0){type=type.slice(0,-1);exclusive=true}if(type.indexOf(".")>=0){namespaces=type.split(".");type=namespaces.shift();namespaces.sort()}if((!elem||jQuery.event.customEvent[type])&&!jQuery.event.global[type]){return }event=typeof event==="object"?event[jQuery.expando]?event:new jQuery.Event(type,event):new jQuery.Event(type);event.type=type;event.isTrigger=true;event.exclusive=exclusive;event.namespace=namespaces.join(".");event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;ontype=type.indexOf(":")<0?"on"+type:"";if(!elem){cache=jQuery.cache;for(i in cache){if(cache[i].events&&cache[i].events[type]){jQuery.event.trigger(event,data,cache[i].handle.elem,true)}}return }event.result=undefined;if(!event.target){event.target=elem}data=data!=null?jQuery.makeArray(data):[];data.unshift(event);special=jQuery.event.special[type]||{};if(special.trigger&&special.trigger.apply(elem,data)===false){return }eventPath=[[elem,special.bindType||type]];if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;cur=rfocusMorph.test(bubbleType+type)?elem:elem.parentNode;for(old=elem;cur;cur=cur.parentNode){eventPath.push([cur,bubbleType]);old=cur}if(old===(elem.ownerDocument||document)){eventPath.push([old.defaultView||old.parentWindow||window,bubbleType])}}for(i=0;i<eventPath.length&&!event.isPropagationStopped();i++){cur=eventPath[i][0];event.type=eventPath[i][1];handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle");if(handle){handle.apply(cur,data)}handle=ontype&&cur[ontype];if(handle&&jQuery.acceptData(cur)&&handle.apply&&handle.apply(cur,data)===false){event.preventDefault()}}event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(elem.ownerDocument,data)===false)&&!(type==="click"&&jQuery.nodeName(elem,"a"))&&jQuery.acceptData(elem)){if(ontype&&elem[type]&&((type!=="focus"&&type!=="blur")||event.target.offsetWidth!==0)&&!jQuery.isWindow(elem)){old=elem[ontype];if(old){elem[ontype]=null}jQuery.event.triggered=type;elem[type]();jQuery.event.triggered=undefined;if(old){elem[ontype]=old}}}}return event.result},dispatch:function(event){event=jQuery.event.fix(event||window.event);var i,j,cur,ret,selMatch,matched,matches,handleObj,sel,related,handlers=((jQuery._data(this,"events")||{})[event.type]||[]),delegateCount=handlers.delegateCount,args=core_slice.call(arguments),run_all=!event.exclusive&&!event.namespace,special=jQuery.event.special[event.type]||{},handlerQueue=[];args[0]=event;event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===false){return }if(delegateCount&&!(event.button&&event.type==="click")){for(cur=event.target;cur!=this;cur=cur.parentNode||this){if(cur.disabled!==true||event.type!=="click"){selMatch={};matches=[];for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector;if(selMatch[sel]===undefined){selMatch[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length}if(selMatch[sel]){matches.push(handleObj)}}if(matches.length){handlerQueue.push({elem:cur,matches:matches})}}}}if(handlers.length>delegateCount){handlerQueue.push({elem:this,matches:handlers.slice(delegateCount)})}for(i=0;i<handlerQueue.length&&!event.isPropagationStopped();i++){matched=handlerQueue[i];event.currentTarget=matched.elem;for(j=0;j<matched.matches.length&&!event.isImmediatePropagationStopped();j++){handleObj=matched.matches[j];if(run_all||(!event.namespace&&!handleObj.namespace)||event.namespace_re&&event.namespace_re.test(handleObj.namespace)){event.data=handleObj.data;event.handleObj=handleObj;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){event.result=ret;if(ret===false){event.preventDefault();event.stopPropagation()}}}}}if(special.postDispatch){special.postDispatch.call(this,event)}return event.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode}return event}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button,fromElement=original.fromElement;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.relatedTarget&&fromElement){event.relatedTarget=fromElement===event.target?original.toElement:fromElement}if(!event.which&&button!==undefined){event.which=(button&1?1:(button&2?3:(button&4?2:0)))}return event}},fix:function(event){if(event[jQuery.expando]){return event}var i,prop,originalEvent=event,fixHook=jQuery.event.fixHooks[event.type]||{},copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=jQuery.Event(originalEvent);for(i=copy.length;i;){prop=copy[--i];event[prop]=originalEvent[prop]}if(!event.target){event.target=originalEvent.srcElement||document}if(event.target.nodeType===3){event.target=event.target.parentNode}event.metaKey=!!event.metaKey;return fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(data,namespaces,eventHandle){if(jQuery.isWindow(this)){this.onbeforeunload=eventHandle}},teardown:function(namespaces,eventHandle){if(this.onbeforeunload===eventHandle){this.onbeforeunload=null}}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event(),event,{type:type,isSimulated:true,originalEvent:{}});if(bubble){jQuery.event.trigger(e,null,elem)}else{jQuery.event.dispatch.call(elem,e)}if(e.isDefaultPrevented()){event.preventDefault()}}};jQuery.event.handle=jQuery.event.dispatch;jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle,false)}}:function(elem,type,handle){var name="on"+type;if(elem.detachEvent){if(typeof elem[name]==="undefined"){elem[name]=null}elem.detachEvent(name,handle)}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props)}if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=(src.defaultPrevented||src.returnValue===false||src.getPreventDefault&&src.getPreventDefault())?returnTrue:returnFalse}else{this.type=src}if(props){jQuery.extend(this,props)}this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true};function returnFalse(){return false}function returnTrue(){return true}jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e){return }if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e){return }if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj,selector=handleObj.selector;if(!related||(related!==target&&!jQuery.contains(target,related))){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix}return ret}}});if(!jQuery.support.submitBubbles){jQuery.event.special.submit={setup:function(){if(jQuery.nodeName(this,"form")){return false}jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,"button")?elem.form:undefined;if(form&&!jQuery._data(form,"_submit_attached")){jQuery.event.add(form,"submit._submit",function(event){event._submit_bubble=true});jQuery._data(form,"_submit_attached",true)}})},postDispatch:function(event){if(event._submit_bubble){delete event._submit_bubble;if(this.parentNode&&!event.isTrigger){jQuery.event.simulate("submit",this.parentNode,event,true)}}},teardown:function(){if(jQuery.nodeName(this,"form")){return false}jQuery.event.remove(this,"._submit")}}}if(!jQuery.support.changeBubbles){jQuery.event.special.change={setup:function(){if(rformElems.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){jQuery.event.add(this,"propertychange._change",function(event){if(event.originalEvent.propertyName==="checked"){this._just_changed=true}});jQuery.event.add(this,"click._change",function(event){if(this._just_changed&&!event.isTrigger){this._just_changed=false}jQuery.event.simulate("change",this,event,true)})}return false}jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;if(rformElems.test(elem.nodeName)&&!jQuery._data(elem,"_change_attached")){jQuery.event.add(elem,"change._change",function(event){if(this.parentNode&&!event.isSimulated&&!event.isTrigger){jQuery.event.simulate("change",this.parentNode,event,true)}});jQuery._data(elem,"_change_attached",true)}})},handle:function(event){var elem=event.target;if(this!==elem||event.isSimulated||event.isTrigger||(elem.type!=="radio"&&elem.type!=="checkbox")){return event.handleObj.handler.apply(this,arguments)}},teardown:function(){jQuery.event.remove(this,"._change");return !rformElems.test(this.nodeName)}}}if(!jQuery.support.focusinBubbles){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var attaches=0,handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),true)};jQuery.event.special[fix]={setup:function(){if(attaches++===0){document.addEventListener(orig,handler,true)}},teardown:function(){if(--attaches===0){document.removeEventListener(orig,handler,true)}}}})}jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if(typeof types==="object"){if(typeof selector!=="string"){data=data||selector;selector=undefined}for(type in types){this.on(type,selector,data,types[type],one)}return this}if(data==null&&fn==null){fn=selector;data=selector=undefined}else{if(fn==null){if(typeof selector==="string"){fn=data;data=undefined}else{fn=data;data=selector;selector=undefined}}}if(fn===false){fn=returnFalse}else{if(!fn){return this}}if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments)};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)}return this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj){handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler);return this}if(typeof types==="object"){for(type in types){this.off(type,selector,types[type])}return this}if(selector===false||typeof selector==="function"){fn=selector;selector=undefined}if(fn===false){fn=returnFalse}return this.each(function(){jQuery.event.remove(this,types,fn,selector)})},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},live:function(types,data,fn){jQuery(this.context).on(types,this.selector,data,fn);return this},die:function(types,fn){jQuery(this.context).off(types,this.selector||"**",fn);return this},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return arguments.length===1?this.off(selector,"**"):this.off(types,selector||"**",fn)},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){if(this[0]){return jQuery.event.trigger(type,data,this[0],true)}},toggle:function(fn){var args=arguments,guid=fn.guid||jQuery.guid++,i=0,toggler=function(event){var lastToggle=(jQuery._data(this,"lastToggle"+fn.guid)||0)%i;jQuery._data(this,"lastToggle"+fn.guid,lastToggle+1);event.preventDefault();return args[lastToggle].apply(this,arguments)||false};toggler.guid=guid;while(i<args.length){args[i++].guid=guid}return this.click(toggler)},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}});jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){if(fn==null){fn=data;data=null}return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)};if(rkeyEvent.test(name)){jQuery.event.fixHooks[name]=jQuery.event.keyHooks}if(rmouseEvent.test(name)){jQuery.event.fixHooks[name]=jQuery.event.mouseHooks}});
/*
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
(function(window,undefined){var cachedruns,assertGetIdNotName,Expr,getText,isXML,contains,compile,sortOrder,hasDuplicate,outermostContext,baseHasDuplicate=true,strundefined="undefined",expando=("sizcache"+Math.random()).replace(".",""),Token=String,document=window.document,docElem=document.documentElement,dirruns=0,done=0,pop=[].pop,push=[].push,slice=[].slice,indexOf=[].indexOf||function(elem){var i=0,len=this.length;for(;i<len;i++){if(this[i]===elem){return i}}return -1},markFunction=function(fn,value){fn[expando]=value==null||value;return fn},createCache=function(){var cache={},keys=[];return markFunction(function(key,value){if(keys.push(key)>Expr.cacheLength){delete cache[keys.shift()]}return(cache[key+" "]=value)},cache)},classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),operators="([*^$|!~]?=)",attributes="\\["+whitespace+"*("+characterEncoding+")"+whitespace+"*(?:"+operators+whitespace+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+identifier+")|)|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+attributes+")|[^:]|\\\\.)*|.*))\\)|)",pos=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)",rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([\\x20\\t\\r\\n\\f>+~])"+whitespace+"*"),rpseudo=new RegExp(pseudos),rquickExpr=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,rnot=/^:not/,rsibling=/[\x20\t\r\n\f]*[+~]/,rendsWithNot=/:not\($/,rheader=/h\d/i,rinputs=/input|select|textarea|button/i,rbackslash=/\\(?!\\)/g,matchExpr={ID:new RegExp("^#("+characterEncoding+")"),CLASS:new RegExp("^\\.("+characterEncoding+")"),NAME:new RegExp("^\\[name=['\"]?("+characterEncoding+")['\"]?\\]"),TAG:new RegExp("^("+characterEncoding.replace("w","w*")+")"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),POS:new RegExp(pos,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|"+pos,"i")},assert=function(fn){var div=document.createElement("div");try{return fn(div)}catch(e){return false}finally{div=null}},assertTagNameNoComments=assert(function(div){div.appendChild(document.createComment(""));return !div.getElementsByTagName("*").length}),assertHrefNotNormalized=assert(function(div){div.innerHTML="<a href='#'></a>";return div.firstChild&&typeof div.firstChild.getAttribute!==strundefined&&div.firstChild.getAttribute("href")==="#"}),assertAttributes=assert(function(div){div.innerHTML="<select></select>";var type=typeof div.lastChild.getAttribute("multiple");return type!=="boolean"&&type!=="string"}),assertUsableClassName=assert(function(div){div.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!div.getElementsByClassName||!div.getElementsByClassName("e").length){return false}div.lastChild.className="e";return div.getElementsByClassName("e").length===2}),assertUsableName=assert(function(div){div.id=expando+0;div.innerHTML="<a name='"+expando+"'></a><div name='"+expando+"'></div>";docElem.insertBefore(div,docElem.firstChild);var pass=document.getElementsByName&&document.getElementsByName(expando).length===2+document.getElementsByName(expando+0).length;assertGetIdNotName=!document.getElementById(expando);docElem.removeChild(div);return pass});try{slice.call(docElem.childNodes,0)[0].nodeType}catch(e){slice=function(i){var elem,results=[];for(;(elem=this[i]);i++){results.push(elem)}return results}}function Sizzle(selector,context,results,seed){results=results||[];context=context||document;var match,elem,xml,m,nodeType=context.nodeType;if(!selector||typeof selector!=="string"){return results}if(nodeType!==1&&nodeType!==9){return[]}xml=isXML(context);if(!xml&&!seed){if((match=rquickExpr.exec(selector))){if((m=match[1])){if(nodeType===9){elem=context.getElementById(m);if(elem&&elem.parentNode){if(elem.id===m){results.push(elem);return results}}else{return results}}else{if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m){results.push(elem);return results}}}else{if(match[2]){push.apply(results,slice.call(context.getElementsByTagName(selector),0));return results}else{if((m=match[3])&&assertUsableClassName&&context.getElementsByClassName){push.apply(results,slice.call(context.getElementsByClassName(m),0));return results}}}}}return select(selector.replace(rtrim,"$1"),context,results,seed,xml)}Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)};Sizzle.matchesSelector=function(elem,expr){return Sizzle(expr,null,null,[elem]).length>0};function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[(j=matchIndexes[i])]){seed[j]=!(matches[j]=seed[j])}}})})}getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==="string"){return elem.textContent}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem)}}}else{if(nodeType===3||nodeType===4){return elem.nodeValue}}}else{for(;(node=elem[i]);i++){ret+=getText(node)}}return ret};isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=="HTML":false};contains=Sizzle.contains=docElem.contains?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&adown.contains&&adown.contains(bup))}:docElem.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){while((b=b.parentNode)){if(b===a){return true}}return false};Sizzle.attr=function(elem,name){var val,xml=isXML(elem);if(!xml){name=name.toLowerCase()}if((val=Expr.attrHandle[name])){return val(elem)}if(xml||assertAttributes){return elem.getAttribute(name)}val=elem.getAttributeNode(name);return val?typeof elem[name]==="boolean"?elem[name]?name:null:val.specified?val.value:null:null};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:assertHrefNotNormalized?{}:{href:function(elem){return elem.getAttribute("href",2)},type:function(elem){return elem.getAttribute("type")}},find:{ID:assertGetIdNotName?function(id,context,xml){if(typeof context.getElementById!==strundefined&&!xml){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}}:function(id,context,xml){if(typeof context.getElementById!==strundefined&&!xml){var m=context.getElementById(id);return m?m.id===id||typeof m.getAttributeNode!==strundefined&&m.getAttributeNode("id").value===id?[m]:undefined:[]}},TAG:assertTagNameNoComments?function(tag,context){if(typeof context.getElementsByTagName!==strundefined){return context.getElementsByTagName(tag)}}:function(tag,context){var results=context.getElementsByTagName(tag);if(tag==="*"){var elem,tmp=[],i=0;for(;(elem=results[i]);i++){if(elem.nodeType===1){tmp.push(elem)}}return tmp}return results},NAME:assertUsableName&&function(tag,context){if(typeof context.getElementsByName!==strundefined){return context.getElementsByName(name)}},CLASS:assertUsableClassName&&function(className,context,xml){if(typeof context.getElementsByClassName!==strundefined&&!xml){return context.getElementsByClassName(className)}}},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){match[1]=match[1].replace(rbackslash,"");match[3]=(match[4]||match[5]||"").replace(rbackslash,"");if(match[2]==="~="){match[3]=" "+match[3]+" "}return match.slice(0,4)},CHILD:function(match){match[1]=match[1].toLowerCase();if(match[1]==="nth"){if(!match[2]){Sizzle.error(match[0])}match[3]=+(match[3]?match[4]+(match[5]||1):2*(match[2]==="even"||match[2]==="odd"));match[4]=+((match[6]+match[7])||match[2]==="odd")}else{if(match[2]){Sizzle.error(match[0])}}return match},PSEUDO:function(match){var unquoted,excess;if(matchExpr.CHILD.test(match[0])){return null}if(match[3]){match[2]=match[3]}else{if((unquoted=match[4])){if(rpseudo.test(unquoted)&&(excess=tokenize(unquoted,true))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)){unquoted=unquoted.slice(0,excess);match[0]=match[0].slice(0,excess)}match[2]=unquoted}}return match.slice(0,3)}},filter:{ID:assertGetIdNotName?function(id){id=id.replace(rbackslash,"");return function(elem){return elem.getAttribute("id")===id}}:function(id){id=id.replace(rbackslash,"");return function(elem){var node=typeof elem.getAttributeNode!==strundefined&&elem.getAttributeNode("id");return node&&node.value===id}},TAG:function(nodeName){if(nodeName==="*"){return function(){return true}}nodeName=nodeName.replace(rbackslash,"").toLowerCase();return function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[expando][className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(elem.className||(typeof elem.getAttribute!==strundefined&&elem.getAttribute("class"))||"")})},ATTR:function(name,operator,check){return function(elem,context){var result=Sizzle.attr(elem,name);if(result==null){return operator==="!="}if(!operator){return true}result+="";return operator==="="?result===check:operator==="!="?result!==check:operator==="^="?check&&result.indexOf(check)===0:operator==="*="?check&&result.indexOf(check)>-1:operator==="$="?check&&result.substr(result.length-check.length)===check:operator==="~="?(" "+result+" ").indexOf(check)>-1:operator==="|="?result===check||result.substr(0,check.length+1)===check+"-":false}},CHILD:function(type,argument,first,last){if(type==="nth"){return function(elem){var node,diff,parent=elem.parentNode;if(first===1&&last===0){return true}if(parent){diff=0;for(node=parent.firstChild;node;node=node.nextSibling){if(node.nodeType===1){diff++;if(elem===node){break}}}}diff-=last;return diff===first||(diff%first===0&&diff/first>=0)}}return function(elem){var node=elem;switch(type){case"only":case"first":while((node=node.previousSibling)){if(node.nodeType===1){return false}}if(type==="first"){return true}node=elem;case"last":while((node=node.nextSibling)){if(node.nodeType===1){return false}}return true}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);if(fn[expando]){return fn(argument)}if(fn.length>1){args=[pseudo,pseudo,"",argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf.call(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i])}}):function(elem){return fn(elem,0,args)}}return fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if((elem=unmatched[i])){seed[i]=!(matches[i]=elem)}}}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);return !results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),enabled:function(elem){return elem.disabled===false},disabled:function(elem){return elem.disabled===true},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return(nodeName==="input"&&!!elem.checked)||(nodeName==="option"&&!!elem.selected)},selected:function(elem){if(elem.parentNode){elem.parentNode.selectedIndex}return elem.selected===true},parent:function(elem){return !Expr.pseudos.empty(elem)},empty:function(elem){var nodeType;elem=elem.firstChild;while(elem){if(elem.nodeName>"@"||(nodeType=elem.nodeType)===3||nodeType===4){return false}elem=elem.nextSibling}return true},header:function(elem){return rheader.test(elem.nodeName)},text:function(elem){var type,attr;return elem.nodeName.toLowerCase()==="input"&&(type=elem.type)==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()===type)},radio:createInputPseudo("radio"),checkbox:createInputPseudo("checkbox"),file:createInputPseudo("file"),password:createInputPseudo("password"),image:createInputPseudo("image"),submit:createButtonPseudo("submit"),reset:createButtonPseudo("reset"),button:function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button"},input:function(elem){return rinputs.test(elem.nodeName)},focus:function(elem){var doc=elem.ownerDocument;return elem===doc.activeElement&&(!doc.hasFocus||doc.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},active:function(elem){return elem===elem.ownerDocument.activeElement},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[argument<0?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;i<length;i+=2){matchIndexes.push(i)}return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;--i>=0;){matchIndexes.push(i)}return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=argument<0?argument+length:argument;++i<length;){matchIndexes.push(i)}return matchIndexes})}};function siblingCheck(a,b,ret){if(a===b){return ret}var cur=a.nextSibling;while(cur){if(cur===b){return -1}cur=cur.nextSibling}return 1}sortOrder=docElem.compareDocumentPosition?function(a,b){if(a===b){hasDuplicate=true;return 0}return(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1}:function(a,b){if(a===b){hasDuplicate=true;return 0}else{if(a.sourceIndex&&b.sourceIndex){return a.sourceIndex-b.sourceIndex}}var al,bl,ap=[],bp=[],aup=a.parentNode,bup=b.parentNode,cur=aup;if(aup===bup){return siblingCheck(a,b)}else{if(!aup){return -1}else{if(!bup){return 1}}}while(cur){ap.unshift(cur);cur=cur.parentNode}cur=bup;while(cur){bp.unshift(cur);cur=cur.parentNode}al=ap.length;bl=bp.length;for(var i=0;i<al&&i<bl;i++){if(ap[i]!==bp[i]){return siblingCheck(ap[i],bp[i])}}return i===al?siblingCheck(a,bp[i],-1):siblingCheck(ap[i],b,1)};[0,0].sort(sortOrder);baseHasDuplicate=!hasDuplicate;Sizzle.uniqueSort=function(results){var elem,duplicates=[],i=1,j=0;hasDuplicate=baseHasDuplicate;results.sort(sortOrder);if(hasDuplicate){for(;(elem=results[i]);i++){if(elem===results[i-1]){j=duplicates.push(i)}}while(j--){results.splice(duplicates[j],1)}}return results};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)};function tokenize(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[expando][selector+" "];if(cached){return parseOnly?0:cached.slice(0)}soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar}groups.push(tokens=[])}matched=false;if((match=rcombinators.exec(soFar))){tokens.push(matched=new Token(match.shift()));soFar=soFar.slice(matched.length);matched.type=match[0].replace(rtrim," ")}for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){tokens.push(matched=new Token(match.shift()));soFar=soFar.slice(matched.length);matched.type=type;matched.matches=match}}if(!matched){break}}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&combinator.dir==="parentNode",doneName=done++;return combinator.first?function(elem,context,xml){while((elem=elem[dir])){if(checkNonElements||elem.nodeType===1){return matcher(elem,context,xml)}}}:function(elem,context,xml){if(!xml){var cache,dirkey=dirruns+" "+doneName+" ",cachedkey=dirkey+cachedruns;while((elem=elem[dir])){if(checkNonElements||elem.nodeType===1){if((cache=elem[expando])===cachedkey){return elem.sizset}else{if(typeof cache==="string"&&cache.indexOf(dirkey)===0){if(elem.sizset){return elem}}else{elem[expando]=cachedkey;if(matcher(elem,context,xml)){elem.sizset=true;return elem}elem.sizset=false}}}}}else{while((elem=elem[dir])){if(checkNonElements||elem.nodeType===1){if(matcher(elem,context,xml)){return elem}}}}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return false}}return true}:matchers[0]}function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if((elem=unmatched[i])){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i)}}}}return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter)}if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector)}return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher){matcher(matcherIn,matcherOut,context,xml)}if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if((elem=temp[i])){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem)}}}if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if((elem=matcherOut[i])){temp.push((matcherIn[i]=elem))}}postFinder(null,(matcherOut=[]),temp,xml)}i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf.call(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem)}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml)}else{push.apply(results,matcherOut)}}})}function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,true),matchAnyContext=addCombinator(function(elem){return indexOf.call(checkContext,elem)>-1},implicitRelative,true),matchers=[function(elem,context,xml){return(!leadingRelative&&(xml||context!==outermostContext))||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml))}];for(;i<len;i++){if((matcher=Expr.relative[tokens[i].type])){matchers=[addCombinator(elementMatcher(matchers),matcher)]}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break}}return setMatcher(i>1&&elementMatcher(matchers),i>1&&tokens.slice(0,i-1).join("").replace(rtrim,"$1"),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens((tokens=tokens.slice(j))),j<len&&tokens.join(""))}matchers.push(matcher)}}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,expandContext){var elem,j,matcher,setMatched=[],matchedCount=0,i="0",unmatched=seed&&[],outermost=expandContext!=null,contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",expandContext&&context.parentNode||context),dirrunsUnique=(dirruns+=contextBackup==null?1:Math.E);if(outermost){outermostContext=context!==document&&context;cachedruns=superMatcher.el}for(;(elem=elems[i])!=null;i++){if(byElement&&elem){for(j=0;(matcher=elementMatchers[j]);j++){if(matcher(elem,context,xml)){results.push(elem);break}}if(outermost){dirruns=dirrunsUnique;cachedruns=++superMatcher.el}}if(bySet){if((elem=!matcher&&elem)){matchedCount--}if(seed){unmatched.push(elem)}}}matchedCount+=i;if(bySet&&i!==matchedCount){for(j=0;(matcher=setMatchers[j]);j++){matcher(unmatched,setMatched,context,xml)}if(seed){if(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results)}}}setMatched=condense(setMatched)}push.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&(matchedCount+setMatchers.length)>1){Sizzle.uniqueSort(results)}}if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup}return unmatched};superMatcher.el=0;return bySet?markFunction(superMatcher):superMatcher}compile=Sizzle.compile=function(selector,group){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[expando][selector+" "];if(!cached){if(!group){group=tokenize(selector)}i=group.length;while(i--){cached=matcherFromTokens(group[i]);if(cached[expando]){setMatchers.push(cached)}else{elementMatchers.push(cached)}}cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers))}return cached};function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results)}return results}function select(selector,context,results,seed,xml){var i,tokens,token,type,find,match=tokenize(selector),j=match.length;if(!seed){if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==="ID"&&context.nodeType===9&&!xml&&Expr.relative[tokens[1].type]){context=Expr.find.ID(token.matches[0].replace(rbackslash,""),context,xml)[0];if(!context){return results}selector=selector.slice(tokens.shift().length)}for(i=matchExpr.POS.test(selector)?-1:tokens.length-1;i>=0;i--){token=tokens[i];if(Expr.relative[(type=token.type)]){break}if((find=Expr.find[type])){if((seed=find(token.matches[0].replace(rbackslash,""),rsibling.test(tokens[0].type)&&context.parentNode||context,xml))){tokens.splice(i,1);selector=seed.length&&tokens.join("");if(!selector){push.apply(results,slice.call(seed,0));return results}break}}}}}compile(selector,match)(seed,context,xml,results,rsibling.test(selector));return results}if(document.querySelectorAll){(function(){var disconnectedMatch,oldSelect=select,rescape=/'|\\/g,rattributeQuotes=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,rbuggyQSA=[":focus"],rbuggyMatches=[":active"],matches=docElem.matchesSelector||docElem.mozMatchesSelector||docElem.webkitMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector;assert(function(div){div.innerHTML="<select><option selected=''></option></select>";if(!div.querySelectorAll("[selected]").length){rbuggyQSA.push("\\["+whitespace+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!div.querySelectorAll(":checked").length){rbuggyQSA.push(":checked")}});assert(function(div){div.innerHTML="<p test=''></p>";if(div.querySelectorAll("[test^='']").length){rbuggyQSA.push("[*^$]="+whitespace+"*(?:\"\"|'')")}div.innerHTML="<input type='hidden'/>";if(!div.querySelectorAll(":enabled").length){rbuggyQSA.push(":enabled",":disabled")}});rbuggyQSA=new RegExp(rbuggyQSA.join("|"));select=function(selector,context,results,seed,xml){if(!seed&&!xml&&!rbuggyQSA.test(selector)){var groups,i,old=true,nid=expando,newContext=context,newSelector=context.nodeType===9&&selector;if(context.nodeType===1&&context.nodeName.toLowerCase()!=="object"){groups=tokenize(selector);if((old=context.getAttribute("id"))){nid=old.replace(rescape,"\\$&")}else{context.setAttribute("id",nid)}nid="[id='"+nid+"'] ";i=groups.length;while(i--){groups[i]=nid+groups[i].join("")}newContext=rsibling.test(selector)&&context.parentNode||context;newSelector=groups.join(",")}if(newSelector){try{push.apply(results,slice.call(newContext.querySelectorAll(newSelector),0));return results}catch(qsaError){}finally{if(!old){context.removeAttribute("id")}}}}return oldSelect(selector,context,results,seed,xml)};if(matches){assert(function(div){disconnectedMatch=matches.call(div,"div");try{matches.call(div,"[test!='']:sizzle");rbuggyMatches.push("!=",pseudos)}catch(e){}});rbuggyMatches=new RegExp(rbuggyMatches.join("|"));Sizzle.matchesSelector=function(elem,expr){expr=expr.replace(rattributeQuotes,"='$1']");if(!isXML(elem)&&!rbuggyMatches.test(expr)&&!rbuggyQSA.test(expr)){try{var ret=matches.call(elem,expr);if(ret||disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret}}catch(e){}}return Sizzle(expr,null,null,[elem]).length>0}}})()}Expr.pseudos.nth=Expr.pseudos.eq;function setFilters(){}Expr.filters=setFilters.prototype=Expr.pseudos;Expr.setFilters=new setFilters();Sizzle.attr=jQuery.attr;jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.pseudos;jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains})(window);var runtil=/Until$/,rparentsprev=/^(?:parents|prev(?:Until|All))/,isSimple=/^.[^:#\[\.,]*$/,rneedsContext=jQuery.expr.match.needsContext,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.fn.extend({find:function(selector){var i,l,length,n,r,ret,self=this;if(typeof selector!=="string"){return jQuery(selector).filter(function(){for(i=0,l=self.length;i<l;i++){if(jQuery.contains(self[i],this)){return true}}})}ret=this.pushStack("","find",selector);for(i=0,l=this.length;i<l;i++){length=ret.length;jQuery.find(selector,this[i],ret);if(i>0){for(n=length;n<ret.length;n++){for(r=0;r<length;r++){if(ret[r]===ret[n]){ret.splice(n--,1);break}}}}}return ret},has:function(target){var i,targets=jQuery(target,this),len=targets.length;return this.filter(function(){for(i=0;i<len;i++){if(jQuery.contains(this,targets[i])){return true}}})},not:function(selector){return this.pushStack(winnow(this,selector,false),"not",selector)},filter:function(selector){return this.pushStack(winnow(this,selector,true),"filter",selector)},is:function(selector){return !!selector&&(typeof selector==="string"?rneedsContext.test(selector)?jQuery(selector,this.context).index(this[0])>=0:jQuery.filter(selector,this).length>0:this.filter(selector).length>0)},closest:function(selectors,context){var cur,i=0,l=this.length,ret=[],pos=rneedsContext.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;for(;i<l;i++){cur=this[i];while(cur&&cur.ownerDocument&&cur!==context&&cur.nodeType!==11){if(pos?pos.index(cur)>-1:jQuery.find.matchesSelector(cur,selectors)){ret.push(cur);break}cur=cur.parentNode}}ret=ret.length>1?jQuery.unique(ret):ret;return this.pushStack(ret,"closest",selectors)},index:function(elem){if(!elem){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1}if(typeof elem==="string"){return jQuery.inArray(this[0],jQuery(elem))}return jQuery.inArray(elem.jquery?elem[0]:elem,this)},add:function(selector,context){var set=typeof selector==="string"?jQuery(selector,context):jQuery.makeArray(selector&&selector.nodeType?[selector]:selector),all=jQuery.merge(this.get(),set);return this.pushStack(isDisconnected(set[0])||isDisconnected(all[0])?all:jQuery.unique(all))},addBack:function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector))}});jQuery.fn.andSelf=jQuery.fn.addBack;function isDisconnected(node){return !node||!node.parentNode||node.parentNode.nodeType===11}function sibling(cur,dir){do{cur=cur[dir]}while(cur&&cur.nodeType!==1);return cur}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(!runtil.test(name)){selector=until}if(selector&&typeof selector==="string"){ret=jQuery.filter(selector,ret)}ret=this.length>1&&!guaranteedUnique[name]?jQuery.unique(ret):ret;if(this.length>1&&rparentsprev.test(name)){ret=ret.reverse()}return this.pushStack(ret,name,core_slice.call(arguments).join(","))}});jQuery.extend({filter:function(expr,elems,not){if(not){expr=":not("+expr+")"}return elems.length===1?jQuery.find.matchesSelector(elems[0],expr)?[elems[0]]:[]:jQuery.find.matches(expr,elems)},dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==9&&(until===undefined||cur.nodeType!==1||!jQuery(cur).is(until))){if(cur.nodeType===1){matched.push(cur)}cur=cur[dir]}return matched},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){r.push(n)}}return r}});function winnow(elements,qualifier,keep){qualifier=qualifier||0;if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){var retVal=!!qualifier.call(elem,i,elem);return retVal===keep})}else{if(qualifier.nodeType){return jQuery.grep(elements,function(elem,i){return(elem===qualifier)===keep})}else{if(typeof qualifier==="string"){var filtered=jQuery.grep(elements,function(elem){return elem.nodeType===1});if(isSimple.test(qualifier)){return jQuery.filter(qualifier,filtered,!keep)}else{qualifier=jQuery.filter(qualifier,filtered)}}}}return jQuery.grep(elements,function(elem,i){return(jQuery.inArray(elem,qualifier)>=0)===keep})}function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement){while(list.length){safeFrag.createElement(list.pop())}}return safeFrag}var nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:null|\d+)"/g,rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rnocache=/<(?:script|object|embed|option|style)/i,rnoshimcache=new RegExp("<(?:"+nodeNames+")[\\s/>]","i"),rcheckableType=/^(?:checkbox|radio)$/,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/\/(java|ecma)script/i,rcleanScript=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},safeFragment=createSafeFragment(document),fragmentDiv=safeFragment.appendChild(document.createElement("div"));wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;if(!jQuery.support.htmlSerialize){wrapMap._default=[1,"X<div>","</div>"]}jQuery.fn.extend({text:function(value){return jQuery.access(this,function(value){return value===undefined?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value))},null,value,arguments.length)},wrapAll:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))})}if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0])}wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1){elem=elem.firstChild}return elem}).append(this)}return this},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))})}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else{self.append(html)}})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1||this.nodeType===11){this.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1||this.nodeType===11){this.insertBefore(elem,this.firstChild)}})},before:function(){if(!isDisconnected(this[0])){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this)})}if(arguments.length){var set=jQuery.clean(arguments);return this.pushStack(jQuery.merge(set,this),"before",this.selector)}},after:function(){if(!isDisconnected(this[0])){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this.nextSibling)})}if(arguments.length){var set=jQuery.clean(arguments);return this.pushStack(jQuery.merge(this,set),"after",this.selector)}},remove:function(selector,keepData){var elem,i=0;for(;(elem=this[i])!=null;i++){if(!selector||jQuery.filter(selector,[elem]).length){if(!keepData&&elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));jQuery.cleanData([elem])}if(elem.parentNode){elem.parentNode.removeChild(elem)}}}return this},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"))}while(elem.firstChild){elem.removeChild(elem.firstChild)}}return this},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return jQuery.access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined){return elem.nodeType===1?elem.innerHTML.replace(rinlinejQuery,""):undefined}if(typeof value==="string"&&!rnoInnerhtml.test(value)&&(jQuery.support.htmlSerialize||!rnoshimcache.test(value))&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));elem.innerHTML=value}}elem=0}catch(e){}}if(elem){this.empty().append(value)}},null,value,arguments.length)},replaceWith:function(value){if(!isDisconnected(this[0])){if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this),old=self.html();self.replaceWith(value.call(this,i,old))})}if(typeof value!=="string"){value=jQuery(value).detach()}return this.each(function(){var next=this.nextSibling,parent=this.parentNode;jQuery(this).remove();if(next){jQuery(next).before(value)}else{jQuery(parent).append(value)}})}return this.length?this.pushStack(jQuery(jQuery.isFunction(value)?value():value),"replaceWith",value):this},detach:function(selector){return this.remove(selector,true)},domManip:function(args,table,callback){args=[].concat.apply([],args);var results,first,fragment,iNoClone,i=0,value=args[0],scripts=[],l=this.length;if(!jQuery.support.checkClone&&l>1&&typeof value==="string"&&rchecked.test(value)){return this.each(function(){jQuery(this).domManip(args,table,callback)})}if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);args[0]=value.call(this,i,table?self.html():undefined);self.domManip(args,table,callback)})}if(this[0]){results=jQuery.buildFragment(args,this,scripts);fragment=results.fragment;first=fragment.firstChild;if(fragment.childNodes.length===1){fragment=first}if(first){table=table&&jQuery.nodeName(first,"tr");for(iNoClone=results.cacheable||l-1;i<l;i++){callback.call(table&&jQuery.nodeName(this[i],"table")?findOrAppend(this[i],"tbody"):this[i],i===iNoClone?fragment:jQuery.clone(fragment,true,true))}}fragment=first=null;if(scripts.length){jQuery.each(scripts,function(i,elem){if(elem.src){if(jQuery.ajax){jQuery.ajax({url:elem.src,type:"GET",dataType:"script",async:false,global:false,"throws":true})}else{jQuery.error("no ajax")}}else{jQuery.globalEval((elem.text||elem.textContent||elem.innerHTML||"").replace(rcleanScript,""))}if(elem.parentNode){elem.parentNode.removeChild(elem)}})}}return this}});function findOrAppend(elem,tag){return elem.getElementsByTagName(tag)[0]||elem.appendChild(elem.ownerDocument.createElement(tag))}function cloneCopyEvent(src,dest){if(dest.nodeType!==1||!jQuery.hasData(src)){return }var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events){delete curData.handle;curData.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type,events[type][i])}}}if(curData.data){curData.data=jQuery.extend({},curData.data)}}function cloneFixAttributes(src,dest){var nodeName;if(dest.nodeType!==1){return }if(dest.clearAttributes){dest.clearAttributes()}if(dest.mergeAttributes){dest.mergeAttributes(src)}nodeName=dest.nodeName.toLowerCase();if(nodeName==="object"){if(dest.parentNode){dest.outerHTML=src.outerHTML}if(jQuery.support.html5Clone&&(src.innerHTML&&!jQuery.trim(dest.innerHTML))){dest.innerHTML=src.innerHTML}}else{if(nodeName==="input"&&rcheckableType.test(src.type)){dest.defaultChecked=dest.checked=src.checked;if(dest.value!==src.value){dest.value=src.value}}else{if(nodeName==="option"){dest.selected=src.defaultSelected}else{if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue}else{if(nodeName==="script"&&dest.text!==src.text){dest.text=src.text}}}}}dest.removeAttribute(jQuery.expando)}jQuery.buildFragment=function(args,context,scripts){var fragment,cacheable,cachehit,first=args[0];context=context||document;context=!context.nodeType&&context[0]||context;context=context.ownerDocument||context;if(args.length===1&&typeof first==="string"&&first.length<512&&context===document&&first.charAt(0)==="<"&&!rnocache.test(first)&&(jQuery.support.checkClone||!rchecked.test(first))&&(jQuery.support.html5Clone||!rnoshimcache.test(first))){cacheable=true;fragment=jQuery.fragments[first];cachehit=fragment!==undefined}if(!fragment){fragment=context.createDocumentFragment();jQuery.clean(args,context,fragment,scripts);if(cacheable){jQuery.fragments[first]=cachehit&&fragment}}return{fragment:fragment,cacheable:cacheable}};jQuery.fragments={};jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var elems,i=0,ret=[],insert=jQuery(selector),l=insert.length,parent=this.length===1&&this[0].parentNode;if((parent==null||parent&&parent.nodeType===11&&parent.childNodes.length===1)&&l===1){insert[original](this[0]);return this}else{for(;i<l;i++){elems=(i>0?this.clone(true):this).get();jQuery(insert[i])[original](elems);ret=ret.concat(elems)}return this.pushStack(ret,name,insert.selector)}}});function getAll(elem){if(typeof elem.getElementsByTagName!=="undefined"){return elem.getElementsByTagName("*")}else{if(typeof elem.querySelectorAll!=="undefined"){return elem.querySelectorAll("*")}else{return[]}}}function fixDefaultChecked(elem){if(rcheckableType.test(elem.type)){elem.defaultChecked=elem.checked}}jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var srcElements,destElements,i,clone;if(jQuery.support.html5Clone||jQuery.isXMLDoc(elem)||!rnoshimcache.test("<"+elem.nodeName+">")){clone=elem.cloneNode(true)}else{fragmentDiv.innerHTML=elem.outerHTML;fragmentDiv.removeChild(clone=fragmentDiv.firstChild)}if((!jQuery.support.noCloneEvent||!jQuery.support.noCloneChecked)&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){cloneFixAttributes(elem,clone);srcElements=getAll(elem);destElements=getAll(clone);for(i=0;srcElements[i];++i){if(destElements[i]){cloneFixAttributes(srcElements[i],destElements[i])}}}if(dataAndEvents){cloneCopyEvent(elem,clone);if(deepDataAndEvents){srcElements=getAll(elem);destElements=getAll(clone);for(i=0;srcElements[i];++i){cloneCopyEvent(srcElements[i],destElements[i])}}}srcElements=destElements=null;return clone},clean:function(elems,context,fragment,scripts){var i,j,elem,tag,wrap,depth,div,hasBody,tbody,len,handleScript,jsTags,safe=context===document&&safeFragment,ret=[];if(!context||typeof context.createDocumentFragment==="undefined"){context=document}for(i=0;(elem=elems[i])!=null;i++){if(typeof elem==="number"){elem+=""}if(!elem){continue}if(typeof elem==="string"){if(!rhtml.test(elem)){elem=context.createTextNode(elem)}else{safe=safe||createSafeFragment(context);div=context.createElement("div");safe.appendChild(div);elem=elem.replace(rxhtmlTag,"<$1></$2>");tag=(rtagName.exec(elem)||["",""])[1].toLowerCase();wrap=wrapMap[tag]||wrapMap._default;depth=wrap[0];div.innerHTML=wrap[1]+elem+wrap[2];while(depth--){div=div.lastChild}if(!jQuery.support.tbody){hasBody=rtbody.test(elem);tbody=tag==="table"&&!hasBody?div.firstChild&&div.firstChild.childNodes:wrap[1]==="<table>"&&!hasBody?div.childNodes:[];for(j=tbody.length-1;j>=0;--j){if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length){tbody[j].parentNode.removeChild(tbody[j])}}}if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)){div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]),div.firstChild)}elem=div.childNodes;div.parentNode.removeChild(div)}}if(elem.nodeType){ret.push(elem)}else{jQuery.merge(ret,elem)}}if(div){elem=div=safe=null}if(!jQuery.support.appendChecked){for(i=0;(elem=ret[i])!=null;i++){if(jQuery.nodeName(elem,"input")){fixDefaultChecked(elem)}else{if(typeof elem.getElementsByTagName!=="undefined"){jQuery.grep(elem.getElementsByTagName("input"),fixDefaultChecked)}}}}if(fragment){handleScript=function(elem){if(!elem.type||rscriptType.test(elem.type)){return scripts?scripts.push(elem.parentNode?elem.parentNode.removeChild(elem):elem):fragment.appendChild(elem)}};for(i=0;(elem=ret[i])!=null;i++){if(!(jQuery.nodeName(elem,"script")&&handleScript(elem))){fragment.appendChild(elem);if(typeof elem.getElementsByTagName!=="undefined"){jsTags=jQuery.grep(jQuery.merge([],elem.getElementsByTagName("script")),handleScript);ret.splice.apply(ret,[i+1,0].concat(jsTags));i+=jsTags.length}}}}return ret},cleanData:function(elems,acceptData){var data,id,elem,type,i=0,internalKey=jQuery.expando,cache=jQuery.cache,deleteExpando=jQuery.support.deleteExpando,special=jQuery.event.special;for(;(elem=elems[i])!=null;i++){if(acceptData||jQuery.acceptData(elem)){id=elem[internalKey];data=id&&cache[id];if(data){if(data.events){for(type in data.events){if(special[type]){jQuery.event.remove(elem,type)}else{jQuery.removeEvent(elem,type,data.handle)}}}if(cache[id]){delete cache[id];if(deleteExpando){delete elem[internalKey]}else{if(elem.removeAttribute){elem.removeAttribute(internalKey)}else{elem[internalKey]=null}}jQuery.deletedIds.push(id)}}}}}});(function(){var matched,browser;jQuery.uaMatch=function(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||/(trident)[ \/](?:.*? rv:([\w.]+)|)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];if(match[1]=="trident"){match[1]="msie"}return{browser:match[1]||"",version:match[2]||"0"}};matched=jQuery.uaMatch(navigator.userAgent);browser={};if(matched.browser){browser[matched.browser]=true;browser.version=matched.version}if(browser.chrome){browser.webkit=true}else{if(browser.webkit){browser.safari=true}}jQuery.browser=browser;jQuery.sub=function(){function jQuerySub(selector,context){return new jQuerySub.fn.init(selector,context)}jQuery.extend(true,jQuerySub,this);jQuerySub.superclass=this;jQuerySub.fn=jQuerySub.prototype=this();jQuerySub.fn.constructor=jQuerySub;jQuerySub.sub=this.sub;jQuerySub.fn.init=function init(selector,context){if(context&&context instanceof jQuery&&!(context instanceof jQuerySub)){context=jQuerySub(context)}return jQuery.fn.init.call(this,selector,context,rootjQuerySub)};jQuerySub.fn.init.prototype=jQuerySub.fn;var rootjQuerySub=jQuerySub(document);return jQuerySub}})();var curCSS,iframe,iframeDoc,ralpha=/alpha\([^)]*\)/i,ropacity=/opacity=([^)]*)/,rposition=/^(top|right|bottom|left)$/,rdisplayswap=/^(none|table(?!-c[ea]).+)/,rmargin=/^margin/,rnumsplit=new RegExp("^("+core_pnum+")(.*)$","i"),rnumnonpx=new RegExp("^("+core_pnum+")(?!px)[a-z%]+$","i"),rrelNum=new RegExp("^([-+])=("+core_pnum+")","i"),elemdisplay={BODY:"block"},cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssExpand=["Top","Right","Bottom","Left"],cssPrefixes=["Webkit","O","Moz","ms"],eventsToggle=jQuery.fn.toggle;function vendorPropName(style,name){if(name in style){return name}var capName=name.charAt(0).toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;while(i--){name=cssPrefixes[i]+capName;if(name in style){return name}}return origName}function isHidden(elem,el){elem=el||elem;return jQuery.css(elem,"display")==="none"||!jQuery.contains(elem.ownerDocument,elem)}function showHide(elements,show){var elem,display,values=[],index=0,length=elements.length;for(;index<length;index++){elem=elements[index];if(!elem.style){continue}values[index]=jQuery._data(elem,"olddisplay");if(show){if(!values[index]&&elem.style.display==="none"){elem.style.display=""}if(elem.style.display===""&&isHidden(elem)){values[index]=jQuery._data(elem,"olddisplay",css_defaultDisplay(elem.nodeName))}}else{display=curCSS(elem,"display");if(!values[index]&&display!=="none"){jQuery._data(elem,"olddisplay",display)}}}for(index=0;index<length;index++){elem=elements[index];if(!elem.style){continue}if(!show||elem.style.display==="none"||elem.style.display===""){elem.style.display=show?values[index]||"":"none"}}return elements}jQuery.fn.extend({css:function(name,value){return jQuery.access(this,function(elem,name,value){return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,true)},hide:function(){return showHide(this)},toggle:function(state,fn2){var bool=typeof state==="boolean";if(jQuery.isFunction(state)&&jQuery.isFunction(fn2)){return eventsToggle.apply(this,arguments)}return this.each(function(){if(bool?state:isHidden(this)){jQuery(this).show()}else{jQuery(this).hide()}})}});jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return }var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rrelNum.exec(value))){value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name));type="number"}if(value==null||type==="number"&&isNaN(value)){return }if(type==="number"&&!jQuery.cssNumber[origName]){value+="px"}if(!hooks||!("set" in hooks)||(value=hooks.set(elem,value,extra))!==undefined){try{style[name]=value}catch(e){}}}else{if(hooks&&"get" in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret}return style[name]}},css:function(elem,name,numeric,extra){var val,num,hooks,origName=jQuery.camelCase(name);name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName));hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName];if(hooks&&"get" in hooks){val=hooks.get(elem,true,extra)}if(val===undefined){val=curCSS(elem,name)}if(val==="normal"&&name in cssNormalTransform){val=cssNormalTransform[name]}if(numeric||extra!==undefined){num=parseFloat(val);return numeric||jQuery.isNumeric(num)?num||0:val}return val},swap:function(elem,options,callback){var ret,name,old={};for(name in options){old[name]=elem.style[name];elem.style[name]=options[name]}ret=callback.call(elem);for(name in options){elem.style[name]=old[name]}return ret}});if(window.getComputedStyle){curCSS=function(elem,name){var ret,width,minWidth,maxWidth,computed=window.getComputedStyle(elem,null),style=elem.style;if(computed){ret=computed.getPropertyValue(name)||computed[name];if(ret===""&&!jQuery.contains(elem.ownerDocument,elem)){ret=jQuery.style(elem,name)}if(rnumnonpx.test(ret)&&rmargin.test(name)){width=style.width;minWidth=style.minWidth;maxWidth=style.maxWidth;style.minWidth=style.maxWidth=style.width=ret;ret=computed.width;style.width=width;style.minWidth=minWidth;style.maxWidth=maxWidth}}return ret}}else{if(document.documentElement.currentStyle){curCSS=function(elem,name){var left,rsLeft,ret=elem.currentStyle&&elem.currentStyle[name],style=elem.style;if(ret==null&&style&&style[name]){ret=style[name]}if(rnumnonpx.test(ret)&&!rposition.test(name)){left=style.left;rsLeft=elem.runtimeStyle&&elem.runtimeStyle.left;if(rsLeft){elem.runtimeStyle.left=elem.currentStyle.left}style.left=name==="fontSize"?"1em":ret;ret=style.pixelLeft+"px";style.left=left;if(rsLeft){elem.runtimeStyle.left=rsLeft}}return ret===""?"auto":ret}}}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox){var i=extra===(isBorderBox?"border":"content")?4:name==="width"?1:0,val=0;for(;i<4;i+=2){if(extra==="margin"){val+=jQuery.css(elem,extra+cssExpand[i],true)}if(isBorderBox){if(extra==="content"){val-=parseFloat(curCSS(elem,"padding"+cssExpand[i]))||0}if(extra!=="margin"){val-=parseFloat(curCSS(elem,"border"+cssExpand[i]+"Width"))||0}}else{val+=parseFloat(curCSS(elem,"padding"+cssExpand[i]))||0;if(extra!=="padding"){val+=parseFloat(curCSS(elem,"border"+cssExpand[i]+"Width"))||0}}}return val}function getWidthOrHeight(elem,name,extra){var val=name==="width"?elem.offsetWidth:elem.offsetHeight,valueIsBorderBox=true,isBorderBox=jQuery.support.boxSizing&&jQuery.css(elem,"boxSizing")==="border-box";if(val<=0||val==null){val=curCSS(elem,name);if(val<0||val==null){val=elem.style[name]}if(rnumnonpx.test(val)){return val}valueIsBorderBox=isBorderBox&&(jQuery.support.boxSizingReliable||val===elem.style[name]);val=parseFloat(val)||0}return(val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox))+"px"}function css_defaultDisplay(nodeName){if(elemdisplay[nodeName]){return elemdisplay[nodeName]}var elem=jQuery("<"+nodeName+">").appendTo(document.body),display=elem.css("display");elem.remove();if(display==="none"||display===""){iframe=document.body.appendChild(iframe||jQuery.extend(document.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!iframeDoc||!iframe.createElement){iframeDoc=(iframe.contentWindow||iframe.contentDocument).document;iframeDoc.write("<!doctype html><html><body>");iframeDoc.close()}elem=iframeDoc.body.appendChild(iframeDoc.createElement(nodeName));display=curCSS(elem,"display");document.body.removeChild(iframe)}elemdisplay[nodeName]=display;return display}jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed){if(elem.offsetWidth===0&&rdisplayswap.test(curCSS(elem,"display"))){return jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)})}else{return getWidthOrHeight(elem,name,extra)}}},set:function(elem,value,extra){return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,jQuery.support.boxSizing&&jQuery.css(elem,"boxSizing")==="border-box"):0)}}});if(!jQuery.support.opacity){jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":computed?"1":""},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+value*100+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";style.zoom=1;if(value>=1&&jQuery.trim(filter.replace(ralpha,""))===""&&style.removeAttribute){style.removeAttribute("filter");if(currentStyle&&!currentStyle.filter){return }}style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity}}}jQuery(function(){if(!jQuery.support.reliableMarginRight){jQuery.cssHooks.marginRight={get:function(elem,computed){return jQuery.swap(elem,{display:"inline-block"},function(){if(computed){return curCSS(elem,"marginRight")}})}}}if(!jQuery.support.pixelPosition&&jQuery.fn.position){jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]={get:function(elem,computed){if(computed){var ret=curCSS(elem,prop);return rnumnonpx.test(ret)?jQuery(elem).position()[prop]+"px":ret}}}})}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.hidden=function(elem){return(elem.offsetWidth===0&&elem.offsetHeight===0)||(!jQuery.support.reliableHiddenOffsets&&((elem.style&&elem.style.display)||curCSS(elem,"display"))==="none")};jQuery.expr.filters.visible=function(elem){return !jQuery.expr.filters.hidden(elem)}}jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i,parts=typeof value==="string"?value.split(" "):[value],expanded={};for(i=0;i<4;i++){expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0]}return expanded}};if(!rmargin.test(prefix)){jQuery.cssHooks[prefix+suffix].set=setPositiveNumber}});var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rinput=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,rselectTextarea=/^(?:select|textarea)/i;jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||rselectTextarea.test(this.nodeName)||rinput.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val,i){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}});jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():(value==null?"":value);s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined){traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional}if(jQuery.isArray(a)||(a.jquery&&!jQuery.isPlainObject(a))){jQuery.each(a,function(){add(this.name,this.value)})}else{for(prefix in a){buildParams(prefix,a[prefix],traditional,add)}}return s.join("&").replace(r20,"+")};function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v)}else{buildParams(prefix+"["+(typeof v==="object"?i:"")+"]",v,traditional,add)}})}else{if(!traditional&&jQuery.type(obj)==="object"){for(name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add)}}else{add(prefix,obj)}}}var ajaxLocParts,ajaxLocation,rhash=/#.*$/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,rlocalProtocol=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rquery=/\?/,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,rts=/([?&])_=[^&]*/,rurl=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,_load=jQuery.fn.load,prefilters={},transports={},allTypes=["*/"]+["*"];try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a");ajaxLocation.href="";ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*"}var dataType,list,placeBefore,dataTypes=dataTypeExpression.toLowerCase().split(core_rspace),i=0,length=dataTypes.length;if(jQuery.isFunction(func)){for(;i<length;i++){dataType=dataTypes[i];placeBefore=/^\+/.test(dataType);if(placeBefore){dataType=dataType.substr(1)||"*"}list=structure[dataType]=structure[dataType]||[];list[placeBefore?"unshift":"push"](func)}}}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,dataType,inspected){dataType=dataType||options.dataTypes[0];inspected=inspected||{};inspected[dataType]=true;var selection,list=structure[dataType],i=0,length=list?list.length:0,executeOnly=(structure===prefilters);for(;i<length&&(executeOnly||!selection);i++){selection=list[i](options,originalOptions,jqXHR);if(typeof selection==="string"){if(!executeOnly||inspected[selection]){selection=undefined}else{options.dataTypes.unshift(selection);selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,selection,inspected)}}}if((executeOnly||!selection)&&!inspected["*"]){selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,"*",inspected)}return selection}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:(deep||(deep={})))[key]=src[key]}}if(deep){jQuery.extend(true,target,deep)}}jQuery.fn.load=function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments)}if(!this.length){return this}var selector,type,response,self=this,off=url.indexOf(" ");if(off>=0){selector=url.slice(off,url.length);url=url.slice(0,off)}if(jQuery.isFunction(params)){callback=params;params=undefined}else{if(params&&typeof params==="object"){type="POST"}}jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(jqXHR,status){if(callback){self.each(callback,response||[jqXHR.responseText,status,jqXHR])}}}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(responseText.replace(rscript,"")).find(selector):responseText)});return this};jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(i,o){jQuery.fn[o]=function(f){return this.on(o,f)}});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined}return jQuery.ajax({type:method,url:url,data:data,success:callback,dataType:type})}});jQuery.extend({getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},ajaxSetup:function(target,settings){if(settings){ajaxExtend(target,jQuery.ajaxSettings)}else{settings=target;target=jQuery.ajaxSettings}ajaxExtend(target,settings);return target},ajaxSettings:{url:ajaxLocation,isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":allTypes},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined}options=options||{};var ifModifiedKey,responseHeadersString,responseHeaders,transport,timeoutTimer,parts,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=callbackContext!==s&&(callbackContext.nodeType||callbackContext instanceof jQuery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,setRequestHeader:function(name,value){if(!state){var lname=name.toLowerCase();name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value}return this},getAllResponseHeaders:function(){return state===2?responseHeadersString:null},getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while((match=rheaders.exec(responseHeadersString))){responseHeaders[match[1].toLowerCase()]=match[2]}}match=responseHeaders[key.toLowerCase()]}return match===undefined?null:match},overrideMimeType:function(type){if(!state){s.mimeType=type}return this},abort:function(statusText){statusText=statusText||strAbort;if(transport){transport.abort(statusText)}done(0,statusText);return this}};function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;if(state===2){return }state=2;if(timeoutTimer){clearTimeout(timeoutTimer)}transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;if(responses){response=ajaxHandleResponses(s,jqXHR,responses)}if(status>=200&&status<300||status===304){if(s.ifModified){modified=jqXHR.getResponseHeader("Last-Modified");if(modified){jQuery.lastModified[ifModifiedKey]=modified}modified=jqXHR.getResponseHeader("Etag");if(modified){jQuery.etag[ifModifiedKey]=modified}}if(status===304){statusText="notmodified";isSuccess=true}else{isSuccess=ajaxConvert(s,response);statusText=isSuccess.state;success=isSuccess.data;error=isSuccess.error;isSuccess=!error}}else{error=statusText;if(!statusText||status){statusText="error";if(status<0){status=0}}}jqXHR.status=status;jqXHR.statusText=(nativeStatusText||statusText)+"";if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR])}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error])}jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger("ajax"+(isSuccess?"Success":"Error"),[jqXHR,s,isSuccess?success:error])}completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!(--jQuery.active)){jQuery.event.trigger("ajaxStop")}}}deferred.promise(jqXHR);jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;jqXHR.complete=completeDeferred.add;jqXHR.statusCode=function(map){if(map){var tmp;if(state<2){for(tmp in map){statusCode[tmp]=[statusCode[tmp],map[tmp]]}}else{tmp=map[jqXHR.status];jqXHR.always(tmp)}}return this};s.url=((url||s.url)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//");s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().split(core_rspace);if(s.crossDomain==null){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(parts&&(parts[1]!==ajaxLocParts[1]||parts[2]!==ajaxLocParts[2]||(parts[3]||(parts[1]==="http:"?80:443))!=(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?80:443))))}if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional)}inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return jqXHR}fireGlobals=s.global;s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart")}if(!s.hasContent){if(s.data){s.url+=(rquery.test(s.url)?"&":"?")+s.data;delete s.data}ifModifiedKey=s.url;if(s.cache===false){var ts=jQuery.now(),ret=s.url.replace(rts,"$1_="+ts);s.url=ret+((ret===s.url)?(rquery.test(s.url)?"&":"?")+"_="+ts:"")}}if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType)}if(s.ifModified){ifModifiedKey=ifModifiedKey||s.url;if(jQuery.lastModified[ifModifiedKey]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[ifModifiedKey])}if(jQuery.etag[ifModifiedKey]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[ifModifiedKey])}}jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i])}if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){return jqXHR.abort()}strAbort="abort";for(i in {success:1,error:1,complete:1}){jqXHR[i](s[i])}transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport")}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s])}if(s.async&&s.timeout>0){timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout)}try{state=1;transport.send(requestHeaders,done)}catch(e){if(state<2){done(-1,e)}else{throw e}}}return jqXHR},active:0,lastModified:{},etag:{}});function ajaxHandleResponses(s,jqXHR,responses){var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes,responseFields=s.responseFields;for(type in responseFields){if(type in responses){jqXHR[responseFields[type]]=responses[type]}}while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("content-type")}}if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}}}if(dataTypes[0] in responses){finalDataType=dataTypes[0]}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}if(!firstDataType){firstDataType=type}}finalDataType=finalDataType||firstDataType}if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType)}return responses[finalDataType]}}function ajaxConvert(s,response){var conv,conv2,current,tmp,dataTypes=s.dataTypes.slice(),prev=dataTypes[0],converters={},i=0;if(s.dataFilter){response=s.dataFilter(response,s.dataType)}if(dataTypes[1]){for(conv in s.converters){converters[conv.toLowerCase()]=s.converters[conv]}}for(;(current=dataTypes[++i]);){if(current!=="*"){if(prev!=="*"&&prev!==current){conv=converters[prev+" "+current]||converters["* "+current];if(!conv){for(conv2 in converters){tmp=conv2.split(" ");if(tmp[1]===current){conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]];if(conv){if(conv===true){conv=converters[conv2]}else{if(converters[conv2]!==true){current=tmp[0];dataTypes.splice(i--,0,current)}}break}}}}if(conv!==true){if(conv&&s["throws"]){response=conv(response)}else{try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}}}prev=current}}return{state:"success",data:response}}var oldCallbacks=[],rquestion=/\?/,rjsonp=/(=)\?(?=&|$)|\?\?/,nonce=jQuery.now();jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||(jQuery.expando+"_"+(nonce++));this[callback]=true;return callback}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,data=s.data,url=s.url,hasCallback=s.jsonp!==false,replaceInUrl=hasCallback&&rjsonp.test(url),replaceInData=hasCallback&&!replaceInUrl&&typeof data==="string"&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(data);if(s.dataTypes[0]==="jsonp"||replaceInUrl||replaceInData){callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;overwritten=window[callbackName];if(replaceInUrl){s.url=url.replace(rjsonp,"$1"+callbackName)}else{if(replaceInData){s.data=data.replace(rjsonp,"$1"+callbackName)}else{if(hasCallback){s.url+=(rquestion.test(url)?"&":"?")+s.jsonp+"="+callbackName}}}s.converters["script json"]=function(){if(!responseContainer){jQuery.error(callbackName+" was not called")}return responseContainer[0]};s.dataTypes[0]="json";window[callbackName]=function(){responseContainer=arguments};jqXHR.always(function(){window[callbackName]=overwritten;if(s[callbackName]){s.jsonpCallback=originalSettings.jsonpCallback;oldCallbacks.push(callbackName)}if(responseContainer&&jQuery.isFunction(overwritten)){overwritten(responseContainer[0])}responseContainer=overwritten=undefined});return"script"}});jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(text){jQuery.globalEval(text);return text}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false}if(s.crossDomain){s.type="GET";s.global=false}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(_,callback){script=document.createElement("script");script.async="async";if(s.scriptCharset){script.charset=s.scriptCharset}script.src=s.url;script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState)){script.onload=script.onreadystatechange=null;if(head&&script.parentNode){head.removeChild(script)}script=undefined;if(!isAbort){callback(200,"success")}}};head.insertBefore(script,head.firstChild)},abort:function(){if(script){script.onload(0,1)}}}}});var xhrCallbacks,xhrOnUnloadAbort=window.ActiveXObject?function(){for(var key in xhrCallbacks){xhrCallbacks[key](0,1)}}:false,xhrId=0;function createStandardXHR(){try{return new window.XMLHttpRequest()}catch(e){}}function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}jQuery.ajaxSettings.xhr=window.ActiveXObject?function(){return !this.isLocal&&createStandardXHR()||createActiveXHR()}:createStandardXHR;(function(xhr){jQuery.extend(jQuery.support,{ajax:!!xhr,cors:!!xhr&&("withCredentials" in xhr)})})(jQuery.ajaxSettings.xhr());if(jQuery.support.ajax){jQuery.ajaxTransport(function(s){if(!s.crossDomain||jQuery.support.cors){var callback;return{send:function(headers,complete){var handle,i,xhr=s.xhr();if(s.username){xhr.open(s.type,s.url,s.async,s.username,s.password)}else{xhr.open(s.type,s.url,s.async)}if(s.xhrFields){for(i in s.xhrFields){xhr[i]=s.xhrFields[i]}}if(s.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(s.mimeType)}if(!s.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest"}try{for(i in headers){xhr.setRequestHeader(i,headers[i])}}catch(_){}xhr.send((s.hasContent&&s.data)||null);callback=function(_,isAbort){var status,statusText,responseHeaders,responses,xml;try{if(callback&&(isAbort||xhr.readyState===4)){callback=undefined;if(handle){xhr.onreadystatechange=jQuery.noop;if(xhrOnUnloadAbort){delete xhrCallbacks[handle]}}if(isAbort){if(xhr.readyState!==4){xhr.abort()}}else{status=xhr.status;responseHeaders=xhr.getAllResponseHeaders();responses={};xml=xhr.responseXML;if(xml&&xml.documentElement){responses.xml=xml}try{responses.text=xhr.responseText}catch(e){}try{statusText=xhr.statusText}catch(e){statusText=""}if(!status&&s.isLocal&&!s.crossDomain){status=responses.text?200:404}else{if(status===1223){status=204}}}}}catch(firefoxAccessException){if(!isAbort){complete(-1,firefoxAccessException)}}if(responses){complete(status,statusText,responses,responseHeaders)}};if(!s.async){callback()}else{if(xhr.readyState===4){setTimeout(callback,0)}else{handle=++xhrId;if(xhrOnUnloadAbort){if(!xhrCallbacks){xhrCallbacks={};jQuery(window).unload(xhrOnUnloadAbort)}xhrCallbacks[handle]=callback}xhr.onreadystatechange=callback}}},abort:function(){if(callback){callback(0,1)}}}}})}var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([-+])=|)("+core_pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var end,unit,tween=this.createTween(prop,value),parts=rfxnum.exec(value),target=tween.cur(),start=+target||0,scale=1,maxIterations=20;if(parts){end=+parts[2];unit=parts[3]||(jQuery.cssNumber[prop]?"":"px");if(unit!=="px"&&start){start=jQuery.css(tween.elem,prop,true)||end||1;do{scale=scale||".5";start=start/scale;jQuery.style(tween.elem,prop,start+unit)}while(scale!==(scale=tween.cur()/target)&&scale!==1&&--maxIterations)}tween.unit=unit;tween.start=start;tween.end=parts[1]?start+(parts[1]+1)*end:end}return tween}]};function createFxNow(){setTimeout(function(){fxNow=undefined},0);return(fxNow=jQuery.now())}function createTweens(animation,props){jQuery.each(props,function(prop,value){var collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;for(;index<length;index++){if(collection[index].call(animation,prop,value)){return }}})}function Animation(elem,properties,options){var result,index=0,tweenerIndex=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;for(;index<length;index++){animation.tweens[index].run(percent)}deferred.notifyWith(elem,[animation,percent,remaining]);if(percent<1&&length){return remaining}else{deferred.resolveWith(elem,[animation]);return false}},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(true,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end,easing){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);animation.tweens.push(tween);return tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;for(;index<length;index++){animation.tweens[index].run(1)}if(gotoEnd){deferred.resolveWith(elem,[animation,gotoEnd])}else{deferred.rejectWith(elem,[animation,gotoEnd])}return this}}),props=animation.props;propFilter(props,animation.opts.specialEasing);for(;index<length;index++){result=animationPrefilters[index].call(animation,elem,props,animation.opts);if(result){return result}}createTweens(animation,props);if(jQuery.isFunction(animation.opts.start)){animation.opts.start.call(elem,animation)}jQuery.fx.timer(jQuery.extend(tick,{anim:animation,queue:animation.opts.queue,elem:elem}));return animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props){name=jQuery.camelCase(index);easing=specialEasing[name];value=props[index];if(jQuery.isArray(value)){easing=value[1];value=props[index]=value[0]}if(index!==name){props[name]=value;delete props[index]}hooks=jQuery.cssHooks[name];if(hooks&&"expand" in hooks){value=hooks.expand(value);delete props[name];for(index in value){if(!(index in props)){props[index]=value[index];specialEasing[index]=easing}}}else{specialEasing[name]=easing}}}jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){if(jQuery.isFunction(props)){callback=props;props=["*"]}else{props=props.split(" ")}var prop,index=0,length=props.length;for(;index<length;index++){prop=props[index];tweeners[prop]=tweeners[prop]||[];tweeners[prop].unshift(callback)}},prefilter:function(callback,prepend){if(prepend){animationPrefilters.unshift(callback)}else{animationPrefilters.push(callback)}}});function defaultPrefilter(elem,props,opts){var index,prop,value,length,dataShow,toggle,tween,hooks,oldfire,anim=this,style=elem.style,orig={},handled=[],hidden=elem.nodeType&&isHidden(elem);if(!opts.queue){hooks=jQuery._queueHooks(elem,"fx");if(hooks.unqueued==null){hooks.unqueued=0;oldfire=hooks.empty.fire;hooks.empty.fire=function(){if(!hooks.unqueued){oldfire()}}}hooks.unqueued++;anim.always(function(){anim.always(function(){hooks.unqueued--;if(!jQuery.queue(elem,"fx").length){hooks.empty.fire()}})})}if(elem.nodeType===1&&("height" in props||"width" in props)){opts.overflow=[style.overflow,style.overflowX,style.overflowY];if(jQuery.css(elem,"display")==="inline"&&jQuery.css(elem,"float")==="none"){if(!jQuery.support.inlineBlockNeedsLayout||css_defaultDisplay(elem.nodeName)==="inline"){style.display="inline-block"}else{style.zoom=1}}}if(opts.overflow){style.overflow="hidden";if(!jQuery.support.shrinkWrapBlocks){anim.done(function(){style.overflow=opts.overflow[0];style.overflowX=opts.overflow[1];style.overflowY=opts.overflow[2]})}}for(index in props){value=props[index];if(rfxtypes.exec(value)){delete props[index];toggle=toggle||value==="toggle";if(value===(hidden?"hide":"show")){continue}handled.push(index)}}length=handled.length;if(length){dataShow=jQuery._data(elem,"fxshow")||jQuery._data(elem,"fxshow",{});if("hidden" in dataShow){hidden=dataShow.hidden}if(toggle){dataShow.hidden=!hidden}if(hidden){jQuery(elem).show()}else{anim.done(function(){jQuery(elem).hide()})}anim.done(function(){var prop;jQuery.removeData(elem,"fxshow",true);for(prop in orig){jQuery.style(elem,prop,orig[prop])}});for(index=0;index<length;index++){prop=handled[index];tween=anim.createTween(prop,hidden?dataShow[prop]:0);orig[prop]=dataShow[prop]||jQuery.style(elem,prop);if(!(prop in dataShow)){dataShow[prop]=tween.start;if(hidden){tween.end=tween.start;tween.start=prop==="width"||prop==="height"?1:0}}}}}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}jQuery.Tween=Tween;Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem;this.prop=prop;this.easing=easing||"swing";this.options=options;this.start=this.now=this.cur();this.end=end;this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];if(this.options.duration){this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration)}else{this.pos=eased=percent}this.now=(this.end-this.start)*eased+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(hooks&&hooks.set){hooks.set(this)}else{Tween.propHooks._default.set(this)}return this}};Tween.prototype.init.prototype=Tween.prototype;Tween.propHooks={_default:{get:function(tween){var result;if(tween.elem[tween.prop]!=null&&(!tween.elem.style||tween.elem.style[tween.prop]==null)){return tween.elem[tween.prop]}result=jQuery.css(tween.elem,tween.prop,false,"");return !result||result==="auto"?0:result},set:function(tween){if(jQuery.fx.step[tween.prop]){jQuery.fx.step[tween.prop](tween)}else{if(tween.elem.style&&(tween.elem.style[jQuery.cssProps[tween.prop]]!=null||jQuery.cssHooks[tween.prop])){jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}else{tween.elem[tween.prop]=tween.now}}}}};Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){if(tween.elem.nodeType&&tween.elem.parentNode){tween.elem[tween.prop]=tween.now}}};jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return speed==null||typeof speed==="boolean"||(!i&&jQuery.isFunction(speed)&&jQuery.isFunction(easing))?cssFn.apply(this,arguments):this.animate(genFx(name,true),speed,easing,callback)}});jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);if(empty){anim.stop(true)}};return empty||optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop;stop(gotoEnd)};if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined}if(clearQueue&&type!==false){this.queue(type||"fx",[])}return this.each(function(){var dequeue=true,index=type!=null&&type+"queueHooks",timers=jQuery.timers,data=jQuery._data(this);if(index){if(data[index]&&data[index].stop){stopQueue(data[index])}}else{for(index in data){if(data[index]&&data[index].stop&&rrun.test(index)){stopQueue(data[index])}}}for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){timers[index].anim.stop(gotoEnd);dequeue=false;timers.splice(index,1)}}if(dequeue||!gotoEnd){jQuery.dequeue(this,type)}})}});function genFx(type,includeWidth){var which,attrs={height:type},i=0;includeWidth=includeWidth?1:0;for(;i<4;i+=2-includeWidth){which=cssExpand[i];attrs["margin"+which]=attrs["padding"+which]=type}if(includeWidth){attrs.opacity=attrs.width=type}return attrs}jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}});jQuery.speed=function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue="fx"}opt.old=opt.complete;opt.complete=function(){if(jQuery.isFunction(opt.old)){opt.old.call(this)}if(opt.queue){jQuery.dequeue(this,opt.queue)}};return opt};jQuery.easing={linear:function(p){return p},swing:function(p){return 0.5-Math.cos(p*Math.PI)/2}};jQuery.timers=[];jQuery.fx=Tween.prototype.init;jQuery.fx.tick=function(){var timer,timers=jQuery.timers,i=0;fxNow=jQuery.now();for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}fxNow=undefined};jQuery.fx.timer=function(timer){if(timer()&&jQuery.timers.push(timer)&&!timerId){timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval)}};jQuery.fx.interval=13;jQuery.fx.stop=function(){clearInterval(timerId);timerId=null};jQuery.fx.speeds={slow:600,fast:200,_default:400};jQuery.fx.step={};if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length}}var rroot=/^(?:body|html)$/i;jQuery.fn.offset=function(options){if(arguments.length){return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)})}var docElem,body,win,clientTop,clientLeft,scrollTop,scrollLeft,box={top:0,left:0},elem=this[0],doc=elem&&elem.ownerDocument;if(!doc){return }if((body=doc.body)===elem){return jQuery.offset.bodyOffset(elem)}docElem=doc.documentElement;if(!jQuery.contains(docElem,elem)){return box}if(typeof elem.getBoundingClientRect!=="undefined"){box=elem.getBoundingClientRect()}win=getWindow(doc);clientTop=docElem.clientTop||body.clientTop||0;clientLeft=docElem.clientLeft||body.clientLeft||0;scrollTop=win.pageYOffset||docElem.scrollTop;scrollLeft=win.pageXOffset||docElem.scrollLeft;return{top:box.top+scrollTop-clientTop,left:box.left+scrollLeft-clientLeft}};jQuery.offset={bodyOffset:function(body){var top=body.offsetTop,left=body.offsetLeft;if(jQuery.support.doesNotIncludeMarginInBodyOffset){top+=parseFloat(jQuery.css(body,"marginTop"))||0;left+=parseFloat(jQuery.css(body,"marginLeft"))||0}return{top:top,left:left}},setOffset:function(elem,options,i){var position=jQuery.css(elem,"position");if(position==="static"){elem.style.position="relative"}var curElem=jQuery(elem),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=(position==="absolute"||position==="fixed")&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1,props={},curPosition={},curTop,curLeft;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0}if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset)}if(options.top!=null){props.top=(options.top-curOffset.top)+curTop}if(options.left!=null){props.left=(options.left-curOffset.left)+curLeft}if("using" in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({position:function(){if(!this[0]){return }var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=rroot.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();offset.top-=parseFloat(jQuery.css(elem,"marginTop"))||0;offset.left-=parseFloat(jQuery.css(elem,"marginLeft"))||0;parentOffset.top+=parseFloat(jQuery.css(offsetParent[0],"borderTopWidth"))||0;parentOffset.left+=parseFloat(jQuery.css(offsetParent[0],"borderLeftWidth"))||0;return{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||document.body;while(offsetParent&&(!rroot.test(offsetParent.nodeName)&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent}return offsetParent||document.body})}});jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top=/Y/.test(prop);jQuery.fn[method]=function(val){return jQuery.access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined){return win?(prop in win)?win[prop]:win.document.documentElement[method]:elem[method]}if(win){win.scrollTo(!top?val:jQuery(win).scrollLeft(),top?val:jQuery(win).scrollTop())}else{elem[method]=val}},method,val,arguments.length,null)}});function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false}jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||typeof margin!=="boolean"),extra=defaultExtra||(margin===true||value===true?"margin":"border");return jQuery.access(this,function(elem,type,value){var doc;if(jQuery.isWindow(elem)){return elem.document.documentElement["client"+name]}if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])}return value===undefined?jQuery.css(elem,type,value,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable,null)}})});window.jQuery=window.$=jQuery;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return jQuery})}})(window);
var Class=function(B){var A=function(){if(this.initialize&&arguments[0]!="noinit"){return this.initialize.apply(this,arguments)}else{return this}};for(var C in this){A[C]=this[C]}A.prototype=B;return A};Class.empty=function(){};Class.prototype={extend:function(C){var B=new this("noinit");var A=function(G,H){if(!G.apply||!H.apply){return false}return function(){this.parent=G;return H.apply(this,arguments)}};for(var E in C){var D=B[E];var F=C[E];if(D&&D!=F){F=A(D,F)||F}B[E]=F}return new Class(B)},implement:function(A){for(var B in A){this.prototype[B]=A[B]}}};Object.extend=function(){var A=arguments;A=(A[1])?[A[0],A[1]]:[this,A[0]];for(var B in A[1]){A[0][B]=A[1][B]}return A[0]};Object.Native=function(){for(var A=0;A<arguments.length;A++){arguments[A].extend=Class.prototype.implement}};new Object.Native(Function,Array,String,Number,Class);
var CallerResponder=new Class({debug:false,context:new Object(),error:function(C,B,D){if(C.status==500){var A=jQuery.parseJSON(C.responseText)}if(this.debug){alert("ajax error: "+C.responseText);alert(D)}},complete:function(B,A){if(this.debug){alert("ajax complete")}},beforeSend:function(A){if(this.debug){alert("ajax beforeSend:"+A)}}});var RemoteJsonService=new Class({jsonGateway:"/json/",async:true,ajaxCall:function(D,B){var H=null;if(D.length>=1){var F=D[D.length-1];if(F!=null&&typeof (F.success)!="undefined"&&$.isFunction(F.success)){H=F;Array.prototype.splice.apply(D,[D.length-1,1])}}var C=new Array();for(var E=0;E<D.length;E++){C[E]=D[E];if($._isInValid(C[E])){return null}}var G=new Object();G.managerMethod=B;G.arguments=$.toJSON(C);var A=null;if(H&&H.success){this.async=true;H=$.extend(new CallerResponder(),H)}else{this.async=false;H=new CallerResponder();H.success=function(J){if(typeof J==="string"){try{A=$.parseJSON(J)}catch(I){A=J}}else{A=J}}}jQuery.ajax({type:"POST",url:this.jsonGateway+"&rnd="+parseInt(Math.random()*100000),data:G,dataType:"json",async:this.async,success:H.success,error:H.error,complete:H.complete});return A}});
(function($){var m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s={array:function(x){var a=["["],b,f,i,l=x.length,v;for(var i=0;i<l;i+=1){v=x[i];f=s[typeof v];if(f){v=f(v);if(typeof v=="string"){if(b){a[a.length]=","}a[a.length]=v;b=true}}}a[a.length]="]";return a.join("")},date:function(x){return s.string(x.dateFormat("Y-m-d"))},"boolean":function(x){return String(x)},"null":function(x){return"null"},number:function(x){return isFinite(x)?String(x):"null"},object:function(x){if(!(typeof (x)==="object")){return"null"}if(x){if(x instanceof Array){return s.array(x)}else{if(x instanceof Date){return s.date(x)}}var a=["{"],b,f,i,v;for(var i in x){v=x[i];f=s[typeof v];if(f){v=f(v);if(typeof v=="string"){if(b){a[a.length]=","}a.push(s.string(i),":",v);b=true}}}a[a.length]="}";return a.join("")}return"null"},string:function(x){if(/["\\\x00-\x1f]/.test(x)){x=x.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=m[b];if(c){return c}c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})}return'"'+x+'"'},"function":function(x){return x.toString().match(/function\s+([^\s\(]+)/)[1]}};jQuery.toJSON=function(v){var f;if(isNaN(v)){f=s[typeof v]}else{f=(v instanceof Array)?s.array:s.number}if(f){return f(v)}};jQuery.parseJSON=function(v,safe){if(safe===undefined){safe=jQuery.parseJSON.safe}if(safe&&!/^("(\\.|[^"\\\n\r])*?"|[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t])+?$/.test(v)){return undefined}return eval("("+v+")")};jQuery.parseJSON.safe=false})(jQuery);
(function(A){A._autofill=new Object();A.autofillform=function(B){var C={};B=A.extend(C,B);var D=B.fillmaps?B.fillmaps:new Object();A._autofill.filllists=D;for(var E in D){A("#"+E).fillform(D[E])}};A.fn.clearform=function(B){var C={clearHidden:false};this.resetValidate();B=A.extend(C,B);this.find(":input").each(function(){switch(this.type){case"passsword":case"select-multiple":case"select-one":case"text":case"textarea":A(this).val("");case"hidden":if(B.clearHidden){A(this).val("")}break;case"checkbox":case"radio":this.checked=false}})};A.fn.fillform=function(B){if(this[0]==null){return }this.each(function(C){var D=A(this);D.resetValidate();for(var E in B){A("#"+E,D).each(function(F){A(this).fill(B[E],E,D)})}D=null})};A.fn.fill=function(H,G,P){var C=this[0],Q=A(C),R=C.tagName.toLowerCase();if(H&&typeof H=="string"){H=H.replace(/<\/\/script>/gi,"<\/script>")}var I=C.type,S=C.value;switch(R){case"input":switch(I){case"text":Q.val(H);break;case"hidden":var E=Q.attrObj("_comp"),O;if(E){O=E.attr("compType");if(O==="selectPeople"){var J="",L="";if(H&&H.startsWith("{")){H=A.parseJSON(H);E.comp(H);J=H.value;L=H.text}E.val(L);Q.val(J);break}}Q.val(H);break;case"checkbox":if(H==S){C.checked=true}else{C.checked=false}break;case"radio":if(P){A("input[type=radio]",P).each(function(){if((this.id==G||this.name==G)&&H==this.value&&!this.checked){this.checked=true}})}else{if(H==C.value&&!C.checked){C.checked=true}}}break;case"textarea":Q.val(H);break;case"select":switch(I){case"select-one":Q.val(H);break;case"select-multiple":var D=C.options;var K=H.split(",");for(var N=0;N<D.length;N++){var F=D[N];var B=A.browser.msie&&!(F.attributes.value.specified)?F.text:F.value;for(var M=0;M<K.length;M++){if(B==K[M]){F.selected=true}}}}break;default:if(!((!H||H=="")&&A(this)[0].innerHTML.indexOf("&nbsp;")!=-1)){if(H&&Q.parent(".text_overflow").length==1){Q.attr("title",H)}if(H&&typeof H=="string"){H=H.replace(/\n/g,"<br/>")}C.innerHTML=H}}if(this.attr("validate")){this.validate()}};A.fn.fillgrid=function(B){this.each(function(D){var C=this.tagName.toLowerCase(),E=A(this);switch(C){case"table":elem.grid.addData(B);break}})}})(jQuery);
(function(A){A.fn.jsonSubmit=function(L){var J="_js_frm"+new Date().getTime();var F={isMask:true,validate:true,ajax:false};L=A.extend(F,L);if(L.isMask){showMask&&showMask()}var K=this.formobj(L);if(L.paramObj){if(A.isArray(K)){K={}}for(var B in L.paramObj){K[B]=L.paramObj[B]}}var G=L.action||this.attr("action");if(G==null||A.trim(G)==""){alert("you don't set action attribute!");hideMask&&hideMask();return }if(L.validate&&A._isInValid(K)){hideMask&&hideMask();return }if(L.beforeSubmit&&L.beforeSubmit(K,this,L)===false){hideMask&&hideMask();return }var E=A.toJSON(K);if(L.ajax==true){A.ajax({async:false,type:"post",url:G,data:{_json_params:E},error:function(){alert("error\uff0cform submit fail!")},success:function(M){if(typeof L.callback=="function"){L.callback(M)}}})}else{var D=window;if(L.targetWindow){D=L.targetWindow}var H=A('<form method="post" action="'+G+'"><input type="hidden" id="_json_params" name="_json_params" value=""/></form>',D.document);A(D.document.body).append(H);D=null;if(typeof L.callback=="function"){var C=A('<iframe id="'+J+'" name="'+J+'" style="display:none;"></iframe>',H[0].ownerDocument);A("body",H[0].ownerDocument).append(C);C.load(function(){var M=A(this).contents().find("body").html();if(M){M=M.replace(/<embed[^<>]*>/,"")}if(M&&M.trim().startsWith("<pre>")){M=M.trim();M=M.substr(5,M.length-11)}L.callback(M);try{A(this).remove()}catch(N){}});C=null;H.attr("target",J)}else{if(L.target){H.attr("target",L.target)}}H.find("#_json_params").val(E);if(L.debug&&_isDevelop){alert("JSON data format:\n"+E)}A.confirmClose(false);H.submit();H.remove();H=null}try{if(L.isMask){hideMask&&hideMask()}}catch(I){}};A.fn.formobj=function(M){if(this[0]==null){return{}}var F={gridFilter:null,validate:true,errorIcon:true,errorAlert:false,errorBg:false,includeDisabled:true};M=A.extend(F,M);var N=M.domains;if(N&&N.length>0){var G={};if(A("#attachmentArea").length>0){var K=A("<div></div>");K.attr("id","attachmentInputs");K.attr("style","display:none;");K.attr("isGrid","true");this.append(K);saveAttachment();N.push("attachmentInputs")}for(var J=0;J<N.length;J++){var B=N[J],L=B==this.attr("id")?this:A("#"+B,this),E;var I=A("."+B),D=I.length;if(D>0&&M.matchClass){E=[];var C=[];for(var H=0;H<N.length;H++){if(H!=J){C.push(N[H])}}I.each(function(Q){L=A(this);var R=A.jsonDomain(L,M);if(A._isInValid(R)&&!A._isInValid(E)){A._invalidObj(E)}E.push(R);for(var O=0;O<C.length;O++){var P=A.jsonDomain(A("#"+C[O],L),M);if(A._isInValid(P)&&!A._isInValid(E)){A._invalidObj(E)}R[C[O]]=P}});if(M.isGrid){G=E}else{if(E.length==1){G=E[0]}}break}else{E=A.jsonDomain(L,M);G[B]=E;if(A._isInValid(E)&&!A._isInValid(G)){A._invalidObj(G)}}}return G}else{return A.jsonDomain(this,M)}};A.jsonDomain=function(I,O){O=O||{};var M=[],H=null,K=O.gridFilter,D=I.attr("isGrid")?I.attr("isGrid"):false,E=true,F,J=[],C=O.domains,L=O.includeDisabled;if(C){for(var G=0;G<C.length;G++){var N=C[G];if(I[0]&&N!=I[0].id&&A("#"+N,I).length>0){J.push(N)}}}A("*",I).add(I).filter(function(V){if(!this.id&&!this.name){return false}for(var S=0;S<J.length;S++){var W=J[S];if(A(this).parents("#"+W).length>0){return false}}var P=this,X=P.tagName.toLowerCase(),Q=P.id?P.id:P.name;if(X&&Q&&(L||!P.disabled)&&!P.ignore){switch(X){case"table":if(P.grid&&P.p.datas){var R=P.p.datas.rows;A(R).each(function(Y){if(K&&!K(R[Y],A("tbody tr",A(P)).get(Y))){return }M.push(R[Y])});D=true}break;case"input":var U=P.type;if(U=="button"||U=="reset"||U=="submit"||U=="image"||Q=="_json_params"){break}case"textarea":if(X=="textarea"){var T=A(P).attr("comp");if(T&&A.parseJSON("{"+T+"}").type=="editor"){A(P).val(A(P).getEditorContent());break}}case"select":if(H&&Q in H){if(P.type!="radio"){H={};M.push(H)}}var W=A.fieldValue(P,true,L);if(!H){H=new Object();M.push(H)}if(!H[Q]){H[Q]=W}}}return false});if(O.validate){E=A(I).validate({errorIcon:O.errorIcon,errorAlert:O.errorAlert,errorBg:O.errorBg})}if(M.length==1&&!D){F=M[0]}else{if(K){var B=[];for(var G=0;G<M.length;G++){if(!K(M[G])){continue}B.push(M[G])}M=B}F=M}if(!E){A._invalidObj(F)}return F};A.fieldValue=function(C,H,L){var D=C.id?C.id:C.dataIndex?C.dataIndex:C.name,N=C.type,O=C.tagName.toLowerCase();if(typeof H=="undefined"){H=true}if(H&&(!D||(!L&&C.disabled)||N=="reset"||N=="button"||(N=="checkbox"||N=="radio")&&!C.checked||(N=="submit"||N=="image")&&C.form&&C.form.clk!=C||O=="select"&&C.selectedIndex==-1)){return null}if(O=="select"){var I=C.selectedIndex;if(I<0){return null}var K=[],B=C.options;var F=(N=="select-one");var J=(F?I+1:B.length);for(var E=(F?I:0);E<J;E++){var G=B[E];if(G.selected){var M=G.value;if(F){return M}K.push(M)}}return K}return C.value}})(jQuery);
(function(C){C.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},returnKeys:[],cancelKeys:[]};function B(E){if(typeof E.data!=="string"){return }var D=E.handler,F=E.data.toLowerCase().split(" ");E.handler=function(G){if(this!==G.target&&(/textarea|select/i.test(G.target.nodeName)||G.target.type==="text")){return }var N=G.type!=="keypress"&&C.hotkeys.specialKeys[G.which],L,O,I="",J={};try{L=String.fromCharCode(G.which).toLowerCase()}catch(M){L=G.which}if(G.altKey&&N!=="alt"){I+="alt+"}if(G.ctrlKey&&N!=="ctrl"){I+="ctrl+"}if(G.metaKey&&!G.ctrlKey&&N!=="meta"){I+="meta+"}if(G.shiftKey&&N!=="shift"){I+="shift+"}if(N){J[I+N]=true}else{J[I+L]=true;J[I+C.hotkeys.shiftNums[L]]=true;if(I==="shift+"){J[C.hotkeys.shiftNums[L]]=true}}for(var K=0,H=F.length;K<H;K++){if(J[F[K]]){return D.apply(this,arguments)}}}}$.each(["keydown","keyup","keypress"],function(){C.event.special[this]={add:B}});$(document).bind("keydown","esc",function(D){C._fireKeydown_esc(D);return false}).bind("keydown","return",function(D){C._fireKeydown_return(D);return true});function A(D){if(!D||D.length==0||D.hasClass("common_button_disable")||D.css("display")=="none"||D.css("visibility")=="hidden"||D.parents(".button_container").css("display")=="none"||D.parents(".button_container").css("visibility")=="hidden"){return false}return true}$._fireKeydown_return=function(D){var E=false;$($.hotkeys.returnKeys).each(function(G,H){var F=$("#"+H);if(A(F)){F.click();E=true;return false}});if(E){return }if($("#ok_msg_btn_first").size()>0){if(A($("#ok_msg_btn_first"))){$("#ok_msg_btn_first").click()}}else{if($("#btnsave").size()>0){if(A($("#btnsave"))){$("#btnsave").click()}}else{if($("#btnok").size()>0){if(A($("#btnok"))){$("#btnok").click()}}else{if($("#btnsubmit").size()>0){if(A($("#btnsubmit"))){$("#btnsubmit").click()}}else{if($("#btnsearch").size()>0){if(A($("#btnsearch"))){$("#btnsearch").click()}}else{if($("#btnreset").size()>0){if(A($("#btnreset"))){$("#btnreset").click()}}else{if($("#btnmodify").size()>0){if(A($("#btnmodify"))){$("#btnmodify").click()}}else{if($("#ok_msg_btn").size()>0){if(A($("#ok_msg_btn"))){$("#ok_msg_btn").click()}}else{if($("#yes_msg_btn").size()>0){if(A($("#yes_msg_btn"))){$("#yes_msg_btn").click()}}else{if($("#retry_msg_btn").size()>0){if(A($("#retry_msg_btn"))){$("#retry_msg_btn").click()}}else{if(parent&&parent!=window){if(parent.jQuery){parent.jQuery._fireKeydown_return(D)}}}}}}}}}}}}};$._fireKeydown_esc=function(D){var E=false;$($.hotkeys.cancelKeys).each(function(G,H){var F=$("#"+H);if(A(F)){F.click();E=true;return false}});if(E){return }if($("#btncancel").size()>0){$("#btncancel").click()}else{if($("#btnclose").size()>0){$("#btnclose").click()}else{if(parent&&parent!=window){parent.jQuery._fireKeydown_esc(D)}}}}})(jQuery);$(function(){$("input,select").bind("keydown","esc",function(A){$._fireKeydown_esc(A);return false}).bind("keydown","return",function(A){$._fireKeydown_return(A);return false})});
(function($){var _managerNames=[],_defaultPageSize=20;$.fn.ajaxgridbar=function(options){var settings={size:_defaultPageSize,async:true,page:1,page_btn:"_page_btn",page_id:"_page_id",afpPageId:"_afpPage",afpPagesId:"_afpPages",afpTotalId:"_afpTotal",afpSizeId:"_afpSize",afpFirstId:"_afpFirst",afpPreviousId:"_afpPrevious",afpNextId:"_afpNext",afpLastId:"_afpLast",activeClass:"alink",deactiveClass:"blink",btnCallback:null};options=$.extend(settings,options);this.attrObj("config",options);var bn=options.managerName;if(!_managerNames.contains(bn)){$("head").append("<script src='"+_ctxPath+"/ajax.do?managerName="+bn+"' type='text/javascript'><\/script>");_managerNames.push(bn)}};$.fn.ajaxgridbarLoad=function(param,page,size){var tbl=this,config=this.attrObj("config"),bn=config.managerName,bm=config.managerMethod,callbk=config.callback;if(!size){size=config.size}if(!page){page=config.page}var callerResponder=new CallerResponder();callerResponder.success=function(fpi){$("#"+config.page_id).val(fpi.page);$("#"+config.page_id).unbind();$("#"+config.page_id).keydown(function(){var code=event.keyCode;if(code=="13"){goPage()}});$("#"+config.page_btn).unbind();$("#"+config.page_btn).click(function(){goPage()});function goPage(){var varPage=$("#"+config.page_id).val(),varPages=fpi.pages;if(parseInt(varPage)<1){$("#"+config.page_id).val(1)}if(parseInt(varPage)>parseInt(varPages)){$("#"+config.page_id).val(varPages)}tbl.ajaxgridbarLoad(param,$("#"+config.page_id).val(),size)}$("#"+config.afpPageId).each(function(){var t=$(this),tn=this.tagName.toLowerCase();if("input"==tn){t.val(fpi.page)}else{t.text(fpi.page)}});$("#"+config.afpPagesId).each(function(){var t=$(this),tn=this.tagName.toLowerCase();if("input"==tn){t.val(fpi.pages)}else{t.text(fpi.pages)}});$("#"+config.afpTotalId).each(function(){var t=$(this),tn=this.tagName.toLowerCase();if("input"==tn){t.val(fpi.total)}else{t.text(fpi.total)}});$("#"+config.afpSizeId).each(function(){var t=$(this),tn=this.tagName.toLowerCase();if("input"==tn){t.val(fpi.size);t.blur(function(){var _s=t.val();try{_s=parseInt(_s,10);if(_s<=0){_s=_defaultPageSize}}catch(e){_s=_defaultPageSize}t.val(_s);size=_s})}else{if("select"==tn){t.val(fpi.size);t.change(function(){size=t.val();goPage()})}else{t.text(fpi.size)}}});var l1=$("#"+config.afpFirstId),l2=$("#"+config.afpPreviousId),l3=$("#"+config.afpNextId),l4=$("#"+config.afpLastId);l1.unbind();l2.unbind();l3.unbind();l4.unbind();if(fpi.page>1){l1.click(function(){tbl.ajaxgridbarLoad(param,1,size)});l1.removeClass(config.deactiveClass);l1.addClass(config.activeClass)}else{l1.removeClass(config.activeClass);l1.addClass(config.deactiveClass)}if(fpi.page>1){$("#"+config.afpPreviousId).click(function(){tbl.ajaxgridbarLoad(param,(fpi.page-1),size)});l2.removeClass(config.deactiveClass);l2.addClass(config.activeClass)}else{l2.removeClass(config.activeClass);l2.addClass(config.deactiveClass)}if(fpi.page<fpi.pages){$("#"+config.afpNextId).click(function(){tbl.ajaxgridbarLoad(param,fpi.page+1,size)});l3.removeClass(config.deactiveClass);l3.addClass(config.activeClass)}else{l3.removeClass(config.activeClass);l3.addClass(config.deactiveClass)}if(fpi.page<fpi.pages){$("#"+config.afpLastId).click(function(){tbl.ajaxgridbarLoad(param,fpi.pages,size)});l4.removeClass(config.deactiveClass);l4.addClass(config.activeClass)}else{l4.removeClass(config.activeClass);l4.addClass(config.deactiveClass)}if(callbk){callbk(fpi)}};if(config.complete){callerResponder.complete=config.complete}if(config.errorHandler){callerResponder.errorHandler=config.errorHandler}var fi={page:page,size:size};if(param){eval("var _bs = new "+bn+"();_bs.async="+config.async+";_bs."+bm+"(fi,param,callerResponder);")}else{eval("var _bs = new "+bn+"();_bs.async="+config.async+";_bs."+bm+"(fi,callerResponder);")}}})(jQuery);
(function(B){var A=1;B.fn.codeoption=function(D){var E={};D=B.extend(E,D);var C=new Array;B(".codecfg",this).add(this).each(function(H){var F=this.tagName;if(!F){return }F=F.toLowerCase();var I=D.codecfg?D.codecfg:B(this).attr("codecfg");if(I){var G=B.codecfgobj(this,I);if(D.tags&&!D.tags.contains(F)&&!G.render){return }C.push(G)}});B.genoption(C,D)};B.codeoption=function(C){var D={tags:["select"]};C=B.extend(D,C);B(document).codeoption(C)};B.fn.codetext=function(D){var E={};D=B.extend(E,D);var C=new Array;B(".codecfg",this).add(this).each(function(H){if(!B(this).attr("codecfg")){return }var F=this.tagName.toLowerCase();if(F!="select"){var I=D.codecfg?D.codecfg:B(this).attr("codecfg");if(I){var G=B.codecfgobj(this,I);if(G.render){return }var J=F=="input"?B(this).val():B(this).text();if(J){C.push(G)}}}});B.genoption(C,D)};B.codetext=function(C){B(document).codetext(C)};B.codecfgobj=function(G,F){if(F){var C=F.indexOf("{");var D=B.parseJSON(C==0?F:("{"+F+"}"));var E=G.id?G.id:G.name;if(!E||E.indexOf("coi_")==0){E="coi_"+A;B(G).attr("id",E);A++}D.eleid=E;return D}else{return{}}};B.genoption=function(D,F){if(D.length>0){var E=new ctpCodeManager();var C=B.toJSON(D);B.fillOption(E.selectCode(C))}};B.fillOption=function(E){if(E){for(var C=0;C<E.length;C++){var G=B.findTag(E[C]);var D=E[C].options;var F=E[C]["defaultValue"];if(G){G.each(function(){var H=this.tagName.toLowerCase(),K=B(this);var O=E[C].render;if(O=="radioh"){I(K,D)}else{if(O=="radiov"){I(K,D,true)}else{if(H=="select"){B("option[tmp]",K).remove();for(var J in D){var L=new Option(D[J],J);L.tmp="tmp";this.options[this.options.length]=L;if(F&&F==J){L.selected=true}}if(O=="new"){var M=B.dropdown({id:this.id});if(F){M.setValue(F)}}}else{if(H=="input"){B(this).val(D[B(this).val()])}else{var N=D[B(this).text()];B(this).text(N);if(B(this).attr("title")){B(this).attr("title",N)}}}}}function I(S,T,V){var W=S.attr("id"),P=S;S.attr("id",W+"_hid");for(var R in T){var Q=B('<label class="margin_r_10 hand"></label>');Q.text(T[R]);if(V){Q.addClass("display_block")}var U=B('<input class="radio_com" type="radio" name="'+W+'">');U.attr("id",W);U.val(R);Q.prepend(U);P.after(Q);P=Q;if(F&&F==R){U.attr("checked",true)}}S.remove()}})}}}};B.findTag=function(D){var C;if(D.eleid){C=B("#"+D.eleid).length==0?B("[name='"+D.eleid+"']"):B("#"+D.eleid)}if(!C){B(".codecfg").each(function(F){var E=this.codecfg;if(E){if(E.indexOf("codeType")!=-1&&E.indexOf(D.codeType)!=-1){C=B(this)}if(E.indexOf("codeType")==-1&&E.indexOf(D.tableName)!=-1){C=B(this)}}})}return C}})(jQuery);
$.ctx={};var isFormSubmit=true;$.extend(Function.prototype,{defer:function(A){var D,C=this,B=function(){var F=this,E=arguments;window.clearTimeout(D);D=window.setTimeout(function(){C.apply(F,E)},A)};B();return 0}});$.extendParam=function(C,A){for(var B in A){if(!(A[B] instanceof Array)){C[B]=A[B]}}return C};$.ctx.isOfficeEnabled=function(D){var A=D,B=true;try{if(!$.ctx._mainbodyOcxObj&&(A==".doc"||A==".xls"||A==".wps"||A==".et"||(A>40&&A<45))){$.ctx._mainbodyOcxObj=new ActiveXObject("HandWrite.HandWriteCtrl")}if(A==".doc"||A==41){B=$.ctx._mainbodyOcxObj.WebApplication(".doc")}else{if(A==".xls"||A==42){B=$.ctx._mainbodyOcxObj.WebApplication(".xls")}else{if(A==".wps"||A==43){B=$.ctx._mainbodyOcxObj.WebApplication(".wps")}else{if(A==".et"||A==44){B=$.ctx._mainbodyOcxObj.WebApplication(".et")}else{if(A==".pdf"||A==45){new ActiveXObject("iWebPDF.PDFReader")}}}}}}catch(C){B=false}return B};$.ctx._hasPrivJudge=function(C,B){var A=false,E;if(C&&(B?$.ctx.plugins:$.ctx.resources)){if(C.indexOf("&")!=-1){A=true;E=C.split("&");for(var D=0;D<E.length;D++){if(B?!$.ctx.plugins.contains(E[D].trim()):!$.ctx.resources.contains(E[D].trim())){A=false;break}}}else{if(C.indexOf("|")!=-1){E=C.split("|");for(var D=0;D<E.length;D++){if(B?$.ctx.plugins.contains(E[D].trim()):$.ctx.resources.contains(E[D].trim())){A=true;break}}}else{A=B?$.ctx.plugins.contains(C.trim()):$.ctx.resources.contains(C.trim())}}}return A};$.ctx.hasPlugin=function(A){return $.ctx._hasPrivJudge(A,true)};$.ctx.hasResource=function(A){return $.ctx._hasPrivJudge(A,false)};$.privCheck=function(A,C,D,B){if(!D){D=function(){}}if(!B){B=function(){}}if(_isDevelop){D()}else{if(C&&$.ctx.hasPlugin(C)){if(A&&$.ctx.hasResource(A)){D()}else{if(!A){D()}else{B()}}}else{if(!C&&A){if($.ctx.hasResource(A)){D()}else{B()}}else{if(!C&&!A){D()}else{B()}}}}};var _safriDoubleKeyIgnoreKeys=[32,192,186,187,188,189,190,191,219,220,221,222,13];$.handleModalDialogInputKeyEvent=function(){var C=navigator.vendor,A=navigator.platform;if(C&&C.indexOf("Apple")!=-1&&A&&A.indexOf("Win")!=-1){var B=false;$(":input").keyup(function(E){D(this,E)}).keydown(function(E){if(E.keyCode==229){B=true}else{B=false}});function D(J,E){if(B){return }var H=E.keyCode;if(((H<48||H>111)&&!_safriDoubleKeyIgnoreKeys.contains(H))||E.ctrlKey||E.altKey){return }if(H==13&&J.type!=="textarea"){return }var G=J.selectionStart,I=J.value,F;if(G>0){F=I.substring(0,G-1);if(G<I.length){F+=I.substring(G)}}J.value=F;J.setSelectionRange(G-1,G-1)}}};$().ready(function(){$(".comp").each(function(A){$(this).compThis()});$.codeoption();$.autofillform({fillmaps:$.ctx.fillmaps});$.codetext();$(".resCode").each(function(B){var A=$(this),C=A.attr("resCode"),D=A.attr("pluginId");$.privCheck(C,D,function(){A.show()},function(){A.hide()})});CallerResponder.prototype={error:function(E,D,F){try{var B=$.parseJSON(E.responseText);if(!B.details){$.alert({msg:B.message,close_fn:function(){try{if(getCtpTop()&&getCtpTop().endProc){getCtpTop().endProc()}}catch(G){}},ok_fn:function(){try{if(getCtpTop()&&getCtpTop().endProc){getCtpTop().endProc()}}catch(G){}}})}else{$("body").append('<div id="errorDiv" style="display: none" width="600"><div id="errMsg"></div><br><textarea id="errDetails" rows="15" style="width: 500; font-size: 10pt" readonly="readonly"></textarea></div>');$("#errMsg").text("Error message("+B.code+"):"+B.message);$("#errDetails").text(B.details);var C=$.dialog({title:"Error!",htmlId:"errorDiv",width:520,height:300,targetWindow:getCtpTop(),buttons:[{text:"Close",handler:function(){$("#errorDiv").remove();var G=C.getObjectById("errorDiv");if(G){G.remove()}C.close();hideMask()}}]})}}catch(A){}}};(function(){try{if(_isModalDialog){$.handleModalDialogInputKeyEvent();var A=setInterval(function(){$.ajax({url:_ctxPath+"/main.do?method=hangup&t="+Math.random()*100000000,async:true})},30000)}}catch(B){}$("input:reset").each(function(){$("input:text,select,input:checkbox,input:password",$(this).parents("form")).each(function(){if(this.type=="checkbox"){$(this).attr("coriginValue",this.checked)}$(this).attr("originValue",$(this).val())});var D=$(this);var E=$("<input type='button' />");E.attr("id",D.attr("id"));E.attr("className",D.attr("className")+" button_3");E.attr("style",D.attr("style"));E.attr("name",D.attr("name"));E.onmuseover=this["onmuseover"];E.val(D.val());D.after(E);D.remove();E.click(function(){$("input:text,select,input:checkbox,input:password",$(this).parents("form")).each(function(){if($(this).attr("originValue")){$(this).val($(this).attr("originValue"))}else{$(this).val("")}if(this.tagName.toUpperCase()=="SELECT"){for(var F=0;F<this.options.length;F++){if(this.options[F].value==$(this).attr("originValue")){this.options[F].selected=true}}}if(this.type=="checkbox"){if($(this).attr("coriginValue")!="true"){this.checked=false}else{this.checked=true}}})})});function C(D){if(typeof D=="string"&&D.length>10){return D.substring(0,10)}return D}if(document.all){$("a[href='javascript:void(0)']").live("click",function(D){D.preventDefault()})}}).defer(0,this)});Date.prototype.isBefore=function(C){var B=parseInt(this.format("Ymd")),A=parseInt(C.format("Ymd"));return B>A?-1:(B<A?1:0)};Date.prototype.before=function(C,G){if(!C||!G){return 0}var D=0,F,A=true,E=this,B=G;if(this.isBefore(G)==-1){A=false;E=G;B=this}F=E.clone();switch(C.toLowerCase()){case Date.MONTH:while(true){if(F.getYear()==B.getYear()&&F.getMonth()==B.getMonth()){break}else{D++;F=F.add(Date.MONTH,1)}}break;case Date.YEAR:while(true){if(F.getYear()==B.getYear()){break}else{D++;F=F.add(Date.YEAR,1)}}break}if(!A){D*=-1}return D};Date.prototype.roundBefore=function(D,I){var J,A=this,C=I,F=true;if(this.isBefore(I)==-1){F=false;bdate=I;adate=this}J=A.before(D,C);var E=A.getDate(),H=C.getDate();switch(D.toLowerCase()){case Date.MONTH:if(H<E){J--}break;case Date.YEAR:var G=A.getMonth(),B=C.getMonth();if(B<G){J--}else{if(B==G){if(H<E){J--}}}break}if(!F){J*=-1}return J};function isBefore(B,C){var A=Date.parseDate(B,"Y-m-d");var D=Date.parseDate(C,"Y-m-d");return A.isBefore(D)}function before(A,C,D){var B=Date.parseDate(C,"Y-m-d");var E=Date.parseDate(D,"Y-m-d");return B.before(A,E)}function roundBefore(A,C,D){var B=Date.parseDate(C,"Y-m-d");var E=Date.parseDate(D,"Y-m-d");return B.roundBefore(A,E)}(function($){$.fn.switchClone=function(da,hc){var t=this;if(!t.attr("_isclone")){var tc=t.attrObj("tmpclone");if(!tc){tc=t.clone();if(hc){hc(t[0].tagName.toLowerCase(),tc)}tc.attr("_isclone",1);t.attrObj("tmpclone",tc);t.after(tc)}if(t.attr("_hide")==1){if(!da){t.show();t.attr("_hide",0);tc.hide()}}else{if(da){t.hide();t.attr("_hide",1);tc.show()}}}};$.fn.disable=function(){this.each(function(i){$(this).find(":input,a.common_button").add(this).each(function(){var id=this.id,t=$(this),c=t.attrObj("_rel");switch(this.tagName.toLowerCase()){case"textarea":case"select":var dd=t.attrObj("_dropdown");if(dd){dd.disabled="true"}case"input":t.attr("disabled","yes");t.attr("_da",true);if(c){c.switchClone(true,function(tn,sc){if(tn=="a"){sc.addClass("common_button_disable")}else{sc.attr("disabled","yes")}})}break;case"a":if(!t.attr("_isrel")){t.switchClone(true,function(tn,sc){sc.addClass("common_button_disable")});t.attr("_da",true)}break}})})};$.fn.enable=function(){this.each(function(i){$(this).find(":input,a.common_button").add(this).each(function(){var id=this.id,t=$(this),c=t.attrObj("_rel");if(t.attr("_da")){switch(this.tagName.toLowerCase()){case"textarea":case"select":var dd=t.attrObj("_dropdown");if(dd){dd.disabled=null}case"input":t.removeAttr("disabled");t.attr("_da",false);if(c){c.switchClone(false)}break;case"a":if(!t.attr("_isrel")){t.switchClone(false);t.attr("_da",false)}break}}})})};var attrObjs=[];$.fn.attrObj=function(name,value){var obj;for(var i=0;i<attrObjs.length;i++){if(attrObjs[i].o==this[0]){obj=attrObjs[i];break}}if(!obj){obj=new Object();obj.o=this[0];obj.v=new Object();attrObjs.push(obj)}if(value){obj.v[name]=value}else{return obj.v[name]}};$.fn.removeAttrObj=function(name){for(var i=0;i<attrObjs.length;i++){if(attrObjs[i].o==this[0]){var obj=attrObjs[i];obj.v[name]=null;break}}};$.confirmClose=function(){var mute=arguments.length>0;var ua=navigator.userAgent;var isMSIE=(navigator.appName=="Microsoft Internet Explorer")||ua.indexOf("Trident")!=-1;if(isMSIE){document.body.onbeforeunload=function(){if(!mute&&isFormSubmit){window.event.returnValue=""}}}else{window.addEventListener("beforeunload",function(){if(!mute&&isFormSubmit){return""}},false)}};$.i18n=function(key){try{var lang=CTPLang[_locale];if(!lang){return key}var msg=lang[key];if(msg&&arguments.length>1){var messageRegEx_0=/\{0\}/g;var messageRegEx_1=/\{1\}/g;var messageRegEx_2=/\{2\}/g;var messageRegEx_3=/\{3\}/g;var messageRegEx_4=/\{4\}/g;var messageRegEx_5=/\{5\}/g;var messageRegEx_6=/\{6\}/g;var messageRegEx_7=/\{7\}/g;var messageRegEx_8=/\{8\}/g;var messageRegEx_9=/\{9\}/g;var messageRegEx_10=/\{10\}/g;var messageRegEx_11=/\{11\}/g;var messageRegEx_12=/\{12\}/g;var messageRegEx_13=/\{13\}/g;var messageRegEx_14=/\{14\}/g;var messageRegEx_15=/\{15\}/g;for(var i=0;i<arguments.length-1;i++){var regEx=eval("messageRegEx_"+i);var repMe=""+arguments[i+1];if(repMe.indexOf("$_")!=-1){repMe=repMe.replace("$_","$$_")}msg=msg.replace(regEx,repMe)}}return msg}catch(e){}return""}})(jQuery);var ctpCodeManager=RemoteJsonService.extend({jsonGateway:_ctxPath+"/ajax.do?method=ajaxAction&managerName=ctpCodeManager",selectCode:function(){return this.ajaxCall(arguments,"selectCode")}});var ctpUserPreferenceManager=RemoteJsonService.extend({jsonGateway:_ctxPath+"/ajax.do?method=ajaxAction&managerName=ctpUserPreferenceManager",saveGridPreference:function(){return this.ajaxCall(arguments,"saveGridPreference")}});var AjaxDataLoader={load:function(A,B,C){jQuery.ajax({type:"POST",url:A,data:B,async:true,success:function(D){if($.isFunction(C)){C(D)}}})}};Array.prototype.contains=function(B){for(var A=0;A<this.length;A++){if(this[A]==B){return true}}return false};String.prototype.format=function(){var A=arguments;return this.replace(/\{(\d+)\}/g,function(){return A[arguments[1]]})};function showMask(){try{if(getCtpTop()&&getCtpTop().startProc){getCtpTop().startProc()}}catch(A){}}function hideMask(){try{if(getCtpTop()&&getCtpTop().endProc){getCtpTop().endProc()}}catch(A){}}function getCtpTop(){try{var A=getCtpParentWindow(window);if(A){return A}else{return top}}catch(B){return top}}function getCtpParentWindow(C){var A=C;for(var B=0;B<20;B++){if(typeof A.isCtpTop!="undefined"&&A.isCtpTop){return A}else{A=A.parent}}};
var messageRegEx_0=/\{0\}/g;var messageRegEx_1=/\{1\}/g;var messageRegEx_2=/\{2\}/g;var messageRegEx_3=/\{3\}/g;var messageRegEx_4=/\{4\}/g;var messageRegEx_5=/\{5\}/g;var messageRegEx_6=/\{6\}/g;var messageRegEx_7=/\{7\}/g;var messageRegEx_8=/\{8\}/g;var messageRegEx_9=/\{9\}/g;var messageRegEx_10=/\{10\}/g;var messageRegEx_11=/\{11\}/g;var messageRegEx_12=/\{12\}/g;var messageRegEx_13=/\{13\}/g;var messageRegEx_14=/\{14\}/g;var messageRegEx_15=/\{15\}/g;var portalOfA8IframeStr="top.frames['frame_A8']";if(!window.ActiveXObject){if(typeof (HTMLElement)!="undefined"){HTMLElement.prototype.__defineSetter__("outerHTML",function(A){var B=this.ownerDocument.createRange();B.setStartBefore(this);var D=B.createContextualFragment(A);this.parentNode.replaceChild(D,this);return A});HTMLElement.prototype.__defineGetter__("outerHTML",function(){var A=this.attributes,D="<"+this.tagName,B=0;for(;B<A.length;B++){if(A[B].specified){D+=" "+A[B].name+'="'+A[B].value+'"'}}if(!this.canHaveChildren){return D+" />"}return D+">"+this.innerHTML+"</"+this.tagName+">"});HTMLElement.prototype.__defineGetter__("canHaveChildren",function(){return !/^(area|base|basefont|col|frame|hr|img|br|input|isindex|link|meta|param)$/.test(this.tagName.toLowerCase())})}}if(!window.ActiveXObject){if(!!document.getBoxObjectFor||window.mozInnerScreenX!=null){HTMLElement.prototype.__defineSetter__("innerText",function(B){var A=document.createTextNode(B);this.innerHTML="";this.appendChild(A);return A});HTMLElement.prototype.__defineGetter__("innerText",function(){var A=this.ownerDocument.createRange();A.selectNodeContents(this);return A.toString()})}if(!!document.getBoxObjectFor||window.mozInnerScreenX!=null){HTMLElement.prototype.__defineSetter__("outerText",function(B){var A=document.createTextNode(B);this.parentNode.replaceChild(A,this);return A});HTMLElement.prototype.__defineGetter__("outerText",function(){var A=this.ownerDocument.createRange();A.selectNodeContents(this);return A.toString()})}}String.prototype.getBytesLength=function(){var A=this.match(/[^\x00-\xff]/ig);return this.length+(A==null?0:A.length)};String.prototype.getLimitLength=function(D,G){if(!D||D<0){return this}var A=this.getBytesLength();if(A<=D){return this}G=G==null?"..":G;D=D-G.length;var B=0;var E="";for(var F=0;F<this.length;F++){if(this.charCodeAt(F)>255){B+=2}else{B++}E+=this.charAt(F);if(B>=D){return E+G}}return this};String.prototype.escapeHTML=function(B,A){try{return escapeStringToHTML(this,B,A)}catch(D){}return this};String.prototype.escapeUrl=function(A){try{return escapeStringToHTML(this.replace(/\n/g,""),A)}catch(B){}return this};String.prototype.escapeJavascript=function(){return escapeStringToJavascript(this)};String.prototype.escapeSpace=function(){return this.replace(/ /g,"&nbsp;")};String.prototype.escapeSameWidthSpace=function(){return this.replace(/ /g,"&nbsp;&nbsp;")};String.prototype.escapeXML=function(){return this.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;")};String.prototype.escapeQuot=function(){return this.replace(/\'/g,"&#039;").replace(/"/g,"&#034;")};String.prototype.startsWith=function(A){return this.indexOf(A)==0};String.prototype.endsWith=function(A){var B=this.indexOf(A);return B>-1&&B==this.length-A.length};String.prototype.trim=function(){var D=this.toCharArray();var A=0;var E=D.length;for(var B=0;B<D.length;B++){var F=D[B];if(F==" "){A++}else{break}}if(A==this.length){return""}for(var B=D.length;B>0;B--){var F=D[B-1];if(F==" "){E--}else{break}}return this.substring(A,E)};String.prototype.toCharArray=function(){var B=[];for(var A=0;A<this.length;A++){B[A]=this.charAt(A)}return B};Array.prototype.indexOf=function(A){for(var B=0;B<this.length;B++){if(this[B]==A){return B}}return -1};var log={rootLogger:"info",debugLevel:{debug:true,info:true,warn:true,error:true},infoLevel:{debug:false,info:true,warn:true,error:true},warnLevel:{debug:false,info:false,warn:true,error:true},errorLevel:{debug:false,info:false,warn:false,error:true},debug:function(A){if(this.isDebugEnabled()){alert("Debug : "+A)}},info:function(A){if(this.isInfoEnabled()){alert("Info : "+A)}},warn:function(A){if(this.isWarnEnabled()){alert("Warn : "+A)}},error:function(B,A){if(this.isErrorEnabled()){alert("Error : "+B+"\n\n"+A.message)}},isDebugEnabled:function(){return eval("this."+this.rootLogger+"Level.debug")},isInfoEnabled:function(){return eval("this."+this.rootLogger+"Level.info")},isWarnEnabled:function(){return eval("this."+this.rootLogger+"Level.warn")},isErrorEnabled:function(){return eval("this."+this.rootLogger+"Level.error")}};var UUID_seqence=0;function getUUID(){var A=new Date().getTime()+""+(UUID_seqence++);if(UUID_seqence>=100000){UUID_seqence=0}return A}var EmptyArrayList=new ArrayList();function ArrayList(){this.instance=new Array()}ArrayList.prototype.size=function(){return this.instance.length};ArrayList.prototype.add=function(A){this.instance[this.instance.length]=A};ArrayList.prototype.addSingle=function(A){if(!this.contains(A)){this.instance[this.instance.length]=A}};ArrayList.prototype.addAt=function(A,B){if(A>=this.size()||A<0||this.isEmpty()){this.add(B);return }this.instance.splice(A,0,B)};ArrayList.prototype.addAll=function(A){if(!A||A.length<1){return }this.instance=this.instance.concat(A)};ArrayList.prototype.addList=function(A){if(A&&A instanceof ArrayList&&!A.isEmpty()){this.instance=this.instance.concat(A.instance)}};ArrayList.prototype.get=function(A){if(this.isEmpty()){return null}if(A>this.size()){return null}return this.instance[A]};ArrayList.prototype.getLast=function(){if(this.size()<1){return null}return this.instance[this.size()-1]};ArrayList.prototype.set=function(B,D){if(B>=this.size()){throw"IndexOutOfBoundException : Index "+B+", Size "+this.size()}var A=this.instance[B];this.instance[B]=D;return A};ArrayList.prototype.removeElementAt=function(A){if(A>this.size()||A<0){return }this.instance.splice(A,1)};ArrayList.prototype.remove=function(B){var A=this.indexOf(B);this.removeElementAt(A)};ArrayList.prototype.contains=function(A,B){return this.indexOf(A,B)>-1};ArrayList.prototype.indexOf=function(D,E){for(var A=0;A<this.size();A++){var B=this.instance[A];if(B==D){return A}else{if(E!=null&&B!=null&&D!=null&&B[E]==D[E]){return A}}}return -1};ArrayList.prototype.lastIndexOf=function(D,E){for(var A=this.size()-1;A>=0;A--){var B=this.instance[A];if(B==D){return A}else{if(E!=null&&B!=null&&D!=null&&B[E]==D[E]){return A}}}return -1};ArrayList.prototype.subList=function(B,E){if(B<0){B=0}if(E>this.size()){E=this.size()}var D=this.instance.slice(B,E);var A=new ArrayList();A.addAll(D);return A};ArrayList.prototype.toArray=function(){return this.instance};ArrayList.prototype.isEmpty=function(){return this.size()==0};ArrayList.prototype.clear=function(){this.instance=new Array()};ArrayList.prototype.toString=function(A){A=A||", ";return this.instance.join(A)};function QuickSortArrayList(A,B){QuickSortArray(A.toArray(),B)}function QuickSortArray(A,B){if(B){A.sort(function(E,D){return E[B]<D[B]?-1:(E[B]==D[B]?0:1)})}else{A.sort()}}var EmptyProperties=new Properties();function Properties(A){this.instanceKeys=new ArrayList();this.instance={};if(A){this.instance=A;for(var B in A){this.instanceKeys.add(B)}}}Properties.prototype.size=function(){return this.instanceKeys.size()};Properties.prototype.get=function(B,A){if(B==null){return null}var D=this.instance[B];if(D==null&&A!=null){return A}return D};Properties.prototype.remove=function(A){if(A==null){return null}this.instanceKeys.remove(A);delete this.instance[A]};Properties.prototype.put=function(A,B){if(A==null){return null}if(this.instance[A]==null){this.instanceKeys.add(A)}this.instance[A]=B};Properties.prototype.putRef=function(A,B){if(A==null){return null}this.instanceKeys.add(A);this.instance[A]=B};Properties.prototype.getMultilevel=function(E,B){if(E==null){return null}var D=E.split(".");function A(J,H,G){try{if(J==null||(typeof J!="object")){return null}var K=J.get(H[G]);if(G<H.length-1){K=A(K,H,G+1)}return K}catch(I){}return null}var F=A(this,D,0);return F==null?B:F};Properties.prototype.containsKey=function(A){if(A==null){return false}return this.instance[A]!=null};Properties.prototype.keys=function(){return this.instanceKeys};Properties.prototype.values=function(){var E=new ArrayList();for(var B=0;B<this.instanceKeys.size();B++){var A=this.instanceKeys.get(B);if(A){var D=this.instance[A];E.add(D)}}return E};Properties.prototype.isEmpty=function(){return this.instanceKeys.isEmpty()};Properties.prototype.clear=function(){this.instanceKeys.clear();this.instance={}};Properties.prototype.swap=function(D,B){if(!D||!B||D==B){return }var F=-1;var E=-1;for(var A=0;A<this.instanceKeys.instance.length;A++){if(this.instanceKeys.instance[A]==D){F=A}else{if(this.instanceKeys.instance[A]==B){E=A}}}this.instanceKeys.instance[F]=B;this.instanceKeys.instance[E]=D};Properties.prototype.entrySet=function(){var A=[];for(var D=0;D<this.instanceKeys.size();D++){var B=this.instanceKeys.get(D);var E=this.instance[B];if(!B){continue}var F=new Object();F.key=B;F.value=E;A[A.length]=F}return A};Properties.prototype.toString=function(){var D="";for(var B=0;B<this.instanceKeys.size();B++){var A=this.instanceKeys.get(B);D+=A+"="+this.instance[A]+"\n"}return D};Properties.prototype.toStringTokenizer=function(F,E){F=F==null?";":F;E=E==null?"=":E;var G="";for(var B=0;B<this.instanceKeys.size();B++){var A=this.instanceKeys.get(B);var D=this.instance[A];if(!A){continue}if(B>0){G+=F}G+=A+E+D}return G};Properties.prototype.toQueryString=function(){if(this.size()<1){return""}var E="";for(var B=0;B<this.instanceKeys.size();B++){var A=this.instanceKeys.get(B);var D=this.instance[A];if(!A){continue}if(B>0){E+="&"}if(typeof D=="object"){}else{E+=A+"="+encodeURIat(D)}}return E};function encodeURIat(A){if((typeof A)!=="string"){return""}A=encodeURI(A);var B=/&|\/|\+|\?|\s|%|#|=/g;if(B.test(A)){A=A.replace(/(\/)/g,"%2F");A=A.replace(/(&)/g,"%26");A=A.replace(/(\+)/g,"%2B");A=A.replace(/(\?)/g,"%3F");A=A.replace(/(#)/g,"%23");A=A.replace(/(=)/g,"%3D")}return A}Properties.prototype.toInputString=function(){if(this.size()<1){return""}var E="";for(var B=0;B<this.instanceKeys.size();B++){var A=this.instanceKeys.get(B);var D=this.instance[A];if(!A){continue}if(typeof D=="object"){}else{E+="<input type='hidden' name=\""+A+'" value="'+encodeURI(D)+">"}}return E};function Set(){this.instance=new Array();this.key={}}Set.prototype.add=function(){if(arguments==null||arguments.length<1){throw"arguments is null"}for(var B=0;B<arguments.length;B++){var A=arguments[B];if(!this.contains(A)){this.instance[this.size()]=A;this.key[A]="A8"}}};Set.prototype.size=function(){return this.instance.length};Set.prototype.contains=function(A){return this.key[A]!=null};Set.prototype.isEmpty=function(){return this.size()==0};Set.prototype.clear=function(){this.instance=new Array();this.key={}};Set.prototype.get=function(A){if(this.isEmpty()){return null}if(A>this.size()){return null}return this.instance[A]};Set.prototype.toArray=function(){return this.instance};Set.prototype.toString=function(){return this.instance.join(", ")};function StringBuffer(){this._strings_=new Array()}StringBuffer.prototype.append=function(A){if(A){if(A instanceof Array){this._strings_=this._strings_.concat(A)}else{this._strings_[this._strings_.length]=A}}return this};StringBuffer.prototype.reset=function(A){this.clear();this.append(A)};StringBuffer.prototype.clear=function(){this._strings_=new Array()};StringBuffer.prototype.isBlank=function(){return this._strings_.length==0};StringBuffer.prototype.toString=function(A){A=A==null?"":A;if(this._strings_.length==0){return""}return this._strings_.join(A)};function V3X(){this.windowArgs=new Array();this.lastWindow=null;var A=navigator.userAgent;this.isMSIE=(navigator.appName=="Microsoft Internet Explorer")||A.indexOf("Trident")!=-1;this.isMSIE5=this.isMSIE&&(A.indexOf("MSIE 5")!=-1);this.isMSIE5_0=this.isMSIE&&(A.indexOf("MSIE 5.0")!=-1);this.isMSIE6=this.isMSIE&&(A.indexOf("MSIE 6")!=-1);this.isMSIE7=this.isMSIE&&(A.indexOf("MSIE 7")!=-1);this.isMSIE8=this.isMSIE&&(A.indexOf("MSIE 8")!=-1);this.isMSIE9=this.isMSIE&&(A.indexOf("MSIE 9")!=-1);this.isMSIE10=this.isMSIE&&(A.indexOf("MSIE 10")!=-1);this.isMSIE11=this.isMSIE&&(A.indexOf("rv:11")!=-1);this.isGecko=A.indexOf("Gecko")!=-1;this.isGecko18=A.indexOf("Gecko")!=-1&&A.indexOf("rv:1.8")!=-1;this.isSafari=A.indexOf("Safari")!=-1;this.isOpera=A.indexOf("Opera")!=-1;this.isFirefox=A.indexOf("Firefox")!=-1;this.isMac=A.indexOf("Mac")!=-1;this.isNS7=A.indexOf("Netscape/7")!=-1;this.isNS71=A.indexOf("Netscape/7.1")!=-1;this.isIpad=A.indexOf("iPad")!=-1;this.isChrome=A.indexOf("Chrome")!=-1;this.currentBrowser="";this.browserFlag={openWindow:[true,true,true,false,false,false,false],sectionOpenDetail:[true,true,true,false,true,true,false],selectPeople:[true,true,true,false,true,true,false],htmlEditer:[true,true,true,false,true,true,false],hideMenu:[true,true,true,false,true,true,false],newFlash:[true,true,true,false,true,false,false],signature:[true,true,false,false,false,false,false],createProcess:[true,true,true,false,true,true,false],flash:[true,true,true,false,true,true,false],downLoad:[true,true,true,false,true,true,false],print:[true,true,true,false,true,true,false],exportExcel:[true,true,true,false,true,true,false],pageBreak:[true,true,true,false,true,true,false],menuPosition:[false,false,false,true,false,false,false],officeMenu:[true,true,false,false,false,false,false],selectPeopleShowType:[true,true,true,false,true,true,false],OpenDivWindow:[true,true,true,false,true,true,false],selectDivType:[true,true,true,false,true,true,false],onDbClick:[true,true,true,false,true,true,true],needModalWindow:[true,true,true,false,true,true,false],onlyIe:[true,true,false,false,false,false,false]};this.dialogCounter=0;this.defaultLanguage="en";this.currentLanguage="";this.baseURL="";this.loadedFiles=new Array();this.workSpaceTop=130;if(this.isMSIE8){this.workSpaceTop=140}if(!this.isMSIE7&&!this.isMSIE8){this.workSpaceTop=130}this.workSpaceLeft=0;this.workSpaceWidth=screen.width-this.workSpaceLeft;this.workSpaceheight=screen.height-this.workSpaceTop-20-(this.isMSIE7?35:0);if(this.isOpera){this.isMSIE=true;this.isGecko=false;this.isSafari=false}this.settings={dialog_type:"modal",resizable:"yes",scrollbars:"yes"}}V3X.prototype.init=function(A,B){if(A){this.baseURL=A}this.currentLanguage=B;this.getCurrentBrowser()};V3X.prototype.getCurrentBrowser=function(){if(this.isMSIE||this.isMSIE5||this.isMSIE5_0||this.isMSIE7||this.isMSIE8){this.currentBrowser="MSIE"}if(this.isMSIE9){this.currentBrowser="MSIE9"}if(this.isFirefox){this.currentBrowser="FIREFOX"}if(this.isSafari){this.currentBrowser="SAFARI"}if(this.isChrome){this.currentBrowser="CHROME"}if(this.isIpad){this.currentBrowser="IPAD"}if(this.isOpera){this.currentBrowser="OPERA"}};V3X.prototype.getBrowserFlag=function(A){if(A!=null&&A!=""){var B=0;if(this.currentBrowser=="MSIE"){B=0}if(this.currentBrowser=="MSIE9"){B=1}if(this.currentBrowser=="FIREFOX"){B=2}if(this.currentBrowser=="IPAD"){B=3}if(this.currentBrowser=="CHROME"){B=4}if(this.currentBrowser=="SAFARI"){B=5}if(this.currentBrowser=="OPERA"){B=6}return this.browserFlag[A][B]}};V3X.prototype.openDialog=function(A){return new MxtWindow(A)};V3X.prototype.getEvent=function(){if(this.isMSIE){return window.event}func=v3x.getEvent.caller;while(func!=null){var A=func.arguments[0];if(A){if((A.constructor==Event||A.constructor==MouseEvent)||(typeof (A)=="object"&&A.preventDefault&&A.stopPropagation)){return A}}func=func.caller}return null};V3X.prototype.openWindow=function(B){var L,O,N,K,J,H,S,F;this.windowArgs=B;L=B.html;if(B.FullScrean){O=this.workSpaceWidth;N=this.workSpaceheight+this.workSpaceTop;K=0;J=0}else{if(B.workSpace){O=this.workSpaceWidth;N=this.workSpaceheight;O=O-30;K=this.workSpaceLeft;J=this.workSpaceTop;J=J-40}else{if(B.workSpaceRight){O=this.workSpaceWidth-155;N=this.workSpaceheight;if(this.isMSIE8){N=this.workSpaceheight-48}if(!this.isMSIE7&&!this.isMSIE8){O=this.workSpaceWidth-165;N=this.workSpaceheight-35}K=140;J=this.workSpaceTop}else{O=B.width||320;N=B.height||200;O=parseInt(O);N=parseInt(N);if(this.isMSIE){if(this.isMSIE7||this.isMSIE8){N-=6}else{N+=20}}K=B.left||parseInt(screen.width/2)-(O/2);J=B.top||parseInt(screen.height/2)-(N/2)}}}H=B.resizable||this.settings.resizable;S=B.scrollbars||this.settings.scrollbars;F=B.url;if(L){var E=window.open("","v3xPopup"+new Date().getTime(),"top="+J+",left="+K+",scrollbars="+S+",dialog=yes,minimizable="+H+",modal=yes,width="+O+",height="+N+",resizable="+H);if(E==null){return }E.document.write(L);E.document.close();E.resizeTo(O,N);E.focus();return E}else{var A=B.dialogType||this.settings.dialog_type;if(A=="modal"){var G="resizable:"+H+";scroll:"+S+";status:no;help:no;dialogWidth:"+O+"px;dialogHeight:"+N+"px;";if(B.workSpace||B.workSpaceRight||(B.left&&B.top)){G+="dialogTop:"+J+"px;dialogLeft:"+K+"px;"}else{var D=(parseInt(getA8Top().document.body.offsetWidth)-O)/2;var M=(parseInt(getA8Top().document.body.offsetHeight)-N)/2;if(D==null||M==null||D<0||M<0){D=200;M=200}G+=this.isMSIE?"center:yes;":"dialogTop:"+M+"px;dialogLeft:"+D+"px;"}if(F.indexOf("?")!=-1){F+="&"}else{F+="?"}F+="_isModalDialog=true";var I=window.showModalDialog(F,window,G);var R=null;if(this.ModalDialogResultValue==undefined){R=I}else{R=this.ModalDialogResultValue;this.ModalDialogResultValue=undefined}return R}else{var I=null;var Q=(H=="yes")?"no":"yes";if(this.isGecko&&this.isMac){Q="no"}if(B.closePrevious!="no"){try{this.lastWindow.close()}catch(P){}}if(window.dialogArguments&&B.workSpace){J-=5;N-=25}var E=window.open(F,"v3xPopup"+new Date().getTime(),"top="+J+",left="+K+",scrollbars="+S+",dialog="+Q+",minimizable="+H+",modal="+Q+",width="+O+",height="+N+",resizable="+H);if(E==null){return }if(B.closePrevious!="no"){this.lastWindow=E}if(this.isGecko&&!this.isMSIE){if(E.document.defaultView.statusbar.visible){E.resizeBy(0,this.isMac?10:24)}}E.focus();return E}}};V3X.prototype.setResultValue=function(A){this.getParentWindow().v3x.ModalDialogResultValue=A};V3X.prototype.closeWindow=function(A){A.close()};V3X.prototype.getParentWindow=function(A){A=A||window;if(A.dialogArguments){return A.dialogArguments}else{return A.opener||A}};V3X.prototype.loadLanguage=function(A){this.loadScriptFile(this.baseURL+A+"/"+this.currentLanguage+".js?V=3_50_2_29")};V3X.prototype.getMessage=function(key){try{var msg=eval(""+key);if(msg&&arguments.length>1){for(var i=0;i<arguments.length-1;i++){var regEx=eval("messageRegEx_"+i);var repMe=""+arguments[i+1];if(repMe.indexOf("$_")!=-1){repMe=repMe.replace("$_","$$_")}msg=msg.replace(regEx,repMe)}}return msg}catch(e){}return""};V3X.prototype.loadScriptFile=function(A){for(var B=0;B<this.loadedFiles.length;B++){if(this.loadedFiles[B]==A){return }}document.write('<script language="javascript" type="text/javascript" charset="UTF-8" src="'+A+'"><\/script>');this.loadedFiles[this.loadedFiles.length]=A};V3X.prototype.getElementPosition=function(E){var A=navigator.userAgent.toLowerCase();var B=(A.indexOf("opera")!=-1);var F=(A.indexOf("msie")!=-1&&!B);if(E.parentNode===null||E.style.display=="none"){return false}var L=null;var K=[];var I;if(E.getBoundingClientRect){I=E.getBoundingClientRect();var D=Math.max(document.documentElement.scrollTop,document.body.scrollTop);var G=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft);return{x:I.left+G,y:I.top+D}}else{if(document.getBoxObjectFor){I=document.getBoxObjectFor(E);var J=(E.style.borderLeftWidth)?parseInt(E.style.borderLeftWidth):0;var H=(E.style.borderTopWidth)?parseInt(E.style.borderTopWidth):0;K=[I.x-J,I.y-H]}else{K=[E.offsetLeft,E.offsetTop];L=E.offsetParent;if(L!=E){while(L){K[0]+=L.offsetLeft;K[1]+=L.offsetTop;L=L.offsetParent}}if(A.indexOf("opera")!=-1||(A.indexOf("safari")!=-1&&E.style.position=="absolute")){K[0]-=document.body.offsetLeft;K[1]-=document.body.offsetTop}}}if(E.parentNode){L=E.parentNode}else{L=null}while(L&&L.tagName!="BODY"&&L.tagName!="HTML"){K[0]-=L.scrollLeft;K[1]-=L.scrollTop;if(L.parentNode){L=L.parentNode}else{L=null}}return{x:K[0],y:K[1]}};function disableButton(D,A){A=A||"100%";if(!D){return false}var E=null;if(typeof D=="string"){E=document.getElementById(D)}else{E=D}if(!E){return false}if(document.readyState!="complete"){if(typeof D=="string"){window.setTimeout("disableButton('"+D+"')",2500)}else{window.setTimeout("disableButton("+D+")",2500)}return }var B=E.cDisabled;B=(B!=null);if(!B){E.cDisabled=true;if(document.getElementsByTagName){var F="<span style='background: buttonshadow; filter: chroma(color=white) dropshadow(color=buttonhighlight, offx=1, offy=1); height: "+A+";'>";F+="  <span style='filter: mask(color=white); height: "+A+"'>";F+=E.innerHTML;F+="  </span>";F+="</span>";E.innerHTML=F}else{E.innerHTML='<span style="background: buttonshadow; width: 100%; height: 100%; text-align: center;"><span style="filter:Mask(Color=buttonface) DropShadow(Color=buttonhighlight, OffX=1, OffY=1, Positive=0); height: 100%; width: 100%; text-align: center;">'+E.innerHTML+"</span></span>"}if(E.onclick!=null){E.cDisabled_onclick=E.onclick;E.onclick=null}if(E.onmouseover!=null){E.cDisabled_onmouseover=E.onmouseover;E.onmouseover=null}if(E.onmouseout!=null){E.cDisabled_onmouseout=E.onmouseout;E.onmouseout=null}}}function enableButton(B){if(!B){return false}var D=null;if(typeof B=="string"){D=document.getElementById(B)}else{D=B}if(!D){return false}var A=D.cDisabled;A=(A!=null);if(A){D.cDisabled=null;D.innerHTML=D.children[0].children[0].innerHTML;if(D.cDisabled_onclick!=null){D.onclick=D.cDisabled_onclick;D.cDisabled_onclick=null}if(D.cDisabled_onmouseover!=null){D.onmouseover=D.cDisabled_onmouseover;D.cDisabled_onmouseover=null}if(D.cDisabled_onmouseout!=null){D.onmouseout=D.cDisabled_onmouseout;D.cDisabled_onmouseout=null}}}var attachmentConstants={height:20};function downloadAttachment(A,E,B){var D=_ctxPath;var G=document.forms.downloadFileForm;if(!G){var F=document.createElement("<form name='downloadFileForm' action='"+D+"/fileUpload.do' method='get' target='downloadFileFrame' style='margin:0px;padding:0px'></form>");document.body.appendChild(F);F.appendChild(document.createElement("<input type='hidden' name='method' value='download'>"));F.appendChild(document.createElement("<input type='hidden' name='viewMode' value='download'>"));F.appendChild(document.createElement("<input type='hidden' name='fileId' value=''>"));F.appendChild(document.createElement("<input type='hidden' name='createDate' value=''>"));F.appendChild(document.createElement("<input type='hidden' name='filename' value=''>"));G=document.forms.downloadFileForm}G.fileId.value=A;G.createDate.value=E;G.filename.value=B;G.submit()}function Attachment(D,G,Q,F,I,B,E,O,R,P,N,H,M,K,J,A,L){this.id=D;this.reference=G;this.subReference=Q;this.category=F;this.type=I;this.filename=B;this.mimeType=E;this.createDate=O;this.size=R;this.fileUrl=P;this.description=N||"";this.needClone=H;this.extension=M;this.icon=K;this.isCanTransform=A=="enable"?true:false;this.onlineView=J==null?true:J;this.extReference="";this.extSubReference="";this.showArea="";this.embedInput="";this.hasSaved=false;this.v=L;this.canFavourite=true;this.isShowImg=false;this.fileUrl2=P}var pw=new Object();function loadInit(){try{var B=new ActiveXObject("HandWrite.HandWriteCtrl");pw.installDoc=B.WebApplication(".doc");pw.installXls=B.WebApplication(".xls");pw.installWps=B.WebApplication(".wps");pw.installEt=B.WebApplication(".et")}catch(A){pw.installDoc=false;pw.installXls=false;pw.installWps=false;pw.installEt=false}if(pw.installDoc){attFileType.put("application/msword","OfficeWord");attFileType.put("application/vnd.openxmlformats-officedocument.wordprocessingml.document","OfficeWord");attFileType.put(".doc","OfficeWord");attFileType.put(".docx","OfficeWord");attFileType.put("application/kswps","OfficeWord");attFileType.put(".wps","OfficeWord")}if(pw.installXls){attFileType.put("application/vnd.ms-excel","OfficeExcel");attFileType.put("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","OfficeExcel");attFileType.put(".xls","OfficeExcel");attFileType.put(".xlsx","OfficeExcel");attFileType.put("application/kset","OfficeExcel");attFileType.put(".et","OfficeExcel")}if(pw.installWps){attFileType.put("application/kswps","OfficeWord");attFileType.put(".wps","OfficeWord");attFileType.put("application/msword","OfficeWord");attFileType.put("application/vnd.openxmlformats-officedocument.wordprocessingml.document","OfficeWord");attFileType.put(".doc","OfficeWord");attFileType.put(".docx","OfficeWord")}if(pw.installEt){attFileType.put("application/kset","OfficeExcel");attFileType.put(".et","OfficeExcel");attFileType.put("application/vnd.ms-excel","OfficeExcel");attFileType.put("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","OfficeExcel");attFileType.put(".xls","OfficeExcel");attFileType.put(".xlsx","OfficeExcel")}}function getMimeType(E,D){var B=D.toLocaleLowerCase();var A=B.lastIndexOf(".");if(A!=-1){B=B.substring(A)}if(attFileType){if(attFileType.get(E)){return attFileType.get(E)}if(attFileType.get(B)){return attFileType.get(B)}}return null}Attachment.prototype.show=function(D,B,A){document.write(this.toString(D,B,A))};var allowTransType=["doc","docx","xls","xlsx","ppt","pptx","rtf","eio"];Attachment.prototype.allowTrans=function(){if(this.type!=0&&this.type!=3){return false}var A=this.filename.toLowerCase();for(var B=0;B<allowTransType.length;B++){if(A.endsWith("."+allowTransType[B])){return true}}return false};Attachment.prototype.canEditOnline=function(){if(this.type!=0){return false}var A=getMimeType(this.mimeType,this.filename);if(A){return true}return false};Attachment.prototype.toString=function(L,A,E,N){var J=_ctxPath;loadInit();var P="";var H=null;if(this.type!=2){H=$("#attachmentArea"+this.showArea).prev()}else{H=$("#attachment2Area"+this.showArea).prev()}var T="left";var K=";height: "+attachmentConstants.height+"px; ";var Q="noWrap";if(H&&H.attr("comp")!=undefined){var F=$.parseJSON("{"+H.attr("comp")+"}");T=((F.isBR==undefined)?false:F.isBR)?"none":"left";K=((F.displayMode==undefined)?K:";");Q=((F.displayMode==undefined)?Q:"")}P+="<div id='attachmentDiv_"+this.fileUrl2+"' class='attachment_block' style='float:"+T+K+" line-height: 14px;' "+Q+">";if(this.type!=1&&!this.isShowImg){P+='<span class="ico16 '+this.icon.substring(0,this.icon.indexOf("."))+'_16 margin_r_5"></span>'}if(this.isShowImg){P+='<img style="CURSOR: pointer" onclick="window.showModalDialog($(this).attr(\'src\'),window,\'dialogHeight:768px;dialogWidth:1024px;center:yes;resizable:yes;\')" src="'+J+"/fileUpload.do?method=showRTE&fileId="+this.fileUrl2+"&createDate="+this.createDate.substring(0,10)+'&type=image">'}else{if(L&&(this.type==0||this.type==3||this.type==5)){if(this.type==3){P+="<a onclick='downloadAttachment(\""+this.fileUrl2+'","'+this.createDate.substring(0,10)+'","'+escapeStringToHTML(this.filename)+'")\' title="'+escapeStringToHTML(this.filename)+"\" target='downloadFileFrame' style='font-size:12px;color:#007CD2;' class='like-a'>"}else{P+='<a href="'+J+"/file"+(this.v?"Download":"Upload")+".do?method=download&fileId="+this.fileUrl2+(this.v?("&v="+this.v):"")+"&createDate="+this.createDate.substring(0,10)+"&filename="+encodeURIComponent(this.filename)+'" title="'+escapeStringToHTML(this.filename)+"\" target='downloadFileFrame' style='font-size:12px;color:#007CD2;'>"}}}if(E&&this.category!=2){P+="<a onclick=\"editOfficeOnline('"+this.id+'\')" title="'+escapeStringToHTML(this.filename)+"\" target='downloadFileFrame' style='font-size:12px;color:#007CD2;' class='like-a'>";L=true}if((this.type==2||this.type==4)&&this.description&&(E!=false)){var O="";var D="";if(this.type==4){try{if(parent.parent.openerSummaryId&&parent.parent.openerSummaryId!=this.reference){D="&openerSummaryId="+parent.parent.openerSummaryId}else{if(noFlowRecordId){D="&noFlowRecordId="+noFlowRecordId}}}catch(S){}}if(this.mimeType=="collaboration"){O="openDetailURL('"+J+"/collaboration/collaboration.do?method=summary&openFrom=glwd&type=&affairId="+this.description+"&baseObjectId="+this.reference+"&baseApp="+this.category+"')"}if(this.mimeType=="edoc"){O="openDetailURL('"+J+"/edocController.do?method=detailIFrame&from=Done&openFrom=glwd&affairId="+this.description+"&isQuote=true&baseObjectId="+this.reference+"&baseApp="+this.category+"')"}else{if(this.mimeType=="km"){O="openDetailURL('"+J+"/doc.do?method=docOpenIframeOnlyId&openFrom=glwd&docResId="+this.description+"&baseObjectId="+this.reference+"&baseApp="+this.category+D+"')"}else{if(this.mimeType=="meeting"){O="openDetailURL('"+J+"/mtMeeting.do?method=myDetailFrame&id="+this.description+"&isQuote=true&baseObjectId="+this.reference+"&baseApp="+this.category+"&state=10');"}}}P+='<a class="hand" onclick="'+O+'" title="'+escapeStringToHTML(this.filename)+"\" style='cursor: hand;font-size:12px;color:#007CD2;'>";L=true}if(this.type!=1&&(this.embedInput==null||this.embedInput==""||this.category!=2)){var R=25;if(N){R=parseInt(N/8)}if(!this.isShowImg){P+=this.filename.getLimitLength(R).escapeHTML()}}else{if(!this.isShowImg){P+=this.filename}}if(this.size&&this.type==0){if(!this.isShowImg){P+="("+(parseInt(this.size/1024)+1)+"KB)"}}if(L&&!this.isShowImg){P+="</a>"}if(L&&this.isCanTransform&&this.allowTrans()&&this.hasSaved){P+='<a href="'+J+"/officeTrans.do?method=view&fileId="+this.fileUrl2+"&createDate="+this.createDate.substring(0,10)+"&filename="+encodeURIComponent(this.filename)+"\" target='downloadFileFrame' style='font-size:12px;color:#007CD2;' title='"+$.i18n("officeTrans.view.label")+'\'><span class="ico16 view_attachments_16"></span></a>'}if(A){P+='<span class="ico16 affix_del_16" title="'+$.i18n("common.button.delete.label")+'" onclick="deleteAttachment(\''+this.fileUrl2+"')\" ></span>"}if(seeyonProductId>0&&this.hasSaved&&this.canFavourite&&this.type!=2&&!this.isShowImg){var G=new knowledgeFavoriteManager();var I=G.hasFavorite(this.fileUrl2);var M='style="display: none;"',B="";if(I){B=M;M=""}P+='<span id="favoriteSpan'+this.fileUrl2+'" class="ico16 unstore_16" '+B+' title="'+$.i18n("doc.jsp.knowledge.collection")+'" onclick="favorite(\''+this.category+"', '"+this.fileUrl2+"',false,4)\" ></span>";P+='<span id="cancelFavorite'+this.fileUrl2+'" class="ico16 stored_16" '+M+' title="'+$.i18n("doc.jsp.cancel.collection.js")+'" onclick="cancelFavorite(\''+this.category+"', '"+this.fileUrl2+"',false,4)\" ></span>"}if((A&&this.canEditOnline()&&this.id!=undefined)&&this.category==2){P+='<iframe id=\'officeEditorIframe\' name=\'officeEditorIframe\' frameborder="0" height="0" width="0" scrolling="no" marginheight="0" marginwidth="0"></iframe>';P+='<span id="editOnline_'+this.id+'" > <a class="hand" title = "'+$.i18n("common.toolbar.edit.label")+'" onclick="editOfficeOnline4Form(\''+this.id+"','"+this.fileUrl+"','"+this.filename+"','"+this.mimeType+"','"+this.category+"','"+this.createDate+'\')"><span class="ico16 editor_16"></span></a></span>'}P+="&nbsp;</div>";return P};function editOfficeOnline4Form(E,J,B,F,G,I){var H=getMimeType(F,B);var D=_ctxServer+"/genericController.do?ViewPage=ctp/common/fileUpload/officeEdit&id="+E+"&content="+J+"&bodyType="+H+"&createDate="+I+"&category="+G;if(B.indexOf(".docx")!=-1||B.indexOf(".DOCX")!=-1||B.indexOf(".xlsx")!=-1||B.indexOf(".XLSX")!=-1||B.indexOf(".pptx")!=-1||B.indexOf(".PPTX")!=-1){var A=$.confirm({msg:$.i18n("collaboration.attEdit.officeSaveTo2003"),ok_fn:function(){officeEditorIframe.location.href=D},cancel_fn:function(){return }})}else{officeEditorIframe.location.href=D}}function deleteAtt4Form(B){var A=B.getAttribute?B.getAttribute("fileUrl"):B.fileUrl;var D=B.getAttribute?B.getAttribute("fileName"):B.fileName;deleteAttachmentForForm(A,D)}function openDetailURL(B){var A="modal";if(!v3x.getBrowserFlag("openWindow")){A="open;"}var D=v3x.openWindow({url:B,dialogType:A,workSpace:"yes"})}Attachment.prototype.toInput=function(){var A="";A+="<input type='hidden' name='attachment_id' value='"+this.id+"'>";A+="<input type='hidden' name='attachment_reference' value='"+this.reference+"'>";A+="<input type='hidden' name='attachment_subReference' value='"+this.subReference+"'>";A+="<input type='hidden' name='attachment_category' value='"+this.category+"'>";A+="<input type='hidden' name='attachment_type' value='"+this.type+"'>";A+="<input type='hidden' name='attachment_filename' value='"+escapeStringToHTML(this.filename)+"'>";A+="<input type='hidden' name='attachment_mimeType' value='"+this.mimeType+"'>";A+="<input type='hidden' name='attachment_createDate' value='"+this.createDate+"'>";A+="<input type='hidden' name='attachment_size' value='"+this.size+"'>";A+="<input type='hidden' name='attachment_fileUrl' value='"+this.fileUrl+"'>";A+="<input type='hidden' name='attachment_description' value='"+this.description+"'>";A+="<input type='hidden' name='attachment_needClone' value='"+this.needClone+"'>";A+="<input type='hidden' name='attachment_extReference' value='"+this.extReference+"'>";A+="<input type='hidden' name='attachment_extSubReference' value='"+this.extSubReference+"'>";return A};Attachment.prototype.toContentInput=function(){var A="";A+="<input type='hidden' name='content_attachment_id' value='"+this.id+"'>";A+="<input type='hidden' name='content_attachment_reference' value='"+this.reference+"'>";A+="<input type='hidden' name='content_attachment_subReference' value='"+this.subReference+"'>";A+="<input type='hidden' name='content_attachment_category' value='"+this.category+"'>";A+="<input type='hidden' name='content_attachment_type' value='"+this.type+"'>";A+="<input type='hidden' name='content_attachment_filename' value='"+escapeStringToHTML(this.filename)+"'>";A+="<input type='hidden' name='content_attachment_mimeType' value='"+this.mimeType+"'>";A+="<input type='hidden' name='content_attachment_createDate' value='"+this.createDate+"'>";A+="<input type='hidden' name='content_attachment_size' value='"+this.size+"'>";A+="<input type='hidden' name='content_attachment_fileUrl' value='"+this.fileUrl+"'>";A+="<input type='hidden' name='content_attachment_description' value='"+this.description+"'>";A+="<input type='hidden' name='content_attachment_needClone' value='"+this.needClone+"'>";return A};Attachment.prototype.toJson=function(){return'{id:"'+this.id+'", reference:"'+this.reference+'", subReference:"'+this.subReference+'", category:"'+this.category+'", type:"'+this.type+'", filename:"'+escapeStringToHTML(this.filename)+'", mimeType:"'+this.mimeType+'", createDate:"'+this.createDate+'", size:"'+this.size+'", fileUrl:"'+this.fileUrl+'", description:"'+this.description+'", needClone:"'+this.needClone+'",extension:"'+this.extension+'",icon:"'+this.icon+'",extReference:"'+this.extReference+'",extSubReference:"'+this.extSubReference+'"}'};function showAttachment(L,K,B,A,E){try{if(!theToShowAttachments){return }var D=0;var J="";for(var F=0;F<theToShowAttachments.size();F++){var I=theToShowAttachments.get(F);if(I.subReference==L&&I.type==K){J+=I.toString(true,false);D++}}if(!E){document.write(J);document.close()}else{var N=document.getElementById(E);N.innerHTML=J}if(D>0){if(B){var M=document.getElementById(B);if(M){M.style.display=""}}if(A){var G=document.getElementById(A);if(G){G.innerHTML=""+D}}}else{if(B){var M=document.getElementById(B);if(M){M.style.display="none"}}}if(A){var G=document.getElementById(A);if(G){G.innerHTML=""+D}}}catch(H){}}function exportAttachment(D){if(D.getAttribute("expand")){return }var B=D.className;D.className="div-float";var A=D.scrollHeight;if(A>=(attachmentConstants.height*2)){D.className="attachment-all-80"}else{D.className=B}D.setAttribute("expand","yes")}var fileUploadAttachments=new Properties();var fileUploadAttachment=null;var fileUploadQuantity=5;var attachObject="";var atttachTr="";var attachDelete;var attachCount=true;var theHasDeleteAtt=new Properties();var attFileType=new Properties();function isUploadAttachment(){return !fileUploadAttachments.isEmpty()}function resetAttachment(E,B,D,A){attachObject=E;atttachTr=B;attachDelete=D;attachCount=A;fileUploadAttachment=new Properties()}function clearUploadAttachments(){attachObject="";atttachTr="";attachDelete=null;attachCount=true;fileUploadAttachment.clear();fileUploadAttachment=null}function saveAttachment(B,F){var G=null;if(fileUploadAttachment!=null){G=fileUploadAttachment.values()}else{G=fileUploadAttachments.values()}var E=B||document.getElementById("attachmentInputs")||document.getElementById("attachmentEditInputs");var A="";for(var D=0;D<G.size();D++){A+=G.get(D).toInput()}if(E){E.innerHTML=A;if(!F||F!="false"){if(attActionLog&&!fileUploadAttachments.isEmpty()){E.innerHTML+="<input type='hidden' name='isEditAttachment' value='1'/>"}}}else{alert("Warn: Save attachments unsuccessful");return false}return true}function saveAttachmentPart(F){var H=null;if(fileUploadAttachment!=null){H=fileUploadAttachment.values()}else{H=fileUploadAttachments.values()}if(F){var E=$("#"+F);var D=$.parseJSON("{"+E.attr("comp")+"}");var G=D.attachmentTrId;var A="";for(var B=0;B<H.size();B++){if(G==H.get(B).showArea){A+=H.get(B).toInput()}}E.append($(A))}else{alert("ERROR: \u4f20\u5165\u53c2\u6570\u9519\u8bef\uff01");return false}return true}function saveContentAttachment(B){var F=null;if(fileUploadAttachment!=null){F=fileUploadAttachment.values()}else{F=fileUploadAttachments.values()}var A="";for(var D=0;D<F.size();D++){A+=F.get(D).toContentInput()}var E=B||parent.detailRightFrame.document.getElementById("contentAttachmentInputs");if(E){E.innerHTML=A;E.innerHTML+="<input type='hidden' name='isContentAttchmentChanged' value='1'>"}else{alert("Warn: Save attachments unsuccessful");return false}return true}function getAttachmentsToMap(){var D=fileUploadAttachments.values();if(!D||D.isEmpty()){return true}var A="";for(var B=0;B<D.size();B++){A+=D.get(B).toMap()}if(A!=null){return A}}Attachment.prototype.toMap=function(){var A="#attachment_id="+this.id+";";A+="attachment_reference"+this.reference+";";A+="attachment_subReference="+this.subReference+";";A+="attachment_category="+this.category+";";A+="attachment_type="+this.type+";";A+="attachment_filename="+escapeStringToHTML(this.filename)+";";A+="attachment_mimeType="+this.mimeType+";";A+="attachment_createDate="+this.createDate+";";A+="attachment_size="+this.size+";";A+="attachment_fileUrl="+this.fileUrl+";";A+="attachment_description="+this.description+";";A+="attachment_needClone="+this.needClone+";";return A};function cloneAllAttachments(){var B=fileUploadAttachments.values();for(var A=0;A<B.size();A++){B.get(A).needClone=true}}function deleteAttachment(fileUrl,showAlert){var file=fileUploadAttachments.get(fileUrl);if(file==null){return }if(showAlert!=false){if(file.type==2){if(!confirm($.i18n("assdoc.isdeletesomeone.mesg").format(file.filename))){return 1}}else{if(!confirm($.i18n("common.isdeletesomeone.label").format(file.filename))){return 1}}}attActionLog=new AttActionLog();fileUploadAttachments.remove(fileUrl);document.getElementById("attachmentDiv_"+fileUrl).parentNode.removeChild(document.getElementById("attachmentDiv_"+fileUrl));showAttachmentNumber(file.type,file);var num=getFileAttachmentNumber(file.type,file.showArea);if(num<1){if(!(typeof (_updateAttachmentState)!="undefined"&&_updateAttachmentState)){showAtachmentTR(file.type,"none",file.showArea)}}var attachmentInputsObj=document.getElementById("attachmentInputs");var canUpdateAttachmentFromSended=document.getElementById("canUpdateAttachmentFromSended");if(canUpdateAttachmentFromSended&&canUpdateAttachmentFromSended.value=="submit"){updateAttachment("del",attachmentInputsObj)}if(typeof (removeChanged)!="undefined"){removeChanged=true}try{quoteDocumentFrame.window.deselectItem(fileUrl)}catch(e){}try{var attdiv="attachment2Area";if(file.showArea!=null){attdiv+=file.showArea}eval($("#"+attdiv).attr("callMethod"))()}catch(e){}if(typeof (addScrollForDocument)=="function"){addScrollForDocument()}}function deleteAttachmentForImage(A,D){deleteAttachment(A,D);var B=document.getElementById("imageId");if(B){B.value=""}}function dymcCreateFileUpload(L,S,T,J,D,G,P,R,N,O,F,B,E,M){var A=_ctxPath+"/fileUpload.do?type="+((R==null)?"":("&firstSave="+R))+"&applicationCategory="+S+"&extensions="+((T==null)?"":T)+((J==null)?"":("&quantity="+J))+((D==null)?"":("&isEncrypt="+D))+((P==null)?"":("&attachmentTrId="+P))+((G==null)?"":("&callMethod="+G))+((E==null)?"":("&maxSize="+E))+((B==null)?"":("&takeOver="+B));var I=false;try{var K=new ActiveXObject("UFIDA_Upload.A8Upload.2");K.SetLimitFileSize(1024);I=true}catch(Q){I=false}A+=((!I)?"":("&isA8geniusAdded="+I));var H="<div id='attachmentArea"+((P==null)?"":P)+"' style=\"overflow: auto;\" requrl='"+A+"'></div>";if($("#downloadFileFrame").length==0){H=H+'<div style="display:none;"><iframe name="downloadFileFrame" id="downloadFileFrame" frameborder="0" width="0" height="0"></iframe></div>'}$("#"+L).replaceWith(H);parseAttData(O,P,true,N,F,M)}function parseAttData(I,H,G,B,E,F){if(I!=null&&I!=""){I=$.parseJSON(I)}if(I&&I instanceof Array){var A;for(var D=0;D<I.length;D++){A=I[D];if(G){if(A.type==2){continue}}else{if(A.type!=2){continue}}if(F==null){F=true}if(H){addAttachmentPoi(A.type,A.filename,A.mimeType,A.createdate?A.createdate.toString():null,A.size,A.fileUrl,B,E,A.description,A.extension,A.icon,H,A.reference,A.category,false,null,"",true,A.officeTransformEnable,A.v,F)}else{addAttachment(A.type,A.filename,A.mimeType,A.createdate?A.createdate.toString():null,A.size,A.fileUrl,B,E,A.description,A.extension,A.icon,A.reference,A.category,false,null,true,A.officeTransformEnable,A.v,F)}}}}function dymcCreateAssdoc(E,H,A,G,F,D){var B='<div id="attachment2Area'+(H?H:"")+'" poi="'+(H?H:"")+'" requestUrl="'+_ctxPath+"/ctp/common/associateddoc/assdocFrame.do?isBind="+(A?A:"")+"&referenceId="+(F?F:"")+"&applicationCategory="+(D?D:"")+"&poi="+(H?H:"")+'" style="overflow: auto;"></div>';$("#"+E).replaceWith(B);parseAttData(G,H,false)}function insertAttachment(B){var A=$("#attachmentArea").attr("requrl");if(B!=null&&B!=""){A+="&targetAction="+B}v3x.openWindow({url:A,width:400,height:250,resizable:"yes"})}function insertAttachmentPoi(D){var B="attachmentArea"+D;var A=$("#"+B).attr("requrl");v3x.openWindow({url:A,width:400,height:250,resizable:"yes"})}function quoteDocument(divid){if(v3x.getBrowserFlag("OpenDivWindow")==true){var attdiv="attachment2Area";if(divid!=undefined){attdiv+=divid}var url=$("#"+attdiv).attr("requestUrl");var atts=v3x.openWindow({url:url,height:500,width:800});if(atts){deleteAllAttachment(2,$("#"+attdiv).attr("poi"));for(var i=0;i<atts.length;i++){var att=atts[i];if($("#"+attdiv).attr("poi")==att.showArea){addAttachmentPoi(att.type,att.filename,att.mimeType,att.createDate,att.size,att.fileUrl,true,false,att.description,null,att.mimeType+".gif",$("#"+attdiv).attr("poi"),att.reference,att.category,null,null,$("#"+attdiv).attr("embedInput"))}}if($("#"+attdiv).attr("callMethod")){try{eval($("#"+attdiv).attr("callMethod"))()}catch(e){}}}}else{var win=v3x.openDialog({id:"documentIpad",title:v3x.getMessage("collaborationLang.collaboration_alertQuoteItem"),url:_ctxPath+"/ctp/common/associateddoc/assdocFrame.do",width:650,height:500,type:"window",buttons:[{id:"btn12",text:v3x.getMessage("collaborationLang.submit"),handler:function(){var atts=win.getReturnValue();if(atts){deleteAllAttachment(2,$("#"+attdiv).attr("poi"));for(var i=0;i<atts.length;i++){var att=atts[i];addAttachment(att.type,att.filename,att.mimeType,att.createDate,att.size,att.fileUrl,true,false,att.description,null,att.mimeType+".gif",att.reference,att.category)}}win.close()}},{id:"btn21",text:v3x.getMessage("collaborationLang.cancel"),handler:function(){win.close()}}]})}if(typeof (addScrollForDocument)=="function"){addScrollForDocument()}}function favorite(A,F,E,D,B){getA8Top().dialog=$.dialog({id:"docFavoriteDialog",url:_ctxPath+"/doc/knowledgeController.do?method=toFavorite&sourceId="+F+"&appName="+A+"&hasAtts="+E+"&favoriteType="+D+"&t="+new Date(),isClear:false,targetWindow:getA8Top(),width:300,height:95,closeParam:{show:true,handler:function(){getA8Top().dialog.getReturnValue()}},title:$.i18n("doc.collect")});favoriteTip(true,F,B)}function cancelFavorite(A,G,F,E,D){if(typeof (D)==="undefined"){D=""}var B=$("#cancelFavorite"+String(G)+String(D));B.attr("disabled","disabled");B.jsonSubmit({action:_ctxPath+"/doc/knowledgeController.do?method=favoriteCancel",paramObj:{docId:-1,sourceId:G},callback:function(H){favoriteTip(false,G,D)}})}function favoriteTip(E,F,A,D,B){if(typeof (F)==="undefined"){F=""}if(typeof (A)!=="undefined"){F=String(F)+String(A)}if(!D){D=$.i18n("doc.cancel.collect.success.js")}if(typeof (B)==="undefined"){B=-30}if(E){$("#favoriteSpan"+F).hide();$("#cancelFavorite"+F).show()}else{new MxtTip({targetId:"cancelFavorite"+F,content:D,offsetTop:B,targetWindow:getA8Top(),beforeShowCallBack:function(){$("#favoriteSpan"+F).show();$("#cancelFavorite"+F).hide();$("#cancelFavorite"+F).removeAttr("disabled")}})}return }function addAttachment(E,R,G,F,O,N,T,D,S,I,U,H,Q,A,P,K,B,M,L){T=T==null?true:T;D=D==null?false:D;S=S==null?"":S;if(attachDelete!=null){T=attachDelete}if(!H){H=""}if(!Q){Q=""}if(N==null){N=R}var J=new Attachment("",H,"",Q,E,R,G,F,O,N,S,D,I,U,A,B,M);J.hasSaved=K;if(L!=null){J.canFavourite=L}if(fileUploadAttachment!=null){if(fileUploadAttachment.containsKey(N)){return }fileUploadAttachment.put(N,J)}else{if(fileUploadAttachments.containsKey(N)){return }fileUploadAttachments.put(N,J)}showAtachmentObject(J,T,P);showAtachmentTR(E,"","");if(attachCount){showAttachmentNumber(E,J)}if(typeof (addScrollForDocument)=="function"){addScrollForDocument()}}function addAttachmentPoi(E,Y,G,F,R,O,a,D,Z,J,c,P,I,V,A,U,T,L,B,N,M,H,S){a=a==null?true:a;D=D==null?false:D;Z=Z==null?"":Z;if(attachDelete!=null){a=attachDelete}if(O==null){O=Y}var K=new Attachment(S,I,P,V,E,Y,G,F,R,O,Z,D,J,c,false,B,N);K.showArea=P;K.embedInput=T;K.hasSaved=L;if(M!=null){K.canFavourite=M}if(H!=null){K.isShowImg=H}if(fileUploadAttachment!=null){if(fileUploadAttachment.containsKey(O)){return }fileUploadAttachment.put(O,K)}else{if(fileUploadAttachments.containsKey(O)){O+=P}fileUploadAttachments.put(O,K)}showAtachmentObject(K,a,null);if(K.isShowImg){var X=$("#"+K.embedInput).eq(0);X.parent("div").css("display","block");X.css("display","block");var W=X.height();var e=X.width();W=(W==0?100:W);e=(e==0?100:e);var Q=$("#attachmentDiv_"+K.fileUrl);var b=Q.find(".ico16").width()+2;Q.width(e).height(W);Q.find("img").width(e-b).height(W);X.css("display","none");X.parent("div").css("display","none")}var d=K;if($("#"+d.embedInput).size()>0){$("#attachmentArea"+d.showArea).prev().children("#"+d.embedInput).attr("value",P);$("#attachment2Area"+d.showArea).prev().children("#"+d.embedInput).attr("value",P)}showAtachmentTR(E,"",P);if(attachCount){showAttachmentNumber(E,K)}if(typeof (addScrollForDocument)=="function"){addScrollForDocument()}}function AttActionLog(A,E,B,D){this.reference=A;this.subReference=E;this.logs=B;this.editAtt=D}AttActionLog.prototype.toInput=function(){var A="";if(this.logs&&!this.logs.isEmpty()){A+="<input type='hidden' name='reference' value='"+this.reference+"'>";A+="<input type='hidden' name='subReference' value='"+this.subReference+"'>";A+="<input type='hidden' name='isEditAttachment' value='1'/>";A+="<input type='hidden' name='editAttachmentSize' value='"+this.editAtt.size()+"'/>";for(var B=0;B<this.logs.size();B++){A+=this.logs.get(B).toInput()}for(var B=0;B<this.editAtt.size();B++){A+=this.editAtt.get(B).toInput()}}return A};function ActionLog(D,A,B){this.action=D;this.createDate=A;this.des=B}ActionLog.prototype.toInput=function(){var A="";A+="<input type='hidden' name='logAction' value='"+this.action+"'>";A+="<input type='hidden' name='logCreateDate' value='"+this.createDate+"'>";A+="<input type='hidden' name='logDesc' value='"+this.des+"'>";return A};function copyActionLog(B){var A=new ActionLog(B.action,B.createDate,B.des);return A}function copyAttachment(B){var A=new Attachment(B.id,B.reference,B.subReference,B.category,B.type,B.filename,B.mimeType,B.createDate,B.size,B.fileUrl,B.description,B.needClone,B.extension,B.icon);A.onlineView=B.onlineView;A.extReference=B.extReference;A.extSubReference=B.extSubReference;return A}var attActionLog=null;function editAttachments(G,D,K,A){if(attActionLog==null){attActionLog=new AttActionLog(D,K,null,G)}D=D||"";K=K||"";var L=v3x.openWindow({url:getA8Top().v3x.baseURL+"/genericController.do?ViewPage=apps/collaboration/fileUpload/attEdit&category="+A+"&reference="+D+"&subReference="+K+"&_isModalDialog=true",width:550,height:430,resizable:"yes"});if(L){var B=new ArrayList();var F=L[0].instance;for(var E=0;E<F.length;E++){var I=copyAttachment(F[E]);I.onlineView=false;B.add(I)}var J=new ArrayList();F=L[1].instance;if(F.length==0){return false}for(var E=0;E<F.length;E++){var I=copyActionLog(F[E]);J.add(I)}var H=saveEditAttachments(J,B);if(!H){return null}return attActionLog.editAtt}return null}function saveEditAttachments(B,A){if(!attActionLog||B.size()==0){return false}if(attActionLog.logs){attActionLog.logs.addList(B)}else{attActionLog.logs=B}attActionLog.editAtt=A;return true}function getAttachment(B,G,F){var A=new ArrayList();for(var E=0;E<theToShowAttachments.size();E++){var D=theToShowAttachments.get(E);if(((B&&D.reference==B)||!B)&&((G&&D.subReference==G)||!G)&&((F&&D.type==F)||!F)){A.add(D)}}return A}function updateAttachmentMemory(D,A,H,F){var G=getAttachment(A,H,F);for(var E=0;E<G.size();E++){var B=G.get(E);theToShowAttachments.remove(B)}for(var E=0;E<D.size();E++){theToShowAttachments.add(D.get(E))}}function updateAttachment(A,B){saveContentAttachment(B);updateAttachmentOnly(A)}function updateAttachmentOnly(A){$("#attchmentForm").ajaxSubmit({url:genericURL+"?method=updateAttachment&edocSummaryId="+edocSummaryId+"&affairId="+affairId,type:"POST",success:function(B){}})}function deleteAllAttachment(B,H){var E=fileUploadAttachments.keys();for(var D=0;D<E.size();D++){var A=fileUploadAttachments.get(E.get(D));if(A.type==B){if(H!=undefined&&H!=A.showArea){continue}fileUploadAttachments.remove(E.get(D));D-=1}}var I="attachmentArea";if(B!=0){I="attachment"+B+"Area"}if(H!=undefined){I=I+H}var G=document.getElementById(I);if(G){G.style.display="";G.innerHTML=""}var I="attachmentTR";if(B!=0){I="attachment"+B+"TR"}if(H!=undefined){I=I+H}var F=document.getElementById(I);if(F){F.style.display="none"}}function showUpdateAttachment(K){if(_updateAttachmentState){return }var M=document.getElementById("attachmentTr");if(M){M.style.display=""}var H=document.getElementById("normalText");if(H){H.style.display="none"}var E=document.getElementById("uploadAttachmentTR");if(E){E.style.display=""}if(!theToShowAttachments){return }var F=document.getElementById("attachmentArea");var A=document.getElementById("attachment2Area");var D=_ctxPath;for(var G=0;G<theToShowAttachments.size();G++){var J=theToShowAttachments.get(G);if(J.type==0&&J.type==K){var I=document.getElementById("attachmentDiv_"+J.fileUrl);if(I){var L=I.getElementsByTagName("a");if(L){var B='<span class="ico16 affix_del_16" onclick="deleteAttachment(\''+J.fileUrl+"')\" ></span>";L[0].insertAdjacentHTML("afterEnd",B)}}}else{if(J.type==2&&J.type==K){var I=document.getElementById("attachmentDiv_"+J.fileUrl);if(I){var L=I.getElementsByTagName("a");if(L){var B='<span class="ico16 affix_del_16" onclick="deleteAttachment(\''+J.filename+"')\" ></span>";L[0].insertAdjacentHTML("afterEnd",B)}}}}}_updateAttachmentState=true}function showAtachmentObject(E,A,B){if(!E){return }var G="attachmentArea";if(E.type!=0){G="attachment"+E.type+"Area"}if(E.showArea!=""){G=G+E.showArea}if(attachObject){G=attachObject}var D=document.getElementById(G);var F=$("div[id='"+G+"']");if(F.length>1){F[F.length-1].style.display="";F[F.length-1].innerHTML+=E.toString(true,A,undefined,B)}else{if(D){D.style.display="";D.innerHTML+=E.toString(true,A,undefined,B);if($(D).parent(".edit_class").length>0&&$.browser.msie&&(parseInt($.browser.version,10)<9)){setTimeout(function(){$(D).css("display","inline-block")},300)}}}}function showAtachmentTR(B,A,E){var F="attachmentTR";if(B!=0){F="attachment"+B+"TR"}if(atttachTr){F=atttachTr}if(E!=""){F+=E}var D=document.getElementById(F);if(D){A=A||"";D.style.display=A}}function showAttachmentNumber(B,A){var F="attachmentNumberDiv";if(B!=0){F="attachment"+B+"NumberDiv"}if(A.showArea!=""){F=F+A.showArea}var D=document.getElementById(F);if(D){try{D.innerText=getFileAttachmentNumber(B,A.showArea)}catch(E){}}}function getFileAttachmentNumber(D,A){var F=0;var E=fileUploadAttachments.values();if(!E){return F}for(var B=0;B<E.size();B++){if(E.get(B).type==D&&E.get(B).showArea==A){F++}}return F}function getFileAttachmentName(D){var F=fileUploadAttachments.values();if(!F){return""}var E="";for(var B=0;B<F.size();B++){var A=F.get(B);if(A.type==D){E+="<div id='attachmentDiv_"+A.fileUrl+"' style='float: left;px; line-height: 14px;' noWrap>";E+="<img src='"+v3x.baseURL+"/common/images/attachmentICON/"+A.icon+"' border='0' height='16' width='16'                                                    align='absmiddle' style='margin-right: 3px;'/>";E+=A.filename;E+="&nbsp;</div>"}}return E}function getSenderAttachmentName(A,E){var G=parent.theToShowAttachments;if(!G){return""}var F="";for(var D=0;D<G.size();D++){var B=G.get(D);if(B.type==E&&B.subReference==A){F+="<div id='attachmentDiv_"+B.fileUrl+"' style='float: left;height: "+attachmentConstants.height+"px; line-height: 14px;' noWrap>";F+="<img src='"+v3x.baseURL+"/common/images/attachmentICON/"+B.icon+"' border='0' height='16' width='16'                                                    align='absmiddle' style='margin-right: 3px;'/>";F+=B.filename;F+="&nbsp;</div>"}}return F}function Element(E,H,D,B,G,A,F){this.type=E;this.id=H;this.name=D;this.typeName=B;this.accountId=G||"";this.accountShortname=A||"";this.description=F;this.entity=null;this.isEnabled=true;this.excludeChildDepartment=false}Element.prototype.copy=function(A){this.type=A.type;this.id=A.id;this.name=A.name;this.typeName=A.typeName;this.accountId=A.accountId;this.accountShortname=A.accountShortname;this.description=A.description;this.isEnabled=A.isEnabled;this.excludeChildDepartment=A.excludeChildDepartment};Element.prototype.toString=function(){return this.type+"\t"+this.id+"\t"+this.name+"\t"+this.typeName+"\t"+this.accountId+"\t"+this.accountShortname};function getNamesString(F,B){if(!F){return""}var E=v3x.getMessage("V3XLang.common_separator_label")||B;var H=[];for(var D=0;D<F.length;D++){var G=F[D];var A=null;if(G.accountShortname){A=G.name+"("+G.accountShortname+")"}else{A=G.name}H[H.length]=A}return H.join(E)}function getFullNamesString(A){if(!A){return""}var B=v3x.getMessage("V3XLang.common_separator_label");var N=[];var L="";for(var G=0;G<A.length;G++){if(A[G].type=="Department"){L+=A[G].id+","}}if(L!=""){L=L.substring(0,L.length-1);var E=document.getElementById("orgAccountId");var J=new XMLHttpRequestCaller(this,"ajaxOrgManager","getParentDepartmentFullName",false);J.addParameter(1,"String",L);J.addParameter(2,"long",E.value);var F=J.serviceRequest();if(F!=null){N=F.split(",")}}var D=0;var K=[];for(var G=0;G<A.length;G++){var H=A[G];var M=null;if(H.type=="Department"){M=N[D];D++}else{if(H.accountShortname){var I=document.getElementById("appName");if(I&&I.value=="4"){if(H.type=="Account"||(E&&E.value==H.accountId)){M=H.name}else{M=H.accountShortname+H.name}}else{M=H.name+"("+H.accountShortname+")"}}else{M=H.name}}K[K.length]=M}return K.join(B)}function getIdsString(D,F){if(!D){return""}if(F==null){F=true}var E=[];for(var B=0;B<D.length;B++){var A=null;if(F){A=D[B].type+"|"+D[B].id}else{A=D[B].id}E[E.length]=A+(D[B].excludeChildDepartment?"|1":"")}return E.join(",")}function parseElements(G){if(!G||G=="null"){return null}var E=[];var A=G.split(",");for(var D=0;D<A.length;D++){if(!A[D]){continue}var F=A[D].split("|");if(F.length>3){var B=new Element(F[0],F[1],F[2],null,F[3],null,"");if(F.length>4){B.isEnabled=(F[4]=="true")}E[E.length]=B}}return E}function parseElements4Exclude(H,E){if(!H||H=="null"){return null}var F=[];var A=H.split(",");for(var D=0;D<A.length;D++){if(!A[D]){continue}if(E){F[F.length]=new Element(E,A[D])}else{var G=A[D].split("|");if(G.length==2){var B=new Element(G[0],G[1]);F[F.length]=B}}}return F}function getIdsInput(D,A,F){if(!D){return""}if(F==null){F=true}var E="";for(var B=0;B<D.length;B++){if(F){E+="<input type='hidden' name='"+A+"' value=\""+D[B].type+"|"+D[B].id+'">'}else{E+="<input type='hidden' name='"+A+"' value=\""+D[B].id+'">'}}return E}var AJAX_XMLHttpRequest_DEFAULT_METHOD="POST";var AJAX_XMLHttpRequest_DEFAULT_async=true;var AJAX_RESPONSE_XML_TAG_BEAN="B";var AJAX_RESPONSE_XML_TAG_LIST="L";var AJAX_RESPONSE_XML_TAG_Value="V";var AJAX_RESPONSE_XML_TAG_Property="P";var AJAX_RESPONSE_XML_TAG_Name="n";function AjaxParameter(){this.instance=[]}AjaxParameter.prototype.put=function(B,D,E){var A=D.indexOf("[]")>-1;this.instance[this.instance.length]={index:B,type:A?D.substring(0,D.length-2):D,value:E,isArray:A}};AjaxParameter.prototype.toAjaxParameter=function(G,J,I,B){I=I==null?"false":I;if(!G||!J){return null}var H="";H+="S="+G;H+="&M="+J;H+="&CL="+I;H+="&RVT="+B;if(this.instance!=null&&this.instance.length>0){for(var E=0;E<this.instance.length;E++){var D=this.instance[E];var F="P_"+D.index+"_"+D.type;if(D.isArray){if(D.value==null||D.value.length==0){H+="&"+F+"_A_N="}else{if(D.value instanceof Array){for(var A=0;A<D.value.length;A++){H+="&"+F+"_A="+encodeURIComponent(D.value[A])}}}}else{var K=D.value==null?"":D.value;H+="&"+F+"="+encodeURIComponent(K)}}}return H};function XMLHttpRequestCaller(F,D,A,B,H,G,E){if((!D||!A)&&!E){alert("AJAX Service name or method, actionUrl is not null.");throw new Error(3,"AJAX Service name or method is not null.")}this.params=new AjaxParameter();this.serviceName=D;this.methodName=A;this.needCheckLogin=G==null?"true":G;this.returnValueType="XML";this.method=H||AJAX_XMLHttpRequest_DEFAULT_METHOD;this.async=(B==null?AJAX_XMLHttpRequest_DEFAULT_async:B);this._caller=F;this.actionUrl=E;this.filterLogoutMessage=true;this.closeConnection=false}XMLHttpRequestCaller.prototype.addParameter=function(A,B,D){this.params.put(A,B,D)};XMLHttpRequestCaller.prototype.serviceRequest=function(){var A=null;var D=null;if(this.actionUrl){A=getBaseURL()+this.actionUrl;D=this.sendData}else{var B=getBaseURL()+"/getAjaxDataServlet";var F=this.params.toAjaxParameter(this.serviceName,this.methodName,this.needCheckLogin,this.returnValueType);if(!F){throw new Error(5,"\u6ca1\u6709\u4efb\u4f55\u53c2\u6570")}if(F.length<500){this.method="GET"}if(this.method.toUpperCase()=="POST"){A=B;D=F}else{if(this.method.toUpperCase()=="GET"){A=B+"?"+F}}}var G=getHTTPObject();var H=this._caller;var E=this.filterLogoutMessage;if(!G){throw new Error(2,"\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301XMLHttpRequest")}if(this.async){G.onreadystatechange=function(){if(G.readyState==4){if(G.status==200){var I=getXMLHttpRequestData(G,E);H.invoke(I)}else{if(H&&H.showAjaxError){H.showAjaxError(G.status)}else{H.invoke(null)}}}}}G.open(this.method,A,this.async);G.setRequestHeader("Content-Type","application/x-www-form-urlencoded");G.setRequestHeader("RequestType","AJAX");if(this.closeConnection){G.setRequestHeader("Connection","close")}G.send(D);if(!this.async){if(G.readyState==4){if(G.status==200){return getXMLHttpRequestData(G,E)}else{}}}};function getXMLHttpRequestData(E,A){var B=E.getResponseHeader("content-type");var F=B&&B.indexOf("xml")>=0;var D=F?E.responseXML:E.responseText;if(F){D=xmlHandle(D)||E.responseText}if(A==true&&D!=null&&D.toString().indexOf("[LOGOUT]")==0){return null}return D}function xmlHandle(E){if(!E){return null}try{var A=E.documentElement;if(null!=A){var B=A.nodeName;if(B==AJAX_RESPONSE_XML_TAG_BEAN){return beanXmlHandle(A)}else{if(B==AJAX_RESPONSE_XML_TAG_LIST){return listXmlHandle(A)}else{if(B==AJAX_RESPONSE_XML_TAG_Value){return A.firstChild.nodeValue}}}}}catch(D){throw D.message}return null}function beanXmlHandle(F){if(!F){return null}var E=new Properties();E.type="";var I=F.childNodes;if(I!=null&&I.length>0){for(var D=0;D<I.length;D++){var B=I[D].attributes.getNamedItem(AJAX_RESPONSE_XML_TAG_Name).nodeValue;var H="";var A=I[D].firstChild;if(A!=null){if(A.childNodes!=null&&A.childNodes.length>0){var G=A.nodeName;if(G==AJAX_RESPONSE_XML_TAG_BEAN){H=beanXmlHandle(A)}else{if(G==AJAX_RESPONSE_XML_TAG_LIST){H=listXmlHandle(A)}else{if(G==AJAX_RESPONSE_XML_TAG_Value){H=A.firstChild.nodeValue}}}}else{H=A.nodeValue}}E.putRef(B,(H))}}return E}function listXmlHandle(E){var H=new Array();if(E!=null){var D=new Properties();var A=E.childNodes;if(A!=null&&A.length>0){for(var B=0;B<A.length;B++){var G=A[B].nodeName;var F="";if(G==AJAX_RESPONSE_XML_TAG_BEAN){F=beanXmlHandle(A[B])}else{if(G==AJAX_RESPONSE_XML_TAG_LIST){F=listXmlHandle(A[B])}else{if(G==AJAX_RESPONSE_XML_TAG_Value){F=A[B].firstChild.nodeValue}}}H[B]=F}}}return H}function getHTTPObject(){var xmlhttp;
/*@cc_on
  @if (@_jscript_version >= 5)
    try {
      xmlhttp = new ActiveXObject("Msxml2.XMLHTTP");
    }
    catch (e) {
      try {
        xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
      } 
      catch (E) {
        xmlhttp = false;
      }
    }
  @else
  xmlhttp = false;
  @end @*/
if(!xmlhttp&&typeof XMLHttpRequest!="undefined"){try{xmlhttp=new XMLHttpRequest()}catch(e){xmlhttp=false}}return xmlhttp}function getBaseURL(){try{if(v3x){return v3x.baseURL}else{if(parent.v3x){return parent.v3x.baseURL}else{if(getA8Top().v3x){return getA8Top().v3x.baseURL}else{if(getA8Top().conextPath){return getA8Top().conextPath}else{return _ctxPath}}}}}catch(A){}return"/seeyon"}function ajaxFormSubmit(A){var D=new AjaxParameter();var F=getHTTPObject();var E=D.FormToAjaxParameter(A);F.open("post",A.action,false);F.setRequestHeader("Content-Type","application/x-www-form-urlencoded");F.send(E);if(F.readyState==4){if(F.status==200){var B=xmlHandle(F.responseXML);if(B==null){B=F.responseText;if(B.search("<")>0){B=B.substr(B.search("<"));B=getXMLDoc(B);B=xmlHandle(B)}else{return B}}if(!B){B=F.responseTEXT}return B}else{return false}}return false}function getXMLDoc(B){var D=null;if(window.ActiveXObject){D=new ActiveXObject("MSXML2.DOMDocument");D.async=false;if(B!=null){D.loadXML(B)}}else{if(document.implementation&&document.implementation.createDocument){D=document.implementation.createDocument("","",null);var A=new DOMParser();D.async=false;if(B!=null){D=A.parseFromString(B,"text/xml")}}}return D}function getXSLDoc(B,E){if(window.ActiveXObject){return B.transformNode(E)}else{var D=new XSLTProcessor();D.importStylesheet(E);var A=D.transformToFragment(B,document);return new XMLSerializer().serializeToString(A)}}function getXmlString(A){if(window.ActiveXObject){return A.xml}else{var B=document.createElement("div");B.appendChild(A.cloneNode(true));return B.innerHTML}}AjaxParameter.prototype.FormToAjaxParameter=function(B){var E="";var H=new Properties();var F;var I,D;var G;var A;for(F=0;F<B.elements.length;F++){I=B.elements[F];A=I.getAttribute("canSubmit");if(I.disabled||(I.readOnly&&A!="true")){continue}if(I.type=="select-one"||I.type=="hidden"||I.type=="password"||I.type=="text"||I.type=="textarea"){H.put(I.name,I.value)}else{if(I.type=="select-multiple"||I.type=="checkbox"||I.type=="radio"){D=H.get(I.name);G=getFormInputValue(I);if(G!=""){if(D!=null&&D!=""){D+=","}else{D=G}}if(D==null){D=""}H.put(I.name,D)}}E=H.toQueryString()}return E};function getFormInputValue(A){var D="";var B;var E;if(A.type=="select-multiple"){for(B=0;B<A.options.length;B++){if(A.options[B].selected==true){if(D!=""){D+=","}D+=A.options[B].value}}}else{if(A.type=="checkbox"||A.type=="radio"){E=document.getElementsByName(A.name);for(B=0;B<E.length;B++){if(E[B].checked==true){if(D!=""){D+=","}D+=E[B].value}}}}return D}var dom=(document.getElementsByTagName)?true:false;var ie5=(document.getElementsByTagName&&document.all)?true:false;var arrowUp,arrowDown;if(ie5||dom){initSortTable()}function initSortTable(){arrowUp=document.createElement("SPAN");arrowUp.className="arrowAsc";arrowUp.innerHTML="&nbsp;&nbsp;";arrowDown=document.createElement("SPAN");arrowDown.className="arrowDesc";arrowDown.innerHTML="&nbsp;&nbsp;"}function getNextSibByClass(B,A){if(B==null){return null}else{if(B.nodeType==1&&B.className==A){return B}else{return getNextSibByClass(B.nextSibling,A)}}}function getParentByClass(B,A){if(B==null){return null}else{if(B.nodeType==1&&B.className==A){return B}else{return getParentByClass(B.parentNode,A)}}}function sortTable(M,H,E,A,I){var L;if(I){var D=getParentByClass(M,"hDiv");var N=getNextSibByClass(D,"bDiv");L=N.childNodes[0].childNodes[0]}else{L=M.tBodies[0]}var G=L.rows;var K=new Array();var J=new Array();for(var F=0;F<G.length;F++){var B=G[F];if(B.id.indexOf("off")!=-1){J[J.length]=G[F]}else{K[K.length]=G[F]}}K.sort(compareByColumn(H,E,A));J.sort(compareByColumn(H,E,A));for(var F=0;F<K.length;F++){if(F%2==0){K[F].className="erow"}else{K[F].className=""}L.appendChild(K[F])}for(var F=0;F<J.length;F++){L.appendChild(J[F])}}function CaseInsensitiveString(A){return String(A).toLocaleString()}function parseDate(A){return Date.parse(A.replace(/\-/g,"/"))}function toNumber(A){return Number(A.replace(/[^0-9\.]/g,""))}function compareByColumn(G,A,F){var E=G;var D=A;var B=String;if(F=="Number"){B=parseInt}else{if(F=="Date"){B=compareMyDate}else{if(F=="CaseInsensitiveString"){B=CaseInsensitiveString}else{if(F=="Size"){B=compareSize}else{if(F=="Percent"){B=comparePercent}else{if(F=="Month"){B=compareMonth}else{if(F=="Number"){B=compareNumber}}}}}}}return function(I,H){if(B==String||B==CaseInsensitiveString){var J=B(getInnerText(I.cells[E])).localeCompare(B(getInnerText(H.cells[E])));if(D){return J*-1}else{return J}}else{if(B==compareMyDate){var J=B(getInnerText(I.cells[E]),getInnerText(H.cells[E]));if(D){return J*-1}else{return J}}else{if(B==compareSize){var J=B(getInnerText(I.cells[E]),getInnerText(H.cells[E]));if(D){return J*-1}else{return J}}else{if(B==comparePercent){var J=B(getInnerText(I.cells[E]),getInnerText(H.cells[E]));if(D){return J*-1}else{return J}}else{if(B==compareMonth){var J=B(getInnerText(I.cells[E]),getInnerText(H.cells[E]));if(D){return J*-1}else{return J}}else{if(B==compareNumber){var J=B(getInnerText(I.cells[E]),getInnerText(H.cells[E]));if(D){return J*-1}else{return J}}else{if(B(getInnerText(I.cells[E]))>B(getInnerText(H.cells[E]))){return D?-1:+1}if(B(getInnerText(I.cells[E]))<B(getInnerText(H.cells[E]))){return D?+1:-1}return 0}}}}}}}}function compareNumber(B,A){if((B==null||B=="  ")&&(A!=null&&A!="  ")){return -1}if((A==null||A=="  ")&&(B!=null&&B!="  ")){return 1}if((B==null||B=="  ")&&(A==null||A=="  ")){return 0}var E=parseFloat(B);var D=parseFloat(A);if(E>D){return 1}else{if(E<D){return -1}else{return 0}}}function compareMonth(E,D){if((E==null||E=="  ")&&(D!=null&&D!="  ")){return -1}if((D==null||D=="  ")&&(E!=null&&E!="  ")){return 1}if((E==null||E=="  ")&&(D==null||D=="  ")){return 0}var B=E.split("-");var A=D.split("-");var I=B[0];var G=A[0];var H=parseInt(parseFloat(B[1]));var F=parseInt(parseFloat(A[1]));if(I>G){return 1}if(I<G){return -1}if(I==G){if(H>F){return 1}else{if(H<F){return -1}else{return 0}}}}function compareSize(B,A){if((B==null||B=="  ")&&(A!=null&&A!="  ")){return -1}if((A==null||A=="  ")&&(B!=null&&B!="  ")){return 1}if((B==null||B=="  ")&&(A==null||A=="  ")){return 0}var E=F(B);var D=F(A);if(E-D>0){return 1}else{if(E-D<0){return -1}else{return 0}}function F(G){if(G.indexOf("MB")>-1){return parseFloat(G)*1000}else{if(G.indexOf("KB")>-1){return parseFloat(G)}}}}function comparePercent(B,A){if((B==null||B=="  ")&&(A!=null&&A!="  ")){return -1}if((A==null||A=="  ")&&(B!=null&&B!="  ")){return 1}if((B==null||B=="  ")&&(A==null||A=="  ")){return 0}var E=F(B);var D=F(A);if(E-D>0){return 1}else{if(E-D<0){return -1}else{return 0}}function F(G){if(G.indexOf("%")>-1){return parseFloat(G)*10000}return 0}}function compareMyDate(D,A){if((D==null||D=="  "||D==" ")&&(A!=null&&A!="  "&&A!=" ")){return -1}if((A==null||A=="  "||A==" ")&&(D!=null&&D!="  "&&D!=" ")){return 1}if((D==null||D=="  "||D==" ")&&(A==null||A=="  "||A==" ")){return 0}var E=initDate(D);var B=initDate(A);if(E-B>0){return 1}else{if(E-B<0){return -1}else{return 0}}}function initDate(G){if(G.indexOf("/")>-1&&G.indexOf(":")>-1){var A=parseFloat(G.substr(0,2));var K=parseFloat(G.substr(3,2));var I=parseFloat(G.substr(6,2));var L=parseFloat(G.substr(9,2));var N=parseFloat(G.substr(12,2));var H=0;return new Date(A,K,I,L,N,H)}else{if(G.indexOf("-")>-1&&G.indexOf(":")>-1){G=G.trim();var B=G.split(" ");var J=B[0].split("-");var D=B[1].split(":");var M=parseInt(J[1]);if(J[1].length==2&&J[1].substr(0,1)=="0"){M=parseInt(J[1].substr(1,1))}var F=parseInt(J[2]);if(J[2].length==2&&J[2].substr(0,1)=="0"){F=parseInt(J[2].substr(1,1))}var L=parseInt(D[0]);if(D[0].length==2&&D[0].substr(0,1)=="0"){L=parseInt(D[0].substr(1,1))}var E=parseInt(D[1]);if(D[1].length==2&&D[1].substr(0,1)=="0"){E=parseInt(D[1].substr(1,1))}var H=0;if(D.length==3&&D[2].length>0){H=parseInt(D[2]);if(D[2].length==2&&D[2].substr(0,1)=="0"){H=parseInt(D[2].substr(1,1))}}return new Date(parseInt(J[0]),M-1,F,L,E,H)}else{if(G.indexOf("-")>-1&&G.indexOf(":")==-1){var B=G.split("-");var M=parseInt(B[1]);if(B[1].length==2&&B[1].substr(0,1)=="0"){M=parseInt(B[1].substr(1,1))}var F=parseInt(B[2]);if(B[2].length==2&&B[2].substr(0,1)=="0"){F=parseInt(B[2].substr(1,1))}return new Date(parseInt(B[0]),M-1,F,0,0,0)}else{if(isChina(G)){var A=G.substr(0,4);var K=null;var I=null;if(isChina(G.substr(6,1))&&isChina(G.substr(8,1))){K=G.substr(5,1);I=G.substr(7,1)}else{if(isChina(G.substr(6,1))&&isChina(G.substr(9,1))){K=G.substr(5,1);I=G.substr(7,2)}else{if(isChina(G.substr(7,1))&&isChina(G.substr(9,1))){K=G.substr(5,2);I=G.substr(8,1)}else{if(isChina(G.substr(7,1))&&isChina(G.substr(10,1))){K=G.substr(5,2);I=G.substr(8,2)}}}}return new Date(parseInt(A),parseInt(K)-1,parseInt(I),0,0,0)}}}}}function isChina(B){var A=/[\u4E00-\u9FA5]|[\uFE30-\uFFA0]/gi;if(!A.exec(B)){return false}else{return true}}function sortColumn(G,A,F){try{var D,E;if(ie5){D=G.srcElement}else{if(dom){D=G.target}}if(F){E=getParent(D,"TH")}else{E=getParent(D,"TD")}var B=E.orderBy;if(E==null||B==null||B==""){sortColumnCurrentPage(G,A,F)}else{sortColumnAll(E,B,F)}}catch(G){}}function sortColumnAll(F,D,G){if(!E){var E=new Properties()}var B=E.get("orderByColumn");var A=E.get("orderByDESC");if(A==null){A="ASC"}else{if(D!=B){A="ASC";E.put("page",1)}else{A=A=="DESC"?"ASC":"DESC"}}E.put("orderByColumn",D);E.put("orderByDESC",A);getPageAction(F)}function sortColumnCurrentPage(J,E,L){var I,D,N,L,G;if(ie5){I=J.srcElement}else{if(dom){I=J.target}}G=getParent(I,"TABLE");N=getParent(I,"THEAD");if(L){D=getParent(I,"TH")}else{var K=getParent(I,"TFOOT");if(I.tagName=="TD"&&K==null&&N==null&&E==true){selectRow(I)}D=getParent(I,"TD")}if(D==null||D.getAttribute("type")==null||D.getAttribute("type")==""){return }if(N==null){return }if(!F){var F=new Properties()}var P=F.get("orderByColumn");if(P){var M=document.getElementById("OrderByColumn_"+P);if(M){M.parentNode.removeChild(M)}}if(D!=null){var A=D.parentNode;var H;if(D._descending){D._descending=false}else{D._descending=true}if(N.arrow!=null){if(L){N.arrow.className=""}else{if(N.arrow.parentNode==null){N.arrow=null}else{if(N.arrow.parentNode!=D){N.arrow.parentNode._descending=null}N.arrow.parentNode.removeChild(N.arrow)}}}var B=D.firstChild;if(L){if(D._descending){B.className="sdesc"}else{B.className="sasc"}N.arrow=B}else{if(D._descending){N.arrow=arrowDown.cloneNode(true)}else{N.arrow=arrowUp.cloneNode(true)}D.appendChild(N.arrow)}for(H=0;H<A.cells.length;H++){if(A.cells[H]==D){break}}var O=getParent(D,"TABLE");sortTable(O,H,D._descending,D.getAttribute("type"),L)}}function getInnerText(B){if(ie5){return B.innerText}var D="";for(var A=0;A<B.childNodes.length;A++){switch(B.childNodes.item(A).nodeType){case 1:D+=getInnerText(B.childNodes.item(A));break;case 3:D+=B.childNodes.item(A).nodeValue;break}}return D}function getParent(B,A){if(B==null){return null}else{if(B.nodeType==1&&B.tagName.toLowerCase()==A.toLowerCase()){return B}else{return getParent(B.parentNode,A)}}}var currentSelectTr=null;function clearSiblingStyle(A){var E=A.parentNode.childNodes;if(E!=null){for(var B=0;B<E.length;B++){var D=E[B];redoStyle(D)}}}function redoStyle(){var I=currentSelectTr;if(!I){return }var A=I.className;var B=I.className2;if(B!=null&&A!=B){I.className=B}var K=getCheckboxFromTr(I);if(K&&K.disabled!=true){K.checked=false}var D=I.cells;for(var J=0;J<D.length;J++){var G=D.item(J);var L=G.className;var E=L.split(" ");var F="";for(var H=0;H<E.length;H++){if(E[H]!="no-read"){F+=E[H]+" "}}G.className=F}}function changeSelectedStyle(D){if(D==null){return }var A=D.className;var B=D.className2;if(B==null){D.className2=A;if(D.id.indexOf("off")!=-1){D.className="tr-select-offline"}else{D.className="sort-select"}}else{if(A==B){if(D.id.indexOf("off")!=-1){D.className="tr-select-offline"}else{D.className="sort-select"}}else{D.className=B}}}function selectRow(A){if(A.tagName=="INPUT"){unselectAll();return }var G=getParent(A,"TR");var B=getParent(G,"tbody");var F=v3x.getEvent();var E;if(ie5){E=F.srcElement}else{if(dom){E=F.target}}if(E.tagName=="INPUT"){return }if(G!=null&&B!=null){redoStyle();changeSelectedStyle(G);currentSelectTr=G;var D=getCheckboxFromTr(G);if(D!=undefined&&D!=null){noSelected(D.name);if(D.disabled!=true){D.checked=true}unselectAll()}}}function getCheckboxFromTr(E){if(E==null||E.childNodes.length==0){return null}else{for(var D=0;D<E.childNodes.length;D++){var B=E.childNodes[D];if(B.type=="checkbox"||B.type=="radio"){return B}else{var A=getCheckboxFromTr(B);if(A!=null){return A}}}}}function selectAll(B,E){var A=document.getElementsByName(E);if(A!=null){for(var D=0;D<A.length;D++){if(A[D].disabled==true){continue}A[D].checked=B.checked}}}function noSelected(A){var D=document.getElementsByName(A);if(D){for(var B=0;B<D.length;B++){if(D[B].disabled==true){continue}D[B].checked=false}}}function unselectAll(){var A=document.getElementById("allCheckbox");if(A&&A.disabled!=true){if(A.checked){A.click();A.checked=false}}}var canDoAction=true;function getPageAction(E){var M=pageFormMethod||"get";var A=getForm(E);var B=A.attributes.getNamedItem("ACTION");var D=B?(B.nodeValue):""||"";var K=document.createElement("form");K.setAttribute("action",D);K.setAttribute("target","_self");K.setAttribute("method",M);if(!canDoAction){return }var L=pageQueryMap.keys();for(var F=0;F<L.size();F++){var J=L.get(F);var H=pageQueryMap.get(J);if(!J||J=="pageSize"){continue}if(H instanceof Array){for(var I=0;I<H.length;I++){var G=document.createElement("input");G.setAttribute("type","hidden");G.setAttribute("name",J);G.value=H[I];K.appendChild(G)}}else{var G=document.createElement("input");G.setAttribute("type","hidden");G.setAttribute("name",J);G.value=H;K.appendChild(G)}}var I=A.pageSize.value||20;var G=document.createElement("input");G.setAttribute("type","hidden");G.setAttribute("name","pageSize");G.setAttribute("value",I);K.appendChild(G);if(!new RegExp("^-?[0-9]*$").test(I)||parseInt(I,10)<1){}document.body.appendChild(K);K.submit();canDoAction=false}function enterSubmit(B,A){if(v3x.getEvent().keyCode==13){if(A=="pageSize"){pagesizeChange(B)}else{if(A=="intpage"){pageChange(B)}}}}function getForm(A){return document.getElementsByName("pageSize")[0].form}function pageGo(A){getPageAction(A)}function first(A){pageQueryMap.put("page",1);getPageAction(A)}function pageChange(B){if(!new RegExp("^-?[0-9]*$").test(B.value)){return }var A=B.getAttribute("pageCount");if(B.value>parseInt(A,10)){B.value=A}pageQueryMap.put("page",B.value);getPageAction(B)}function last(B,A){pageQueryMap.put("page",A);getPageAction(B)}function next(B){var A=parseInt(pageQueryMap.get("page"));pageQueryMap.put("page",A+1);getPageAction(B)}function pagesizeChange(B){var A=B.value;if(!new RegExp("^-?[0-9]*$").test(A)||parseInt(A,10)<1){return }pageQueryMap.put("pageSize",A);pageQueryMap.put("page",1);getPageAction(B)}function prev(B){var A=parseInt(pageQueryMap.get("page"));pageQueryMap.put("page",A-1);getPageAction(B)}var formValidate={unCharactor:"\"\\/|><:*?'&%$",integerDigits:"10",decimalDigits:"0"};V3X.prototype.checkFormAdvanceAttribute="";function checkForm(formObj){var elements=formObj.elements;var clearValueElements=[];if(elements!=null){for(var i=0;i<elements.length;i++){var e=elements[i];var clearValue=e.getAttribute("clearValue");if(clearValue=="true"){clearValueElements[clearValueElements.length]=e;continue}V3X.checkFormAdvanceAttribute=e.getAttribute("advance");var validateAtt=e.getAttribute("validate");if(validateAtt!=null&&validateAtt!=""&&validateAtt!="undefined"){var validateFuns=validateAtt.split(",");for(var f=0;f<validateFuns.length;f++){var fun=validateFuns[f];if(fun){var result=eval(fun+"(e)");if(!result){return false}}}}}}for(var j=0;j<clearValueElements.length;j++){clearDefaultValueWhenSubmit(clearValueElements[j])}return true}function testRegExp(B,A){return new RegExp(A).test(B)}function clearDefaultValueWhenSubmit(D){var A=getDefaultValue(D);var B=D.value;if(B==A){D.value=""}}function writeValidateInfo(element,message){alert(message);var onAfterAlert=element.getAttribute("onAfterAlert");if(onAfterAlert){try{eval(onAfterAlert)}catch(e){}}else{try{element.focus();element.select()}catch(e){}}}function notSpecChar(B){var D=B.value;var A=B.getAttribute("inputName");if(/^[^\|\\"'<>]*$/.test(D)){return true}else{writeValidateInfo(B,$.i18n("formValidate_specialCharacter",A));return false}}function notSpecCharWithoutApos(B){var D=B.value;var A=B.getAttribute("inputName");if(/^[^\|\\\/"<>]*$/.test(D)){return true}else{writeValidateInfo(B,$.i18n("formValidate_specialCharacter_withoutApos",A));return false}}function notNull(D){var E=D.value;E=E.replace(/[\r\n]/g,"");var B=D.getAttribute("inputName");if(E==null||E==""||E.trim()==""){writeValidateInfo(D,$.i18n("formValidate_notNull",B));return false}var A=D.getAttribute("maxSize");if(A&&E.length>A){writeValidateInfo(D,$.i18n("formValidate_maxLength",B,A,E.length));return false}return true}function maxLength(D){var E=D.value;if(!E){return true}var B=D.getAttribute("inputName");var A=D.getAttribute("maxSize");if(A&&E.length>A){writeValidateInfo(D,$.i18n("formValidate_maxLength",B,A,E.length));return false}return true}function minLength(D){var E=D.value;if(!E){return true}var B=D.getAttribute("inputName");var A=D.getAttribute("minLength");if(A&&E.length<A){writeValidateInfo(D,$.i18n("formValidate_minLength",B,A,E.length));return false}return true}function isNumber(B){var E=B.value;var A=B.getAttribute("inputName");var H=B.getAttribute("integerDigits")||formValidate.integerDigits;var G=B.getAttribute("decimalDigits")||formValidate.decimalDigits;var D=B.getAttribute("integerMax");var F=B.getAttribute("integerMin");if(E=="0"){return true}if(!testRegExp(E,"^-?[0-9]{0,"+H+"}\\.?[0-9]{0,"+G+"}$")){writeValidateInfo(B,$.i18n("formValidate_isNumber",A));return false}if(D&&parseInt(E)>D){writeValidateInfo(B,$.i18n("formValidate_too_max",A,D,E));return false}if(F&&parseInt(E)<F){writeValidateInfo(B,$.i18n("formValidate_too_min",A,F,E));return false}return true}function positive(B){var E=B.value.trim();if(E!=""){var D=parseFloat(B.value.trim());var A=B.getAttribute("inputName");if(D<=0){writeValidateInfo(B,$.i18n("formValidate_positive",A));return false}}return true}function percent(B){var E=B.value.trim();if(E!=""){var D=parseFloat(B.value.trim());var A=B.getAttribute("inputName");if(D<0||D>100){writeValidateInfo(B,$.i18n("formValidate_percent",A,E));return false}}return true}function notNum(B){var D=B.value;var A=B.getAttribute("inputName");var F=B.getAttribute("integerDigits")||formValidate.integerDigits;var E=B.getAttribute("decimalDigits")||formValidate.decimalDigits;if(D=="0"){return true}if(testRegExp(D,"^-?[0-9]{0,"+F+"}\\.?[0-9]{0,"+E+"}$")){writeValidateInfo(B,$.i18n("formValidate_isNotNumber",A));return false}return true}function isEmail(B){var D=B.value;if(!D){return true}var A=B.getAttribute("inputName");if(D.indexOf("@")==-1||D.indexOf(".")==-1){writeValidateInfo(B,$.i18n("formValidate_isEmail",A));return false}return true}function notNullWithoutTrim(D){var E=D.value;var B=D.getAttribute("inputName");if(E==null||E==""){writeValidateInfo(D,$.i18n("formValidate_notNull",B));return false}var A=D.getAttribute("maxLength");if(A&&E.length>A){writeValidateInfo(D,$.i18n("formValidate_maxLength",B,A));return false}return true}function isInteger(E){var F=E.value;var B=E.getAttribute("inputName");var A=E.getAttribute("max");var D=E.getAttribute("min");if(F!="0"&&(isNaN(F)||F.indexOf("0")==0||!testRegExp(F,"^-?[0-9]*$"))){writeValidateInfo(E,$.i18n("formValidate_isInteger",B));return false}if(A!=null&&A!=""&&parseInt(F)>parseInt(A)){writeValidateInfo(E,$.i18n("formValidate_isInteger_max",B,A));return false}if(D!=null&&D!=""&&parseInt(F)<parseInt(D)){writeValidateInfo(E,$.i18n("formValidate_isInteger_min",B,D));return false}return true}function isWord(E){var G=E.value;var B=E.getAttribute("inputName");var F=E.getAttribute("character")||formValidate.unCharactor;var A="";for(var D=0;D<F.length;D++){if(G.indexOf(F.charAt(D))>-1){A+=F.charAt(D)}}if(A.length>0){writeValidateInfo(E,$.i18n("formValidate_isWord",B,A,F));return false}return true}function isCriterionWord(B){var D=B.value;var A=B.getAttribute("inputName");if(!testRegExp(D,"^[\\w-]+$")){writeValidateInfo(B,$.i18n("formValidate_isCriterionWord",A));return false}return true}function isUrl(B){var D=B.value;if(!D){return true}var A=B.getAttribute("inputName");if(!testRegExp(D,"^http://{1}([\\w-]+.)+[\\w-]+")){writeValidateInfo(B,$.i18n("formValidate_isUrl",A));return false}return true}function startsWith(B){var E=B.value;var A=B.getAttribute("inputName");var D=B.getAttribute("prefix");if(E.indexOf(D)!=0){writeValidateInfo(B,$.i18n("formValidate_startsWith",A,D));return false}return true}function isDeaultValue(D){var E=D.value;var B=D.getAttribute("inputName");var A=getDefaultValue(D);if(E==A){writeValidateInfo(D,$.i18n("formValidate_notNull",B));return false}return true}function isDefaultValue(D){var E=D.value;var B=D.getAttribute("inputName");var A=getDefaultValue(D);if(E==A){writeValidateInfo(D,$.i18n("formValidate_notNull",B));return false}return true}var __addDataEventObject=null;function whenstart(E,L,G,I,H,F,A,K){H=H||"date";if(F==null){F=true}__addDataEventObject=L;var J=v3x.getEvent();if(!v3x.getBrowserFlag("needModalWindow")){var B=new MxtWindow({id:"date_win",title:"date",url:E+"/common/js/addDate/date.jsp?type="+H+"&allowEmpty="+F,height:K||300,width:A||300,relativeElement:L,type:"window",isDrag:false,buttons:[{id:"btn1",text:"Ok",handler:function(){var M=B.getReturnValue();if(!L&&M){return M}B.close()}},{id:"btn2",text:"Close",handler:function(){B.close()}}]})}else{var D=v3x.openWindow({url:E+"/common/js/addDate/date.jsp?type="+H+"&allowEmpty="+F,height:230,width:250,top:J.screenY+20,left:J.screenX-50});if(D==null){D=""}if(!L&&D){return D}return D}}Date.prototype.isDate=function(D,B){var K,E;var I,A,F,H;var G;var J=new String(D);if(J.length<8||J.length>10){return false}E="^([0-9]){4}(-|/)([0-9]){1,2}(-|/)([0-9]){1,2}$";K=new RegExp(E);if(J.search(K)==-1){return false}I=J.charAt(4);G=J.split(I);if(G.length!=3){return false}A=parseInt(G[0],10);F=parseInt(G[1],10);H=parseInt(G[2],10);if(A<1900||A>2500){return false}if(F<1||F>12){return false}if(H<1||H>31){return false}switch(F){case 4:case 6:case 9:case 11:if(H>30){return false}break;case 2:if((A%4==0&&A%100!=0)||A%400==0){if(H>29){return false}}else{if(H>28){return false}}break;default:break}if(B){this.setDate(H);this.setMonth(F-1);this.setYear(A)}return true};function parseDate(B){var D=B.split("-");var F=parseInt(D[0],10);var A=parseInt(D[1],10)-1;var E=parseInt(D[2],10);return new Date(F,A,E)}Date.prototype.dateAdd=function(J,I){var M;var H=J;var G,A,E;var D;var F=false;var K;var B;var L;if(this.isDate(J,true)==false){return J}L=new String(J);K=L.charAt(4);B=L.split(K);G=parseInt(B[0],10);A=parseInt(B[1],10);E=parseInt(B[2],10);while(I!=0){if(I>0){E++}else{E--}if(E<=0||E>31){F=true;if(E<=0){E=31}else{E=1}}else{F=false}if(F){if(I>0){A++}else{A--}if(A<=0||A>12){F=true;if(A<=0){A=12}else{A=1}}else{F=false}}if(F){if(I>0){G++}else{G--}}H=G+"-"+A+"-"+E;if(this.isDate(H,false)){if(I>0){I--}else{I++}}}return H};Date.prototype.getWeekStart=function(A){this.isDate(A,true);var B=this.getDay();var D=B;if(D!=0){D=-D}return formatDate(this.dateAdd(A,D))};Date.prototype.getWeekEnd=function(A){this.isDate(A,true);var B=this.getDay();var D=6-B;return formatDate(this.dateAdd(A,D))};Date.prototype.getMonthStart=function(A){this.isDate(A,true);A=this.getFullYear()+"-"+(this.getMonth()+1)+"-1";return formatDate(A)};Date.prototype.getMonthEnd=function(D){this.isDate(D,true);var A=[31,28,31,30,31,30,31,31,30,31,30,31];var E=this.getFullYear();var F=this.getMonth()+1;var B=A[this.getMonth()];if(E%4==0&&F==2){B++}D=E+"-"+F+"-"+B;return formatDate(D)};Date.prototype.getSeasonStart=function(B){var A=[1,1,1,4,4,4,7,7,7,10,10,10];this.isDate(B,true);B=this.getFullYear()+"-"+A[this.getMonth()]+"-1";return formatDate(B)};Date.prototype.getSeasonEnd=function(D){this.isDate(D,true);var B=[3,3,3,6,6,6,9,9,9,12,12,12];var A=[31,31,31,30,30,30,30,30,30,31,31,31];this.isDate(D,true);D=this.getFullYear()+"-"+B[this.getMonth()]+"-"+A[this.getMonth()];return formatDate(D)};Date.prototype.getWeekOfMonth=function(){var A=this.getDay();var B=this.getDate();return Math.ceil((B+6-A)/7)};function formatDate(A){var E=A.split("-");var D=parseInt(E[1],10);var B=parseInt(E[2],10);return E[0]+"-"+(D<10?"0"+D:D)+"-"+(B<10?"0"+B:B)}Date.prototype.format=function(D){var A=this.getHours();var E={"M+":this.getMonth()+1,"d+":this.getDate(),"H+":A,"h+":(A>12?A-12:A),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};if(/(y+)/.test(D)){D=D.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var B in E){if(new RegExp("("+B+")").test(D)){D=D.replace(RegExp.$1,RegExp.$1.length==1?E[B]:("00"+E[B]).substr((""+E[B]).length))}}return D};function compareDate(B,A){return Date.parse(B.replace(/\-/g,"/"))-Date.parse(A.replace(/\-/g,"/"))}var chinese=["\u96f6","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d"];var len=["\u5341"];var ydm=["\u5e74","\u6708","\u65e5"];function num2chinese(D){D=""+D;slen=D.length;var A="";for(var B=0;B<slen;B++){A+=chinese[D.charAt(B)]}return A}function n2c(B){B=""+B;var A="";if(B.length==2){if(B.charAt(0)=="1"){if(B.charAt(1)=="0"){return len[0]}return len[0]+chinese[B.charAt(1)]}if(B.charAt(1)=="0"){return chinese[B.charAt(0)]+len[0]}return chinese[B.charAt(0)]+len[0]+chinese[B.charAt(1)]}return num2chinese(B)}function date2chinese0(B){var A=date2chinese(B);A=A.replace(/\u96f6/g,"\u3007");return A}function date2chinese1(B){var D;var A=B.split("-");if(A.length!=3){A=B.split("/")}if(A.length!=3){return B}if(A[1].charAt(0)=="0"){A[1]=A[1].substr(1)}if(A[2].charAt(0)=="0"){A[2]=A[2].substr(1)}D=A[0]+"\u5e74"+A[1]+"\u6708"+A[2]+"\u65e5";return D}function date2chinese(D){var F=/^(\d{2}|\d{4})(\/|-)(\d{1,2})(\2)(\d{1,2})$/;var E=D.match(F);var B="";if(E==null){return false}for(var A=1;A<E.length;A=A+2){B+=n2c(E[A]-0)+ydm[(A-1)/2]}return B}function chanageBodyType(F,B){var E=document.getElementById("bodyType");if(E&&E.value==F){return true}var A=document.getElementById("appName");if(A&&A.value=="4"&&F=="HTML"){var D=document.getElementById("content");if(D){D.value=""}}if(confirm(v3x.getMessage("V3XLang.common_confirmChangBodyType"))){var G=document.getElementById("changePdf");if(G){if(F=="OfficeWord"||F=="WpsWord"){G.style.display=""}else{G.style.display="none"}}showEditor(F,true);return true}return false}function getA8Top(){try{var A=getA8ParentWindow(window);if(A){return A}else{return top}}catch(B){return top}}function getA8ParentWindow(D){var A=D;for(var B=0;B<20;B++){if(typeof A.isCtpTop!="undefined"&&A.isCtpTop){return A}else{A=A.parent}}}function showEditor(B,A){A=(A==null)?true:false;if(B=="HTML"){removeOfficeDiv(A);oFCKeditor.ReplaceTextarea()}else{if(B=="OfficeWord"){oFCKeditor.remove();showOfficeDiv("doc")}else{if(B=="OfficeExcel"){oFCKeditor.remove();showOfficeDiv("xls")}else{if(B=="WpsWord"){oFCKeditor.remove();showOfficeDiv("wps")}else{if(B=="WpsExcel"){oFCKeditor.remove();showOfficeDiv("et")}else{if(B=="Pdf"){oFCKeditor.remove();showPdfDiv("pdf")}}}}}}var D=document.getElementById("bodyType");if(D){setContentTypeState(D.value,B);D.value=B}try{var E=document.getElementById("bulBottPre").value;if(E&&E=="1"){if(B=="HTML"){myBar.enabled("preview")}else{myBar.disabled("preview")}}}catch(F){}}function initContentTypeState(){try{bodyType=document.getElementById("bodyType").value;bodyTypeSelector.disabled("menu_bodytype_"+bodyType)}catch(A){}}function setContentTypeState(A,B){try{if(A==B){bodyTypeSelector.disabled("menu_bodytype_"+B)}else{bodyTypeSelector.disabled("menu_bodytype_"+B);bodyTypeSelector.enabled("menu_bodytype_"+A)}}catch(D){}}function showNextCondition(A){if(!A){return }var B=A.options;for(var D=0;D<B.length;D++){var E=document.getElementById(B[D].value+"Div");if(E){E.style.display="none"}}if(!document.getElementById(A.value+"Div")){return }document.getElementById(A.value+"Div").style.display="block"}function showCondition(conditionValue,textfieldValue,textfield1Value){if(!conditionValue){return }var conditionObj=document.getElementById("condition");selectUtil(conditionObj,conditionValue);showNextCondition(conditionObj);var theDiv=document.getElementById(conditionValue+"Div");if(theDiv){var nodes=theDiv.childNodes;if(nodes){for(var j=0;j<nodes.length;j++){var node=nodes.item(j);if(node.tagName=="INPUT"){eval("node.value = "+node.name+"Value;")}else{if(node.tagName=="SELECT"){eval("selectUtil(node, "+node.name+"Value)")}}}}}}function selectUtil(E,B){if(!E){return false}var D=E.options;for(var A=D.length-1;A>=0;A--){if(D[A].value==B){E.selectedIndex=A;return true}}return false}function dateCheck(){var B=document.getElementById("startdate").value;var A=document.getElementById("enddate").value;if(compareDate(B,A)>0){window.alert($.i18n("calendar_endTime_startTime"));return false}doSearch()}var SearchEnter={submitCount:0};function doSearch(){var L=document.getElementsByName("searchForm")[0];var F=document.getElementById("createDateDiv");if(L){if(SearchEnter.submitCount>2){return }var R=L.condition.options;for(var I=0;I<R.length;I++){if(L.condition.value==R[I].value){var M=true;if("createDate"==L.condition.value){var G=document.getElementById(R[I].value+"Div");var D;if(G!=null){D=G.childNodes}var Q=new Array();if(D!=null){D=F.childNodes;for(var H=0;H<D.length;H++){var K=D[H];if(K.type=="text"){Q.push(K)}}}if((Q.length>0)&&(Q.length<3)){var B=Q[0].value;var A=B.split("-");var O=new Date();O.setFullYear(A[0],A[1]-1,A[2]);var P=Q[1].value;var J=P.split("-");var E=new Date();E.setFullYear(J[0],J[1]-1,J[2]);if(E<O){M=false}}}if(M){continue}else{return }}var N=document.getElementById(R[I].value+"Div");if(N){N.innerHTML=""}}L.target=L.target||"_self";SearchEnter.submitCount++;L.submit()}}function doSearchEnter(){var A=v3x.getEvent();if(A.keyCode==13){doSearch()}}function listenerKeyESC(){var A=v3x.getEvent();if(A.keyCode==27){window.close()}}function validateCheckbox(B){B=B||"id";var F=document.getElementsByName(B);if(!F){return 0}var D=0;var A=F.length;for(var E=0;E<A;E++){if(F[E].checked){D++}}return D}function getCheckboxSingleValue(A){var B=getCheckboxSingleObject(A);return B==null?null:B.value}function getCheckboxSingleObject(B){B=B||"id";var F=document.getElementsByName(B);if(!F){return 0}var D=0;var A=F.length;for(var E=0;E<A;E++){if(F[E].checked){return F[E]}}return null}var currentOpinionId="";function hiddenReplyDiv(){var A=document.getElementById("replyDiv"+currentOpinionId);if(A){A.innerHTML="";A.style.display="none"}fileUploadAttachments.clear()}function reply(T,U,G,P,E,O,K,D){var Q=document.getElementById("replyDiv"+currentOpinionId);if(Q&&Q.innerHTML!=""){return }hiddenReplyDiv();opinionId5=T;var B=document.getElementById("uploadAttachmentSpan");if(B!=null){B.style.display=(G==true?"":"none")}var L=document.getElementById("myDocumentSpan");if(L){L.style.display=(P==true?"":"none")}var J=document.getElementById("replyDiv"+T);if(J){J.innerHTML=document.getElementById("replyCommentHTML").innerHTML;J.style.display="";var M=document.getElementById("reply-table");if(M!=null){M.style.display=""}var S=document.getElementsByName("repform")[0];S.isHidden.id="isHidden";try{S.isSendMessage.id="isSendMessage"}catch(R){}if(E){document.getElementById("isHiddenDiv").style.display="none"}if(S.b11){S.b11.focus()}S.content.focus();S.opinionId.value=T;if(U){S.memberId.value=U}var H=document.getElementById("affairMemberId");var I=document.getElementById("sendMessagePeopleSpan");if(H){if(O){var N=document.getElementById("pushMessageMemberNames");if(N&&currentUserId!=U){N.value=O}if(N&&currentUserId==U){S.isSendMessage.checked=false;I.style.display="none"}}if(K){var A=document.getElementById("pushMessageMemberIds");if(A){A.value=K+","+U}var F=document.getElementById("replyedAffairId");if(F){F.value=K}}}else{if(S.isSendMessage){S.isSendMessage.checked=false}if(I){I.style.display="none"}}}currentOpinionId=T}function checkReplyForm(A){if(checkForm(A)){return true}return false}function checkDefSubject(B,D){var A=getDefaultValue(B);if(D&&B.value==A){B.value=""}else{if(!B.value){B.value=A}}}function getDefaultValue(B){if(!B){return null}var A=B.attributes.getNamedItem("defaultValue");if(!A){A=B.attributes.getNamedItem("deaultValue")}if(A){return A.nodeValue}return null}function Panel(D,B,A){this.id=D;this.label=B;this.onclick=A||""}Panel.prototype.toString=function(){return"<div id='button-L"+this.id+"' class=\"sign-button-L\"></div><div id='button"+this.id+"' onClick=\"changeLocation('"+this.id+"');"+this.onclick+'" class="sign-button-M">'+this.label+"</div><div id='button-R"+this.id+'\' class="sign-button-R"></div><div class="sign-button-line"></div>'};Panel.prototype.toMinString=function(){return'<div class="sign-min-label" onclick="changeLocation(\''+this.id+"');"+this.onclick+'" title="'+this.label+'">'+this.label+'</div><div class="separatorDIV"></div>'};function showPanels(B){if(B!=false){document.write('<div id="hiddenPrecessAreaDiv" onclick="hiddenPrecessArea()" title="'+v3x.getMessage("V3XLang.common_hiddenPrecessArea")+'"></div>')}for(var A=0;A<panels.size();A++){document.write(panels.get(A).toString())}document.close()}function showMinPanels(){for(var A=0;A<panels.size();A++){document.write(panels.get(A).toMinString())}document.close();setNoOrResize(true)}function setNoOrResize(B){try{var A=parent.document.getElementById("detailRightFrame");if(A){A.noResize=B}else{return }}catch(D){}}function changeLocation(G){for(var B=0;B<panels.size();B++){var A=panels.get(B).id;if(A==G){continue}document.getElementById("button-L"+A).className="sign-button-L";document.getElementById("button"+A).className="sign-button-M";document.getElementById("button-R"+A).className="sign-button-R";var F=document.getElementById(A+"TR");if(F){F.style.display="none"}}var E=document.getElementById("button"+G);if(E){document.getElementById("button-L"+G).className="sign-button-L-sel";E.className="sign-button-M-sel";document.getElementById("button-R"+G).className="sign-button-R-sel"}var D=document.getElementById(G+"TR");if(D){D.style.display=""}setNoOrResize(false)}function showPrecessArea(B){try{parent.detailMainFrame.contentIframe.SeeyonForm_HideArrow()}catch(E){}B=B||"32%";try{parent.document.getElementById("zy").cols="*,"+B}catch(E){}var D=document.getElementById("signAreaTable");if(D){D.style.display=""}var A=document.getElementById("signMinDiv");if(A){A.style.display="none";A.style.height="0px"}}function hiddenPrecessArea(){try{parent.detailMainFrame.contentIframe.SeeyonForm_HideArrow()}catch(D){}try{parent.document.getElementById("zy").cols="*,45"}catch(D){}var B=document.getElementById("signAreaTable");if(B){B.style.display="none"}var A=document.getElementById("signMinDiv");if(A){A.style.display="";A.style.height="100%"}setNoOrResize(true)}function refreshIt(){location.reload(true)}function refreshWorkSpace(){var A=getA8Top().reFlesh()}function locationBack(){history.back()}function escapeStringToHTML(D,B,A){if(!D){return""}D=D.replace(/&/g,"&amp;");D=D.replace(/</g,"&lt;");D=D.replace(/>/g,"&gt;");D=D.replace(/\r/g,"");if(typeof (A)=="undefined"||(A==true||A=="true")){D=D.replace(/\n/g,"<br/>")}D=D.replace(/\'/g,"&#039;");D=D.replace(/"/g,"&#034;");if(typeof (B)!="undefined"&&(B==true||B=="true")){D=D.replace(/ /g,"&nbsp;")}return D}function escapeStringToJavascript(A){if(!A){return A}A=A.replace(/\\/g,"\\\\");A=A.replace(/\r/g,"");A=A.replace(/\n/g,"");A=A.replace(/\'/g,"\\'");A=A.replace(/"/g,'\\"');return A}function getParameter(D){var F=document.location.search;if(F){F=F.substring(1);var E=F.split("&");for(var B=0;B<E.length;B++){var A=E[B].split("=");if(D==A[0]){return A[1]}}}}function setSelectValue(D,F){var A=document.getElementById(D);if(!A){return }var E=A.options;if(!E){return }for(var B=0;B<E.length;B++){var G=E[B];if(G.value==F){G.selected=true;break}}}var sxUpConstants={status_0:"0,*",status_1:"35%,*"};var sxDownConstants={status_0:"*,9",status_1:"35%,*"};var sxMiddleConstants={status_0:"35%,*",status_1:"35%,*"};var indexFlag=0;function previewFrame(direction){if(!direction){return }var obj=parent.parent.document.getElementById("sx");if(obj==null){obj=parent.document.getElementById("sx")}if(obj==null){return }if(indexFlag>1){indexFlag=0}var status=eval("sx"+direction+"Constants.status_"+indexFlag);obj.rows=status;if(direction!="Middle"){indexFlag++}}function checkImageSize(A){if(A.width>540){A.width=540}}function getDetailPageBreak(F,E){var A=true;if(F!=true&&(getA8Top().window.dialogArguments||window.opener)){A=false}var D="";try{D=v3x==null?"":v3x.baseURL+"/common/"}catch(B){}document.write('<table id=\'pagebreakspare\' border="0" cellpadding="0" cellspacing="0" width="100%"  height="10" align="center">');document.write('<tr align="center">');document.write("<td style='height:10px; overflow:hidden;' class=\"detail-top\">");if(A){document.write('<table border="0" cellpadding="0" cellspacing="0" width="100%"  height="10">');document.write("<tr>");document.write("<td>");document.write("<div class='break-up' onclick=\"previewFrame('Up')\"></div>");document.write("</td>");document.write("<td>");document.write("<div class='break-down' onclick=\"previewFrame('Down')\"></div>");document.write("</td>");document.write("</tr>");document.write("</table>")}else{document.write("&nbsp;")}document.write("</td>");document.write("</tr>");document.write("</table>");document.close();if(E=="Down"){previewFrame("Down")}else{previewFrame("Middle")}}function getLimitLength(D,A,B){return D.getLimitLength(A,B)}function changeMenuTab(D){var G=document.getElementById("menuTabDiv");var F=D.className;if(F=="tab-tag-middel-sel"){return }var E=G.getElementsByTagName("div");var B;for(B=0;B<E.length;B++){F=E[B].className;if(F.substr(F.length-4)=="-sel"){E[B].className=F.substr(0,F.length-4)}}for(B=0;B<E.length;B++){if(D==E[B]){E[B-1].className=E[B-1].className+"-sel";E[B].className=E[B].className+"-sel";E[B+1].className=E[B+1].className+"-sel"}}var A=document.getElementById("detailIframe").contentWindow;A.location.href=D.getAttribute("url")}function setDefaultTab(E){var D=document.getElementById("menuTabDiv");var B=D.getElementsByTagName("div");B[E*4].className=B[E*4].className+"-sel";B[E*4+1].className=B[E*4+1].className+"-sel";B[E*4+2].className=B[E*4+2].className+"-sel";var A=document.getElementById("detailIframe").contentWindow;A.location.href=B[E*4+1].getAttribute("url")}function getRadioValue(B){var D=document.getElementsByName(B);if(!D){return null}for(var A=0;A<D.length;A++){if(D[A].checked){return D[A].value}}return null}var sx_variable={detailFrameName:"",title:"",imgSrc:"",count:0,description:"",isShow:false};function showDetailPageBaseInfo(A,F,B,E,D){parent.sx_variable.detailFrameName=A;parent.sx_variable.title=F;parent.sx_variable.imgSrc=B;parent.sx_variable.count=E;parent.sx_variable.description=D;parent.doDetailPageBaseInfo()}function doDetailPageBaseInfo(){if(!sx_variable.detailFrameName){return }var detailDocument=null;try{detailDocument=eval(sx_variable.detailFrameName)}catch(e){}if(detailDocument&&detailDocument.document.readyState=="complete"){var flag=eval("detailDocument.detailPageBaseInfoFlag");if(!flag){detailDocument.location.href=v3x.baseURL+"/common/detail.jsp";window.setTimeout("doDetailPageBaseInfo()",500);return }detailDocument.document.getElementById("titlePlace").innerHTML=sx_variable.title;if(sx_variable.count!=null&&sx_variable.count>=0){detailDocument.document.getElementById("countPlace").innerHTML=v3x.getMessage("V3XLang.common_detailPage_count_label","<span class='countNumber'>"+sx_variable.count+"</span>")}detailDocument.document.getElementById("descriptionPlace").innerHTML=sx_variable.description||"";detailDocument.document.getElementById("allDiv").style.display=""}else{window.setTimeout("doDetailPageBaseInfo()",500)}}function reloadDetailPageBaseInfo(){try{parent.doDetailPageBaseInfo()}catch(A){}}function changeTabUnSelected(A){if(A){document.getElementById("l-"+A).className="tab-tag-left";document.getElementById("m-"+A).className="tab-tag-middel cursor-hand";document.getElementById("r-"+A).className="tab-tag-right"}}function changeTabSelected(A){if(A){document.getElementById("l-"+A).className="tab-tag-left-sel";document.getElementById("m-"+A).className="tab-tag-middel-sel";document.getElementById("r-"+A).className="tab-tag-right-sel"}}var newIdes;function pigeonhole(A,D,G,E,B){newIdes=D;if(typeof (B)=="undefined"){B=""}var F=v3x.openWindow({url:_ctxPath+"/doc.do?method=docPigeonhole&appName="+A+"&atts="+G+"&validAcl="+E+"&pigeonholeType="+B,width:"500",height:"500",resizable:"true",scrollbars:"true"});if(F==undefined){F="cancel"}return F}function projectPigeonhole(A,D,B,F){var E=v3x.openWindow({url:_ctxPath+"/doc.do?method=docTreeProjectIframe&appName="+A+"&ids="+D+"&projectId="+B+"&atts="+F,width:"500",height:"500",resizable:"true",scrollbars:"true"});if(E==undefined){E="cancel"}return E}function isPhoneNumber(B){var E=B.value;var A=B.getAttribute("inputName");var D=/^([\d-]*)$/;if(!D.test(E)){writeValidateInfo(B,$.i18n("formValidate_isNumber",A));return false}return true}function Avacount(A){var D=A.value;var B=document.getElementById("Avacount").value;if(parseInt(D)>parseInt(B)){alertAvacount();return false}return true}function setScrollPosition(A,E,D){var B=(D!=null)?document.getElementById(D):document.body;B.scrollLeft=A;B.scrollTop=E}function resizeBody(D,A,B,G){try{B=(B=="min")?"min":"max";G=(G=="left")?"left":"right";var F=parent.document.getElementById(A);if(F==null){F=parent.parent.document.getElementById(A)}if(B=="max"){if(document.body.clientWidth>D){if(G=="left"){F.cols=""+D+",*"}else{F.cols="*,"+D+""}}}else{if(document.body.clientWidth<D){if(G=="left"){F.cols=""+D+",*"}else{F.cols="*,"+D+""}}}}catch(E){}}function resizeRightBody(D,A,B){try{var F=parent.document.getElementById(A);if(F==null){F=parent.parent.document.getElementById(A)}if(document.body.clientWidth<D){F.cols="*,"+B+""}}catch(E){}}function cancelOk(){try{var E=arguments[0];if(E!=null){if(E.page!=null&&E.page=="new"){window.location.href=v3x.baseURL+"/common/detail.jsp"}else{if(E.page!=null&&E.page=="edit"){var H=document.forms;for(var D=0;D<H.length;D++){for(var A=0;A<H[D].length;A++){if(E.enable!=null){for(var B=0;B<E.enable.length;B++){if(H[D][A].id==E.enable[B]){break}else{H[D][A].disabled=true}}}else{H[D][A].disabled=true}}}if(E.hidden!=null){for(var F=0;F<E.hidden.length;F++){document.getElementById(E.hidden[F]).style.display="none"}}}else{window.close()}}}else{window.location.href=v3x.baseURL+"/common/detail.jsp"}}catch(G){}}function showV3XMemberCard(A){if(v3x.getBrowserFlag("needModalWindow")){v3x.openWindow({url:"/seeyon/genericController.do?ViewPage=collaboration/memberCard&memberId="+A,width:680,height:400,dialogType:"modal"})}else{var B=new MxtWindow({id:"member_view_win",title:"",url:"/seeyon/genericController.do?ViewPage=collaboration/memberCard&memberId="+A,width:640,height:400,type:"window",isDrag:false})}}function ajaxCheckAccountExchangePendingAffair(D,F){try{var A=new XMLHttpRequestCaller(this,"ajaxEdocExchangeManager","checkEdocExchangeHasPendingAffair",false);A.addParameter(1,"Long",D);var B=A.serviceRequest();if(B!="0"){if(F!=""){alert(v3x.getMessage("MainLang.edoc_alert_hasExchangePendingAffair",F))}else{alert(v3x.getMessage("MainLang.edoc_alert_notdelteAllExchanger"))}return true}return false}catch(E){alert("Exception : "+E);return false}}function isOpenFromGenius(){var B=false;try{B=getA8Top().location.href.indexOf("a8genius.do")>-1}catch(A){alert(A)}return B}if(navigator.userAgent.indexOf("iPad")!=-1){window.addEventListener("load",function(){getA8Top().document.body.style.height="690px"})}function setFFGrid(A,B){if(A==""||B==false){return }if(document.all){window.attachEvent("onload",function(){mxtgrid(A)});window.attachEvent("onresize",function(){resizeGrid(A,B)})}else{mxtgrid(A);window.addEventListener("resize",function(){resizeGrid(A,B)},false)}}function mxtgrid(F){var D={id:"",srollLeft:0,_srollLeft:0,dragLeft:0,xStart:0,xEnd:0,eStart:0,oMove:null,iIndex:0,_drag:0,stopDrag:false,dragFlag:false,scroll:function(){D.hDiv.scrollLeft=D.bDiv.scrollLeft},setPosition:function(){var G=parseInt(D.hDiv.scrollLeft);var J=D.srollLeft-G;D.cDrag.style.display="none";var L=D.cDrag.childNodes;for(var I=0;I<L.length;I++){var K=L[I];if(typeof K=="object"&&K.nodeType!=3){var H=parseInt(K.style.left)+J;K.style.left=H+"px"}}D.srollLeft=G;D.cDrag.style.display=""},setDragPosition:function(){var G=parseInt(D.hDiv.scrollLeft);var I=D.srollLeft-G;D.cDrag.style.display="none";var L=D.cDrag.childNodes;for(var H=0;H<L.length;H++){var K=L[H];if(typeof K=="object"&&K.nodeType!=3){var J=parseInt(K.style.left)+I;K.style.left=J+"px"}}D.srollLeft=G;D.cDrag.style.display=""},attEvt:function(){var I=D.cDrag.childNodes;for(var G=0;G<I.length;G++){var H=I[G];if(typeof H=="object"&&H.nodeType!=3){H.onmousedown=D.dragStart}}},getIndex:function(){if(D.oMove!=null&&D.cDrag!=null){var H=D.cDrag.childNodes;for(var G=0;G<H.length;G++){if(H[G]==D.oMove){D.iIndex=G}}}},dragStart:function(){D.oMove=this;D.moveOrigintLeft=parseInt(D.oMove.style.left);D.getIndex();document.onmousedown=D.mousedown;document.onmousemove=D.mousemove;document.onmouseup=D.mouseup;document.onselectstart=function(){return false};document.onselect=function(){document.selection.empty()}},mousedown:function(H){D.bDiv.style.overflowY="auto";D.bDiv.style.overflowX="auto";D.dragFlag=true;var G=D.getEvent();D.eStart=D.xStart=document.all?G.x:G.pageX;document.body.style.cursor="col-resize"},mousemove:function(L){if(!D.dragFlag){return }var K=D.getEvent();var H=document.all?K.x:K.pageX;var G=H-D.eStart;var J=D.oMove.previousSibling;var I=parseInt(D.oMove.style.left)+G;if(I>D.clientWidth||I<50){D.xEnd=D.eStart;D.oMove.style.left=D.moveOrigintLeft+"px";document.body.style.cursor="default";D.dragFlag=false;D.stopDrag=false;D.oMove=null;document.onmousedown=null;document.onmousemove=null;document.onmouseup=null;document.onselectstart=null;document.onselect=null}else{if(J!=null){if(I>(parseInt(J.style.left)+50)){D.oMove.style.left=I+"px";D.eStart=H}else{D.stopDrag=true}}else{if(I>50){D.oMove.style.left=I+"px";D.eStart=H}else{D.stopDrag=true}}}},mouseup:function(H){if(!D.dragFlag){return }var G=D.getEvent();D.xEnd=document.all?G.x:G.pageX;if(D.stopDrag){D.xEnd=D.eStart}D.setDragPosition();D.setHeadWidth();D.setListWidth();if(D._drag<0&&D.hDiv.scrollLeft==0){D.bDiv.scrollLeft=0}else{D.hDiv.scrollLeft=D.bDiv.scrollLeft}D.setPosition();document.body.style.cursor="default";D.dragFlag=false;D.stopDrag=false;D.oMove=null;document.onmousedown=null;document.onmousemove=null;document.onmouseup=null;document.onselectstart=null;document.onselect=null;if(!document.all){}},setHeadWidth:function(){var G=D.oHead.childNodes[D.iIndex];var H=G.childNodes[0];var I=parseInt(H.style.width)+D._drag;H.style.width=I+"px";G.setAttribute("width",I);D.globalWidth=D.bTable.clientWidth;D.hTable.setAttribute("width",D.globalWidth+D._drag);if(D.noBody==true){D.bDiv.innerHTML="<div style='width:"+(D.holeWidth+D._drag)+"px'>&nbsp;</div>"}},setListWidth:function(){var H=D.oBody.childNodes;for(var K=0;K<H.length;K++){var J=H[K].childNodes[D.iIndex];var G=J.childNodes[0];var I=parseInt(G.style.width)+D._drag;G.style.width=I+"px";J.setAttribute("width",I)}D.bTable.setAttribute("width",D.globalWidth+D._drag)},setDragPosition:function(){D._srollLeft=parseInt(D.hDiv.scrollLeft);D._drag=D.xEnd-D.xStart;var J=D.cDrag.childNodes;for(var H=(D.iIndex+1);H<J.length;H++){var I=J[H];if(typeof I=="object"&&I.nodeType!=3){var G=parseInt(I.style.left)+D._drag;I.style.left=G+"px"}}},getEvent:function(){if(document.all){return window.event}func=D.getEvent.caller;while(func!=null){var G=func.arguments[0];if(G){if((G.constructor==Event||G.constructor==MouseEvent)||(typeof (G)=="object"&&G.preventDefault&&G.stopPropagation)){return G}}func=func.caller}return null},removeTextNode:function(H){var J=H.childNodes;for(var G=0;G<J.length;++G){var I=J[G];if(I.nodeType!=1){I.parentNode.removeChild(I)}}},setWidth:function(){var M=new ArrayList();var R=D.oHead.childNodes;var I=D.subHeight==0?Math.floor(D.clientWidth-R.length*12-2):Math.floor(D.clientWidth-R.length*12-20);var W=27;D.cDrag.style.display="none";var V=0;var N=0;for(var L=0;L<R.length;++L){var G=R[L];if(G.nodeType!=1){continue}var Q=G.childNodes[0];var P=D.cDrag.childNodes[L];var J=null;J=G.getAttribute("width");if(J==null||J==undefined||J==""){J="5%"}var U;if(J.indexOf("%")!=-1){U=Math.floor(I*(parseInt(J))/100)}else{U=Math.floor(J)}V+=U+10;M.add(U);N+=U;G.setAttribute("width","");Q.style.width=U+"px";P.style.left=(V+L*2-1)+"px";P.style.height=W+"px"}D.holeWidth=N+R.length*12+2;D.cDrag.style.display="";var S=D.oBody.childNodes;if(S.length!=0){for(var K=0;K<S.length;++K){var T=S[K].childNodes;for(var H=0;H<T.length;++H){var O=T[H];if(O.childNodes.length==0){continue}O.childNodes[0].style.width=M.get(H)+"px";if(v3x.isMSIE7&&!v3x.isMSIE8&&!v3x.isMSIE9){O.setAttribute("width",(M.get(H)+10))}}}}else{D.noBody=true;D.bDiv.innerHTML="<div style='width:"+D.holeWidth+"px'>&nbsp;</div>"}},setTitle:function(){var K=D.oHead.childNodes;for(var G=0;G<K.length;++G){var J=K[G];var I=J.childNodes[0];if(I){var H=I.innerHTML;if(H.indexOf("<INPUT")!=-1||H.indexOf("<IMG")!=-1||H.indexOf("<FONT")!=-1||H.indexOf("<SPAN")!=-1){H=""}I.setAttribute("title",H)}}}};D.id=F;D.layoutdiv=document.getElementById("scrollListDiv");if(D.layoutdiv==null){D.layoutdiv=document.body}else{D.layoutdiv.style.overflow="hidden"}D.clientWidth=parseInt(D.layoutdiv.clientWidth);D.clientHeight=parseInt(D.layoutdiv.clientHeight);if(D.clientHeight<=0||D.clientWidth<=0){setTimeout(function(){mxtgrid(D.id)},100)}D.mxtgrid=document.getElementById("mxtgrid_"+F);D.mxtgrid.style.display="none";D.hTable=document.getElementById("hTable"+F);D.bTable=document.getElementById("bTable"+F);D.bDiv=document.getElementById("bDiv"+F);D.hDiv=document.getElementById("hDiv"+F);D.cDrag=document.getElementById("cDrag"+F);D.oHead=document.getElementById("headID"+F);D.oBody=document.getElementById("bodyID"+F);D.subHeight=parseInt(D.mxtgrid.getAttribute("subHeight"));if(D.subHeight!=0){D.mxtgrid.style.width=D.clientWidth+"px"}if(D.clientHeight-63-D.subHeight<=0){return }var E=v3x.isMSIE6&&!v3x.isMSIE7&&!v3x.isMSIE8&&!v3x.isMSIE9;if((D.oBody.childNodes.length*28+63)>D.clientHeight){D.clientWidth=D.clientWidth-17}D.bDivHeight=D.clientHeight-63-D.subHeight;D.bDiv.style.height=D.bDivHeight+"px";if(E){D.layoutdivParent=D.layoutdiv.parentNode;D.bDiv.style.height=(D.bDivHeight-parseInt(D.layoutdivParent.currentStyle.paddingTop))+"px"}D.removeTextNode(D.cDrag);D.removeTextNode(D.oHead);D.removeTextNode(D.oBody);var B=D.oBody.childNodes;for(var A=0;A<B.length;++A){D.removeTextNode(B[A])}D.setTitle();D.setWidth();D.attEvt();D.bDiv.onscroll=function(){D.scroll();D.setPosition()};if(D.bTable.clientWidth<D.bDiv.clientWidth){D.bDiv.style.overflowY="auto";D.bDiv.style.overflowX="hidden"}D.mxtgrid.style.display=""}function setTablePosition(A,B){if(B==null){if(A!=null&&A.document!=null&&A.document.rowPositionObj){A.document.rowPositionObj.focus()}else{return }}else{A.target.focus()}}function setPositionObj(A){document.rowPositionObj=A}function resizeGrid(N,G){try{var M=N;var O=document.getElementById("scrollListDiv");if(O==null||O.clientHeight<=0){O=document.body}var Q=Math.floor(O.clientWidth);var H=Math.floor(O.clientHeight);if(H<=0){return }var R=document.getElementById("mxtgrid_"+M);var S=document.getElementById("hTable"+M);var A=document.getElementById("bTable"+M);R.style.display="none";var K=document.getElementById("bDiv"+M);var I=document.getElementById("hDiv"+M);var B=document.getElementById("cDrag"+M);var X=document.getElementById("headID"+M);var E=document.getElementById("bodyID"+M);var W=parseInt(R.getAttribute("subHeight"));if(W!=0){R.style.width=Q+"px"}if(H-63-W<=0){return }var L=v3x.isMSIE6&&!v3x.isMSIE7&&!v3x.isMSIE8&&!v3x.isMSIE9;if(L){Q=Q-15}var D=H-63-W;K.style.height=D+"px";if(L){layoutdivParent=O.parentNode;K.style.height=(D-parseInt(layoutdivParent.currentStyle.paddingTop))+"px"}var J=H-35;var V=Math.floor(A.clientHeight);if(V<H){J=V+29}if(J<=0){return }B.style.display="none";var U=B.childNodes;for(var P=0;P<U.length;++P){var F=U[P];F.style.height=J+"px"}B.style.display="";R.style.display=""}catch(T){}}function MxtWindow(D){if(D==null){return }this.id=D.id?D.id:Math.floor(Math.random()*100000000);this.title=D.title;this.url=D.url;this.height=D.height==null?250:D.height;this.width=D.width==null?300:D.width;this.titleHeight=29;this.footerHeight=30;this.top=D.top;this.left=D.left;this.model=D.model==null?true:false;this.className=D.calssName==null?"mxt-window":D.classNam;this.element=D.obj;this.relativeElement=D.relativeElement;this.isCeate=true;this.buttons=D.buttons;this.isSynchronization=D.isSynchronization==null?false:true;this.userAgent=navigator.userAgent.toLowerCase();this.isOpera=this.userAgent.indexOf("opera")>-1;this.isIE=this.userAgent.indexOf("msie")>-1&&!this.isOpera;this.isNS=this.userAgent.indexOf("netscape")>-1;this.dragDiv=null;this.isIframe=false;this.iframe=null;this.iframeId=null;this.html=D.html;this.offsetTop=0;this.offsetLeft=0;this.discription=D.discription==undefined?"":D.discription;this.closeParam=D.closeParam;this.closeHidden=D.closeHidden==undefined?false:D.closeHidden;this.maskIndex=1000;this.targetWindow=D.targetWindow==undefined?window:D.targetWindow;this.setIndex();var F=parseInt(this.targetWindow.document.documentElement.clientWidth);var E=parseInt(this.targetWindow.document.body.clientWidth);if(E>F){F=E}if(F<this.width){this.width=F}var A=parseInt(this.targetWindow.document.documentElement.clientHeight);var B=parseInt(this.targetWindow.document.body.clientHeight);if(B>A){A=B}if(A<this.height){this.height=A}this.type=D.type==null?"window":D.type;this.isDrag=D.isDrag==null?true:D.isDrag;this.initWindow();this.isModel();this.showWindow();this.addEffect();this.showWindow()}MxtWindow.prototype.setTitle=function(B){var A=this.targetWindow.document.getElementById(this.id+"-mxtwindow-title");if(A){A.innerHTML=B}};MxtWindow.prototype.setIndex=function(){var D=this.getClass("div","shield");if(D.length>0){if(D.length==1){this.maskIndex=1002}if(D.length>1){for(var A=0;A<D.length;A++){var B=D[A];var E=parseInt(B.style.zIndex);if(E>this.maskIndex){this.maskIndex=E}}this.maskIndex=this.maskIndex+2}}};MxtWindow.prototype.getClass=function(D,B){if(this.targetWindow.document.getElementsByClassName){return this.targetWindow.document.getElementsByClassName(B)}else{var D=this.targetWindow.document.getElementsByTagName(D);var E=[];for(var A=0;A<D.length;A++){if(D[A].className==B){E[E.length]=D[A]}}return E}};MxtWindow.prototype.getReturnValue=function(){var D=null;var B=this.targetWindow;var G=null;if(this.isIE){try{G=B.document.frames(this.iframeId)}catch(F){G=B.frames[this.iframeId]}}else{G=B.frames[this.iframeId]}if(G==null){try{for(var E=0;E<B.frames.length;E++){if(B.frames[E].name==this.iframeId){D=E;break}}if(D!=null){G=B.frames[D]}}catch(F){G=B.document.getElementById(this.iframeId)}}if(G==null){G=document.getElementById(this.iframeId)}if(G!=null){var A=null;if(G.contentWindow){A=G.contentWindow.OK()}else{A=G.OK()}return A}else{return null}};MxtWindow.prototype.initWindow=function(){var A=this.getElement(this.id);if(A!=null){this.removeElement(A)}if(this.url==null){this.isIframe=false}else{this.isIframe=true}if(this.relativeElement!=null){var E=this.relativeElement.offsetLeft;var D=this.relativeElement.offsetTop;var B=this.relativeElement;do{B=B.offsetParent;E+=B.offsetLeft;D+=B.offsetTop}while(B.tagName!="BODY");this.offsetLeft=E;this.offsetTop=D}if(this.buttons==null||this.buttons==undefined){this.footerHeight=5}if(this.type=="window"){this.getWindow()}else{this.getPanel()}};MxtWindow.prototype.addEffect=function(){if(this.isDrag){new this.targetWindow.MxtWindow.divDrag([this.dragDiv,this.element])}};MxtWindow.prototype.showWindow=function(){if(this.targetWindow.document.getElementById(this.id)!=null){return }if(this.isSynchronization){if(this.targetWindow.document.getElementById("_isSynchronization")!=null){return }}this.targetWindow.document.body.appendChild(this.element)};MxtWindow.prototype.isModel=function(){if(this.model){if(this.targetWindow.document.getElementById(this.id+"_oMxtMask")!=null){return }var D=this.targetWindow.document.createElement("div");D.id=this.id+"_oMxtMask";D.className="shield";var B=parseInt(this.targetWindow.document.body.scrollWidth);var A=parseInt(this.targetWindow.document.body.scrollHeight);var E="top:0px;left:0px;position:absolute;z-index:"+this.maskIndex+";background:#000000;width:"+B+"px;height:"+A+"px;filter: alpha(opacity=25);-moz-opacity: 0.25;opacity: 0.25;";D.style.cssText=E;this.targetWindow.document.body.appendChild(D)}else{return }};MxtWindow.prototype.close=function(A){try{this.targetWindow.document.getElementById(this.iframeId).contentWindow.document.getElementById("docOpenBodyFrame").contentWindow.document.getElementById("officeEditorFrame").contentWindow.pdfOcxUnLoad()}catch(A){}try{this.targetWindow.document.getElementById(this.iframeId).contentWindow.document.getElementById("docOpenBodyFrame").contentWindow.document.getElementById("officeEditorFrame").contentWindow.OcxUnLoad()}catch(A){}this.targetWindow.document.getElementById(this.iframeId).src="";this.removeElement(this.targetWindow.document.getElementById(this.id));if(this.model){if(this.targetWindow.document.getElementById(this.id+"_oMxtMask")!=null){this.removeElement(this.targetWindow.document.getElementById(this.id+"_oMxtMask"))}}};MxtWindow.prototype.getPanel=function(){this.element=this.createObj("div");this.element.className=this.className;this.element.id=this.id;if(this.isIE){this.element.style.width=this.width+2+"px";this.element.style.height=this.height-8+"px"}else{this.element.style.width=this.width+"px";this.element.style.height=this.height-5+"px"}if(this.relativeElement!=null){this.top=parseInt(this.offsetTop)+parseInt(this.relativeElement.offsetHeight)+"px";this.left=parseInt(this.offsetLeft)+"px";if(parseInt(this.offsetLeft)+parseInt(this.relativeElement.offsetWidth)+parseInt(this.width)>parseInt(this.targetWindow.document.body.clientWidth)){this.left=parseInt(this.offsetLeft)-this.width+"px"}}if(this.top==null){this.top=(parseInt(this.targetWindow.document.body.clientHeight)-this.height)/2+"px";this.left=(parseInt(this.targetWindow.document.body.clientWidth)-this.width)/2+"px"}this.element.style.top=this.top;this.element.style.left=this.left;var J=this.createObj("div");J.className="mxt-panel-head";J.style.height="20px";J.onselectstart=function(){return false};this.dragDiv=J;var L=this.createObj("span");L.className="mxt-panel-head-close";var M=this;MxtWindow.addEvent(L,"click",function(O){return M.close(O)},false);J.appendChild(L);var E=this.createObj("div");E.className="mxt-panel-body";E.style.height=this.height-this.footerHeight-10+"px";E.appendChild(J);if(this.isIframe){this.iframeId=parseInt(Math.random()*10000)+"-iframe";var F=this.targetWindow.document.createElement("iframe");F.setAttribute("src",this.url);F.id=this.iframeId;F.name=this.iframeId;F.setAttribute("frameborder","0");F.className="mxt-window-body-iframe";F.style.height=parseInt(E.style.height)-20+"px";F.style.width=this.width-10+"px";this.iframe=F;E.appendChild(this.iframe)}else{var G=this.createObj("div");G.className="mxt-panel-body-content";G.style.height=parseInt(E.style.height)-10+"px";if(this.html){G.innerHTML=this.html}E.appendChild(G)}this.element.appendChild(E);var K=this.createObj("div");K.className="mxt-panel-footer";K.style.height=this.footerHeight+"px";if(this.discription!=null){var D=this.createObj("div");D.className="discriptionDiv";D.innerHTML=this.discription;K.appendChild(D)}if(this.buttons!=null&&this.buttons.length>0){var I=this.createObj("div");I.className="buttonsDiv";for(var B=0;B<this.buttons.length;B++){var A=this.buttons[B];var N=this.createObj("input");N.setAttribute("type","button");N.className="button-default-2";if(A.text){N.setAttribute("value",A.text)}if(A.id){N.setAttribute("id",A.id)}if(A.disabled){N.setAttribute("disabled",A.disabled)}if(A.handler){MxtWindow.addEvent(N,"click",A.handler,false)}I.appendChild(N)}K.appendChild(I)}this.element.appendChild(K);if(this.isSynchronization){var H=this.createObj("input");H.setAttribute("type","hidden");H.setAttribute("id","_isSynchronization");this.element.appendChild(H)}};MxtWindow.prototype.getWindow=function(){this.element=this.createObj("div");this.element.className=this.className;this.element.id=this.id;this.element.style.width=this.width+"px";this.element.style.height=this.height+"px";this.element.style.zIndex=this.maskIndex+1;this.elementContent=this.createObj("div");this.elementContent.style.position="absolute";this.elementContent.style.zIndex="10";this.element.appendChild(this.elementContent);this.iframeMask=this.targetWindow.document.createElement("iframe");this.iframeMask.style.position="absolute";this.iframeMask.style.zIndex="1";this.iframeMask.id=this.iframeId+"_iframeMask";this.iframeMask.setAttribute("frameBorder","0");this.iframeMask.style.width=(this.width+3)+"px";this.iframeMask.style.height=this.height+"px";this.element.appendChild(this.iframeMask);if(this.relativeElement!=null){this.top=parseInt(this.offsetTop)+parseInt(this.relativeElement.offsetHeight)+"px";this.left=parseInt(this.offsetLeft)+"px";if(parseInt(this.offsetLeft)+parseInt(this.relativeElement.offsetWidth)/2+parseInt(this.width)>parseInt(this.targetWindow.document.body.clientWidth)){this.left=parseInt(this.offsetLeft)-this.width+"px"}}if(this.top==null){this.top=(parseInt(this.targetWindow.document.body.clientHeight)-this.height)/2+"px";this.left=(parseInt(this.targetWindow.document.body.clientWidth)-this.width)/2+"px"}this.element.style.top=this.top;this.element.style.left=this.left;var J=this.createObj("div");J.className="mxt-window-head";J.style.height=this.titleHeight+"px";J.onselectstart=function(){return false};this.dragDiv=J;var K=this.createObj("span");K.id=this.id+"-mxtwindow-title";K.className="mxt-window-head-title";K.innerHTML=this.title;var M=this.createObj("span");M.className="mxt-window-head-close";var N=this;if(this.closeParam&&this.closeParam.handler){MxtWindow.addEvent(M,"click",this.closeParam.handler,false)}else{MxtWindow.addEvent(M,"click",function(P){return N.close(P)},false)}if(this.closeHidden){M.style.display="none"}J.appendChild(K);J.appendChild(M);var E=this.createObj("div");E.className="mxt-window-body";E.style.height=this.height-this.titleHeight-this.footerHeight-20+"px";if(this.isIframe){this.iframeId=parseInt(Math.random()*10000)+"-iframe";var F=this.targetWindow.document.createElement("iframe");F.setAttribute("src",this.url);F.id=this.iframeId;F.name=this.iframeId;F.setAttribute("frameBorder","0");F.className="mxt-window-body-iframe";F.style.height=parseInt(E.style.height)-5+"px";F.style.width=this.width-10+"px";this.iframe=F;E.appendChild(this.iframe)}else{var G=this.createObj("div");G.className="mxt-window-body-content";G.style.height=parseInt(E.style.height)-10+"px";if(this.html){G.innerHTML=this.html}E.appendChild(G)}this.elementContent.appendChild(J);this.elementContent.appendChild(E);var L=this.createObj("div");L.className="mxt-window-footer";L.style.height=this.footerHeight+"px";if(this.discription!=null||this.discription!=""){var D=this.createObj("div");D.className="discriptionDiv";D.innerHTML=this.discription;L.appendChild(D)}if(this.buttons!=null&&this.buttons.length>0){var I=this.createObj("div");I.className="buttonsDiv";for(var B=0;B<this.buttons.length;B++){var A=this.buttons[B];var O=this.createObj("input");O.setAttribute("type","button");if(A.text){O.setAttribute("value",A.text)}if(A.id){O.setAttribute("id",A.id)}if(A.disabled){O.setAttribute("disabled",A.disabled)}if(A.handler){MxtWindow.addEvent(O,"click",A.handler,false)}I.appendChild(O)}L.appendChild(I)}this.elementContent.appendChild(L);if(this.isSynchronization){var H=this.createObj("input");H.setAttribute("type","hidden");H.setAttribute("id","_isSynchronization");this.element.appendChild(H)}};MxtWindow.prototype.reloadUrl=function(A){var B=A;B?null:B=this.url;var D=this.targetWindow.document.getElementById(this.iframeId);D.setAttribute("src",B)};MxtWindow.addEvent=function(D,B,E,A){try{if(D.addEventListener){D.addEventListener(B,E,A)}else{if(D.attachEvent){D.attachEvent("on"+B,E)}}}catch(F){}};MxtWindow.prototype.removeElement=function(A){A.parentNode.removeChild(A)};MxtWindow.prototype.createObj=function(A,D){var B=this.targetWindow.document.createElement(A);B.id=D==null?"":D;return B};MxtWindow.prototype.getElement=function(A){if(A==null){return null}else{return document.getElementById(A)}};Array.prototype.extend=function(E){for(var F=0,D=E.length;F<D;F++){this.push(E[F])}return this};MxtWindow.divDrag=function(){var D,G,E;var F=2000;this.dragStart=function(A){A=A||window.event;if((A.which&&(A.which!=1))||(A.button&&(A.button!=1))){return }var B=this.$pos;E=this.parent||this;if(document.defaultView){_top=document.defaultView.getComputedStyle(E,null).getPropertyValue("top");_left=document.defaultView.getComputedStyle(E,null).getPropertyValue("left")}else{if(E.currentStyle){_top=E.currentStyle.top;_left=E.currentStyle.left}}B.ox=(A.pageX||(A.clientX+document.documentElement.scrollLeft))-parseInt(_left);B.oy=(A.pageY||(A.clientY+document.documentElement.scrollTop))-parseInt(_top);if(!!D){if(document.removeEventListener){document.removeEventListener("mousemove",D,false);document.removeEventListener("mouseup",G,false);document.onselectstart=function(){return true}}else{document.detachEvent("onmousemove",D);document.detachEvent("onmouseup",G)}}D=this.dragMove.create(this);G=this.dragEnd.create(this);if(document.addEventListener){document.addEventListener("mousemove",D,false);document.addEventListener("mouseup",G,false)}else{document.attachEvent("onmousemove",D);document.attachEvent("onmouseup",G)}this.stop(A)};this.dragMove=function(A){A=A||window.event;var B=this.$pos;E=this.parent||this;E.style.top=(A.pageY||(A.clientY+document.documentElement.scrollTop))-parseInt(B.oy)+"px";E.style.left=(A.pageX||(A.clientX+document.documentElement.scrollLeft))-parseInt(B.ox)+"px";this.stop(A)};this.dragEnd=function(A){var B=this.$pos;A=A||window.event;if((A.which&&(A.which!=1))||(A.button&&(A.button!=1))){return }E=this.parent||this;if(!!(this.parent)){this.style.backgroundColor=B.color}if(document.removeEventListener){document.removeEventListener("mousemove",D,false);document.removeEventListener("mouseup",G,false)}else{document.detachEvent("onmousemove",D);document.detachEvent("onmouseup",G)}D=null;G=null;this.stop(A)};this.shiftColor=function(){};this.position=function(H){var B=H.offsetTop;var A=H.offsetLeft;while(H=H.offsetParent){B+=H.offsetTop;A+=H.offsetLeft}return{x:A,y:B,ox:0,oy:0,color:null}};this.stop=function(A){if(A.stopPropagation){A.stopPropagation()}else{A.cancelBubble=true}if(A.preventDefault){A.preventDefault()}else{A.returnValue=false}};this.stop1=function(A){A=A||window.event;if(A.stopPropagation){A.stopPropagation()}else{A.cancelBubble=true}};this.create=function(J){var I=this;var H=J;return function(A){return I.apply(H,[A])}};this.dragStart.create=this.create;this.dragMove.create=this.create;this.dragEnd.create=this.create;this.shiftColor.create=this.create;this.initialize=function(){for(var H=0,I=arguments.length;H<I;H++){C=arguments[H];if(!(C.push)){C=[C]}$C=(typeof (C[0])=="object")?C[0]:(typeof (C[0])=="string"?$(C[0]):null);if(!$C){continue}$C.$pos=this.position($C);$C.dragMove=this.dragMove;$C.dragEnd=this.dragEnd;$C.stop=this.stop;if(!!C[1]){$C.parent=C[1];$C.$pos.color=$C.style.backgroundColor}if($C.addEventListener){$C.addEventListener("mousedown",this.dragStart.create($C),false);if(!!C[1]){$C.addEventListener("mousedown",this.shiftColor.create($C),false)}}else{$C.attachEvent("onmousedown",this.dragStart.create($C));if(!!C[1]){$C.attachEvent("onmousedown",this.shiftColor.create($C))}}}};this.initialize.apply(this,arguments)};MxtWindow.prototype.addShadow=function(){obj=this.element;if(!obj){return false}var R=navigator.userAgent.toLowerCase();var B=R.indexOf("opera")>-1;var F=R.indexOf("msie")>-1&&!B;var P=R.indexOf("netscape")>-1;var K=obj.offsetWidth;var O=obj.offsetHeight;var D=0;var M=0;var L=function(S){if(!S){return false}var U=0,T=0;if(F||B){while(S!=null&&S.nodeName!="#document"){U+=S.offsetLeft;T+=S.offsetTop;S=S.parentNode}}else{T=S.offsetTop;U=S.offsetLeft}return{T:T,L:U}};var Q=L(obj);D=Q.L;M=Q.T;var J=this.targetWindow.document.createElement("div");var I=this.targetWindow.document.createElement("div");var H=this.targetWindow.document.createElement("div");var G=this.targetWindow.document.createElement("div");var A=function(U,T,S){if(!U){return false}if(!B){if(!S){U.style.cssText=T}else{U.style.cssText+=T}}else{if(!S){U.setAttribute("style",T)}else{U.setAttribute("style",U.getAttribute("style")+";"+T)}}};var E="width:100%;height:100%;position:absolute;margin:0px;padding:0px;top:-1px;left:-1px";A(J,"position:absolute;left:"+(D+3)+"px;top:"+(M+3)+"px;width:"+K+"px;height:"+O+"px;background:#eee");A(I,E+";background:#ddd");A(H,E+";background:#ccc");A(G,E+";background:#fff");if(F||P){A(J,";z-index:-1",1)}else{A(obj,"position:absolute;z-index:2;left:+"+D+"px;top:"+M+"px",1)}J.appendChild(I);I.appendChild(H);H.appendChild(G);var N=this.targetWindow.document.createElement("div");N.className="mxt-window";N.appendChild(J);N.appendChild(obj);this.element=N};function initIpadScroll(E,A,B){if(v3x.isIpad){var D=document.getElementById(E);if(D){if(A){D.style.height=A+"px"}if(B){D.style.width=B+"px"}D.style.overflow="auto";touchScroll(E)}}}function initIe10AutoScroll(E,D){var A=window.top.document.getElementById("main");var B=A!=null?A.offsetHeight-D:parseInt(window.top.document.body.offsetHeight)-D;if(B<0){return }initIe10Scroll(E,B)}function initIe10Scroll(E,A,B){var D=document.getElementById(E);if(D){if(A){D.style.height=A+"px"}if(B){D.style.width=B+"px"}}}function initFFScroll(E,A,B){if(v3x.isFirefox){var D=document.getElementById(E);if(D){if(A){D.style.height=A+"px"}if(B){D.style.width=B+"px"}D.style.overflow="auto"}}}function initSafariScroll(E,A,B){if(v3x.isSafari){var D=document.getElementById(E);if(D){if(A){D.style.height=A+"px"}if(B){D.style.width=B+"px"}D.style.overflow="auto"}}}function initChromeScroll(E,A,B){if(v3x.isChrome){var D=document.getElementById(E);if(D){if(A){D.style.height=A+"px"}if(B){D.style.width=B+"px"}D.style.overflow="auto"}}}function isTouchDevice(){try{document.createEvent("TouchEvent");return true}catch(A){return false}}function touchScroll(E){if(isTouchDevice()){var A=document.getElementById(E);var B=0;var D=0;A.addEventListener("touchstart",function(F){B=this.scrollTop+F.touches[0].pageY;D=this.scrollLeft+F.touches[0].pageX},false);A.addEventListener("touchmove",function(F){this.scrollTop=B-F.touches[0].pageY;this.scrollLeft=D-F.touches[0].pageX;F.preventDefault()},false)}}function isDecimal(B,A,E,D){if(!testRegExp(B,"^-?[0-9]{0,"+(E?E:"")+"}\\.?[0-9]{1,"+(D?D:"")+"}$")){if(A){alert($.i18n("formValidate_isNumber",A))}return false}return true}function showPushWindow(J){var H="";var G=document.getElementById("edocType");var E=document.getElementById("pushMessageMemberIds");if(G){H=G.value}var F=document.getElementById("pushMessageMemberIds").value;var A=colWorkFlowURL+"?method=showPushWindow&summaryId="+J+"&edocType="+H+"&sel="+encodeURIat(F);var B=document.getElementById("replyedAffairId");if(B!=null&&typeof (B)!="undefined"){A+="&replyedAffairId="+B.value}var I=v3x.openWindow({url:A,height:350,width:300});if(typeof (I)!="undefined"&&I!=null){var L=I[0];var K=I[1];document.getElementById("pushMessageMemberIds").value=L;var D=document.getElementById("pushMessageMemberNames");if(D&&B!=B.value){D.value=K;D.title=K}}}function sendMessageForCard(A,D){var B;if(A){B="/seeyon/message.do?method=showSendDlg&getData=fromParent"}else{B="/seeyon/message.do?method=showSendDlg&receiverIds="+D}v3x.openWindow({url:B,width:"440",height:"300"})}function sendMessageForIMTab(E,A){if(!getA8Top().contentFrame.topFrame.onlineWin){var D=50;var B=(window.screen.availHeight-600)/2;getA8Top().contentFrame.topFrame.onlineWin=getA8Top().contentFrame.topFrame.open("/seeyon/message.do?method=showOnlineUser&id="+E+"&name="+A,"","left="+D+",top="+B+",width=600,height=600,toolbar=no,menubar=no,scrollbars=no,resizable=yes,location=no,status=no")}else{getA8Top().contentFrame.topFrame.onlineWin.focus();getA8Top().contentFrame.topFrame.onlineWin.showIMTab("1",E,A,"false")}}function forwardColV3X(A,D,B){var E=v3x.openWindow({url:"/seeyon/collaboration.do?method=showForward&showType=model&data="+A+"_"+D,width:360,height:420});if(B=="self"){if(E=="true"){document.location.reload(true)}}else{if(B=="list"){if(E&&E=="true"&&(getParameter("method")=="listSent")){document.location.reload(true)}}}}function showDetailAndLog(A,F,D,E){var B="";if(E&&(E=="recEdoc"||E=="sendEdoc"||E=="signReport"||E=="edocSend"||E=="edocRec"||E=="edocSign")){B="&appName=4&appTypeName="+E}getA8Top().v3x.openWindow({url:colWorkFlowURL+"?method=showFlowNodeDetailFrame&summaryId="+A+"&processId="+F+"&defaultTab="+D+B,dialogType:v3x.getBrowserFlag("openWindow")==true?"modal":"1",width:"750",height:"500"})}function confirmToOffice2003(){if(confirm(_("V3XLang.OfficeSaveTo2003"))){return true}else{return false}}function isOffice2007(A){if(typeof (A)=="undefined"||A==null){return false}if(A.indexOf(".docx")!=-1||A.indexOf(".xlsx")!=-1||A.indexOf(".pptx")!=-1){return true}else{return false}}function V3XAutocomplete(){this._disableEvent=false;this._onchange=function(D,G,B,A){if(v3xautocomplete._disableEvent){return }if(D){if(D.select){var E={label:G.value,value:G.id};D.select(E,B)}if(D.bindSelect){var F=jQuery.Event("change");if(jQuery.isFunction(D.bindSelect)){F.target=D.bindSelect(jQuery(A))}else{F.target=jQuery(D.bindSelect)}try{jQuery(F.target).val(G.id).trigger(F,jQuery(F.target));jQuery(F.target).blur()}catch(F){}}}};this._getViewElement=function(B){var A;if(typeof B=="string"){A=jQuery(document.getElementById(B+"_autocomplete"))}else{A=jQuery(B)}return A}}var v3xautocomplete=new V3XAutocomplete();V3XAutocomplete.prototype.autocomplete=function(L,Y,E){var M=this._getViewElement(L);if(typeof (M)=="undefined"||M==null||M[0]==null){return }if(!M){return false}var O=true;var W=true;var Q=240;var R=0;var F=false;var D=0;var J={id:"",value:""};var U=17;var P=Y.length==0;if(!P&&Y.length==1&&Y[0].value==""){P=true}if(E){jQuery(M).data("options",E);if(E.button!==undefined){W=true}if(E.maxHeight!==undefined){Q=E.maxHeight}if(E.width!==undefined){R=E.width}if(E.autoSize!==undefined){F=E.autosize}if(E.appendBlank!==undefined){O=E.appendBlank}}var I=new Array();var T=Y==null?I:Y;if(T.length>0){if(O){I.push(J)}jQuery.each(T,function(a,c){var b={id:c.value,value:c.label};if(b.value){I.push(b);var Z=b.value.length;if(Z>D){D=Z}}})}var B=function(b){for(var Z in I){var a=I[Z];if(a.id==b.id&&a.value==b.value){return true}}return false};var H=jQuery(M).data("current");jQuery(M).data("current",null);var K=function(Z,a){if(!a.item){return false}jQuery(document.getElementById(L)).val(a.item.id);jQuery(M).val(a.item.value);jQuery(M).data("current",a.item);X(E,a.item,L,M);return false};var A=function(){K(null,{item:J});jQuery(M).data("current",null)};if(W){var N=M.next('button[name="acToggle"]').length>0;if(!N){var V="background-image:url('common/images/desc.gif');background-repeat:no-repeat;background-color: #ececec;background-position:center;width:"+U+"px;height:21px;border:1px #d1d1d1 solid;";M.after('<button name="acToggle" tabindex="-1" onclick="v3xautocomplete.toggle(this.previousSibling);this.blur();" style="'+V+'"/>')}}var X=this._onchange;jQuery(M).bind("blur",function(){var Z=jQuery(M).data("current");if(Z){if(jQuery(M).val()!=Z.value){jQuery(M).val(Z.value)}}else{A()}});jQuery(M).bind("click",function(){this.select()});M.autocomplete({minLength:0,source:I,autoFocus:true,delay:0,focus:function(Z,a){return false},position:{collision:"flip"},select:K,search:function(){var Z=jQuery(this).autocomplete("widget");Z.css("height","auto")},beforePosition:function(){var Z=jQuery(this).autocomplete("widget");if(Z.outerHeight()>Q){Z.css("overflow-y","auto");Z.css("overflow-x","hidden");Z.css("height",Q+"px")}},open:function(){var g=jQuery(this).autocomplete("widget");var h;if(F){h=D*8+20}else{if(R){h=R}else{h=jQuery(this).outerWidth();if(W){var e=M.next('button[name="acToggle"]').position().top;var a=(e>=(M.position().top+M.outerHeight()));if(!a){h+=U}}}}var d=M.outerWidth();if(h<120){h=120}if(h<0||(h>500&&h>(d+U))){h=300}g.width(h);g.find(".ui-menu-item").css("overflow","hidden").css("white-space","nowrap");g.find("li").each(function(j,k){k.title=k.innerText});jQuery(M.parents()).scroll(function(){g.css("display","none")});var b=g.position().top;var Z=g.outerHeight();var f=M.position().top;var c=M.outerHeight();if(b<0){b=0;if(Z<f){b=f-Z}Z=f-b;g.css("top",b+"px");g.css("height",Z+"px")}if(b+Z<f){b=f-Z;g.css("top",b+"px")}if(b+Z>f+c){b=f+c;g.css("top",b+"px")}g.css("left",M.position().left+"px")}});var G=false;if(H!=null){G=B(H);if(!G){A()}}if(P){A();M[0].disabled=true;if(W){M.next('button[name="acToggle"]').attr("disabled",true).css("opacity","0.4")}}else{M[0].disabled=false;if(W){M.next('button[name="acToggle"]').attr("disabled",false).css("opacity","1")}if(E&&(E.value||E.value==null)){var S=E.value;var B=false;if(S!=null){jQuery.each(I,function(Z,a){if(a.id==S){B=true;return }})}if(B){if(typeof L=="string"){this.select(L,S)}else{this.select(M,S)}}else{if(!G){A()}else{jQuery(M).data("current",H)}}}else{if(jQuery(M).val()){A()}}}};V3XAutocomplete.prototype.select=function(E,G){var A=this._getViewElement(E);var F=A.autocomplete("option","source");if(!F){return false}var D=jQuery(A).data("options");var B=this._onchange;jQuery.each(F,function(H,I){if(I.id==G){jQuery(document.getElementById(E)).val(I.id);A.val(I.value);jQuery(A).data("current",I);B(D,I,E,A);return true}})};V3XAutocomplete.prototype.refresh=function(B){var A=this._getViewElement(B);var D=jQuery(A).data("current");if(D){this._disableEvent=true;this.select(A,D.id);this._disableEvent=false}};V3XAutocomplete.prototype.disableEvent=function(A){this._disableEvent=A};V3XAutocomplete.prototype.getData=function(B){var A=this._getViewElement(B);var E=A.autocomplete("option","source");var D=new Array();jQuery.each(E,function(F,H){var G={value:H.id,label:H.value};if(G.value){D.push(G)}});return D};V3XAutocomplete.prototype.copy=function(I,H){var A=this._getViewElement(I);var F=A.autocomplete("option","source");var E=new Array();jQuery.each(F,function(J,L){var K={value:L.id,label:L.value};if(K.value){E.push(K)}});var B=jQuery(A).data("options");try{if(jQuery.expando){jQuery(H).removeAttr(jQuery.expando)}}catch(G){}var D=jQuery(A).data("current");if(D){B.value=D.id}this.autocomplete(H,E,B)};V3XAutocomplete.prototype.toggle=function(B){var A=this._getViewElement(B);if(A.autocomplete("widget").is(":visible")){A.autocomplete("close");return }A.autocomplete("search","");A.focus()};V3XAutocomplete.prototype.build=function(A,F){function E(G){var H=new Array();jQuery.each(G,function(I,J){if(J.key){H.push(J.key,'="',J.value,'" ')}});return H.join("")}var B=new Array();var D=A+"_autocomplete";B.push("<input ",E([{key:"name",value:A},{key:"id",value:A},{key:"type",value:"hidden"}])," />");B.push("<input ",E([{key:"name",value:D},{key:"id",value:D},{key:"type",value:"text"},{key:"class",value:"input_autocomplete"},{key:"onclick",value:"v3xautocomplete.toggle('"+A+"');"}])," />\n");B.push("<script>\n");B.push("v3xautocomplete.autocomplete(","'",A,"',",F,");\n");B.push("<\/script>");return(B.join(""))};var postUrl="";function getQueryCondition(P,B,J){var D=document.getElementById("ftable");var L=D.rows[0];var E=J;var N=isCrossTable();if(N){E=0;var I;var K=L.cells.length;for(var G=0;G<K;G++){var H=L.cells[G];if(H.getAttribute("rowspan")=="2"){E++}if(H.getAttribute("colspan")!=null){I=parseInt(H.getAttribute("colspan"))}}}if(B>(E-1)){var M="";for(var G=0;G<E;G++){M+=getRowHead(G,P)+","}if(N){M+=getColHead(E,I,B)+",";M+=getCrossDataCol(E,B)+","}else{M+=getDataCol(B)+","}var F=document.all("showdetail").value;postUrl="/seeyon/formreport.do?method=showReportQuery&str="+encodeURIComponent(M);var A=screen.width-155;var O=screen.height-300;v3x.openWindow({url:"/seeyon/formreport.do?method=openShowReportQuery",workSpace:"yes",dialogType:"modal",resizable:false});return }}function getSummaryId(D){var A=new XMLHttpRequestCaller(null,"","",false,"GET","false",D);var B=A.serviceRequest();return B}function showQueryTable(B){var G=document.getElementById("showdetail").value;var H=document.getElementById("formname").value;var J=document.getElementById("formid").value;var F=document.getElementById("queryname").value;var I=document.getElementById("isFlow").value;if(I=="true"){var D="/seeyon/formquery.do?method=hasSummaryId&id="+B+"&showdetail="+encodeURIComponent(G)+"&formid="+J+"&formname="+H;var E=getSummaryId(D);if(E.trim()=="null"){alert(v3x.getMessage("formLang.formquery__selectnone"))}else{if(E.indexOf("|")>-1){D="/seeyon/formquery.do?method=collFrameViewRelate&summaryId="+E+"&showdetail="+encodeURIComponent(G)+"&appid="+J+"&queryname="+encodeURIComponent(F);v3x.openWindow({url:D,workSpace:"yes",dialogType:v3x.getBrowserFlag("pageBreak")?"modal":"open"})}else{D="/seeyon/formquery.do?method=showRecordDetail&summaryId="+E+"&showdetail="+encodeURIComponent(G)+"&appid="+J+"&queryname="+encodeURIComponent(F);v3x.openWindow({url:D,workSpace:"yes",dialogType:v3x.getBrowserFlag("pageBreak")?"modal":"open"})}}}else{if(I=="false"){var A=document.getElementById("appShowDetail").value;v3x.openWindow({url:"/seeyon/appFormController.do?method=viewFormData&isOpenWin=true&appformId="+J+"&masterId="+B+"&showDetail="+encodeURIComponent(A),dialogType:"modal",workSpace:"yes",resizable:"true"})}}}function isCrossTable(){var A=document.getElementById("ftable");var B=A.rows[0];var F=B.cells.length;for(var D=0;D<F;D++){var E=B.cells[D];if(E.getAttribute("rowspan")=="2"){return true}}return false}function getColHead(B,F,E){var A=document.getElementById("ftable");var D=A.rows[0];return D.cells[Math.floor((E-B)/F)+B].getAttribute("value")}function getCrossDataCol(B,D){var A=document.getElementById("ftable");return A.rows[1].cells[D-B].getAttribute("value")}function getDataCol(B){var A=document.getElementById("ftable");return A.rows[0].cells[B].getAttribute("value")}function getRowHead(B,D){var A=document.getElementById("ftable");return A.rows[D].cells[B].getAttribute("value")}function newPlan(A,B,D){getA8Top().contentFrame.mainFrame.location.href=A+"?method=initAdd&type="+B+"&time="+D}function newTask(B,D){var A=v3x.openWindow({url:B+"?method=addTaskPageFrame&from=timing&time="+D,width:530,height:480,resizable:false});if(A||A=="true"){window.location.href=window.location.href}}function newCal(B,D){var A=v3x.openWindow({url:B+"?method=createEvent&time="+D,width:530,height:480,resizable:false});if(A&&A=="true"){window.location.href=window.location.href}}function newMeeting(A,B){getA8Top().contentFrame.mainFrame.location.href=A+"?method=create&formOper=new&time="+B}function isLeftClose(){return getA8Top().contentFrame.document.getElementById("LeftRightFrameSet").cols=="142,*"}function resetCtpLocation(){var A=getA8Top();if(A){A.showLocation("")}}function openEditorAssociate(E,F,M,I,G,N,A,O){function J(){if(v3x){return v3x.baseURL?v3x.baseURL:parent._ctxPath}return"/seeyon"}var B;var L=false;var D=document.getElementById("moduleId");if(D!=null){I=D.value}else{if(typeof (summary_id)!==undefined&&(typeof (summary_id)!=="undefined")){I=summary_id}}if(typeof (_baseObjectId)!==undefined&&(typeof (_baseObjectId)!=="undefined")){I=_baseObjectId}var K=document.getElementById("moduleType");if(K!=null){G=K.value}else{if(typeof (_baseApp)!==undefined&&(typeof (_baseApp)!=="undefined")){G=_baseApp}}if(F=="collaboration"){B="collaboration/collaboration.do?method=summary&openFrom=glwd&type=&affairId="+M+"&baseObjectId="+I+"&baseApp="+G}else{if(F=="edoc"){B="/edocController.do?method=detailIFrame&from=Done&openFrom=glwd&affairId="+M+"&isQuote=true&baseObjectId="+I+"&baseApp=4"}else{if(F=="km"){B="doc.do?method=docOpenIframeOnlyId&openFrom=glwd&docResId="+M+"&baseObjectId="+I+"&baseApp="+G}else{if(F=="meeting"){B="mtMeeting.do?method=myDetailFrame&id="+M+"&isQuote=true&baseObjectId="+I+"&baseApp="+G+"&state=10"}else{L=true;B="fileUpload.do?method=download&fileId="+E+"&createDate="+N.substring(0,10)+"&filename="+encodeURI(A)+"&v="+O}}}}B=B+"&fromEditor=1";B=J()+"/"+B;if(L){var H=document.getElementById("downloadFileFrame");if(H){H.src=B}else{window.open(B,"_blank")}}else{openDetailURL(B)}}function closeAllDialog(A){var B=window;if(A){B=A}B.$(".mask").remove();B.$(".dialog_box").remove();B.$(".shield").remove();B.$(".mxt-window").remove()};
/*
 * jQuery UI Core 1.9.2
 * http://jqueryui.com
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
(function(B,F){var A=0,E=/^ui-id-\d+$/;B.ui=B.ui||{};if(B.ui.version){return }B.extend(B.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});B.fn.extend({_focus:B.fn.focus,focus:function(G,H){return typeof G==="number"?this.each(function(){var I=this;setTimeout(function(){B(I).focus();if(H){H.call(I)}},G)}):this._focus.apply(this,arguments)},scrollParent:function(){var G;if((B.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){G=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(B.css(this,"position"))&&(/(auto|scroll)/).test(B.css(this,"overflow")+B.css(this,"overflow-y")+B.css(this,"overflow-x"))}).eq(0)}else{G=this.parents().filter(function(){return(/(auto|scroll)/).test(B.css(this,"overflow")+B.css(this,"overflow-y")+B.css(this,"overflow-x"))}).eq(0)}return(/fixed/).test(this.css("position"))||!G.length?B(document):G},zIndex:function(J){if(J!==F){return this.css("zIndex",J)}if(this.length){var H=B(this[0]),G,I;while(H.length&&H[0]!==document){G=H.css("position");if(G==="absolute"||G==="relative"||G==="fixed"){I=parseInt(H.css("zIndex"),10);if(!isNaN(I)&&I!==0){return I}}H=H.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++A)}})},removeUniqueId:function(){return this.each(function(){if(E.test(this.id)){B(this).removeAttr("id")}})}});function D(I,G){var K,J,H,L=I.nodeName.toLowerCase();if("area"===L){K=I.parentNode;J=K.name;if(!I.href||!J||K.nodeName.toLowerCase()!=="map"){return false}H=B("img[usemap=#"+J+"]")[0];return !!H&&C(H)}return(/input|select|textarea|button|object/.test(L)?!I.disabled:"a"===L?I.href||G:G)&&C(I)}function C(G){return B.expr.filters.visible(G)&&!B(G).parents().andSelf().filter(function(){return B.css(this,"visibility")==="hidden"}).length}B.extend(B.expr[":"],{data:B.expr.createPseudo?B.expr.createPseudo(function(G){return function(H){return !!B.data(H,G)}}):function(I,H,G){return !!B.data(I,G[3])},focusable:function(G){return D(G,!isNaN(B.attr(G,"tabindex")))},tabbable:function(I){var G=B.attr(I,"tabindex"),H=isNaN(G);return(H||G>=0)&&D(I,!H)}});B(function(){var G=document.body,H=G.appendChild(H=document.createElement("div"));H.offsetHeight;B.extend(H.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});B.support.minHeight=H.offsetHeight===100;B.support.selectstart="onselectstart" in H;G.removeChild(H).style.display="none"});if(!B("<a>").outerWidth(1).jquery){B.each(["Width","Height"],function(I,G){var H=G==="Width"?["Left","Right"]:["Top","Bottom"],J=G.toLowerCase(),L={innerWidth:B.fn.innerWidth,innerHeight:B.fn.innerHeight,outerWidth:B.fn.outerWidth,outerHeight:B.fn.outerHeight};function K(O,N,M,P){B.each(H,function(){N-=parseFloat(B.css(O,"padding"+this))||0;if(M){N-=parseFloat(B.css(O,"border"+this+"Width"))||0}if(P){N-=parseFloat(B.css(O,"margin"+this))||0}});return N}B.fn["inner"+G]=function(M){if(M===F){return L["inner"+G].call(this)}return this.each(function(){B(this).css(J,K(this,M)+"px")})};B.fn["outer"+G]=function(M,N){if(typeof M!=="number"){return L["outer"+G].call(this,M)}return this.each(function(){B(this).css(J,K(this,M,true,N)+"px")})}})}if(B("<a>").data("a-b","a").removeData("a-b").data("a-b")){B.fn.removeData=(function(G){return function(H){if(arguments.length){return G.call(this,B.camelCase(H))}else{return G.call(this)}}})(B.fn.removeData)}(function(){var G=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];B.ui.ie=G.length?true:false;B.ui.ie6=parseFloat(G[1],10)===6})();B.fn.extend({disableSelection:function(){return this.bind((B.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(G){G.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});B.extend(B.ui,{plugin:{add:function(H,I,K){var G,J=B.ui[H].prototype;for(G in K){J.plugins[G]=J.plugins[G]||[];J.plugins[G].push([I,K[G]])}},call:function(G,I,H){var J,K=G.plugins[I];if(!K||!G.element[0].parentNode||G.element[0].parentNode.nodeType===11){return }for(J=0;J<K.length;J++){if(G.options[K[J][0]]){K[J][1].apply(G.element,H)}}}},contains:B.contains,hasScroll:function(J,H){if(B(J).css("overflow")==="hidden"){return false}var G=(H&&H==="left")?"scrollLeft":"scrollTop",I=false;if(J[G]>0){return true}J[G]=1;I=(J[G]>0);J[G]=0;return I},isOverAxis:function(H,G,I){return(H>G)&&(H<(G+I))},isOver:function(L,H,K,J,G,I){return B.ui.isOverAxis(L,K,G)&&B.ui.isOverAxis(H,J,I)}})})(jQuery);
/*
 * jQuery UI Widget 1.9.2
 * http://jqueryui.com
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
(function(B,E){var A=0,D=Array.prototype.slice,C=B.cleanData;B.cleanData=function(F){for(var G=0,H;(H=F[G])!=null;G++){try{B(H).triggerHandler("remove")}catch(I){}}C(F)};B.widget=function(G,J,F){var M,L,I,K,H=G.split(".")[0];G=G.split(".")[1];M=H+"-"+G;if(!F){F=J;J=B.Widget}B.expr[":"][M.toLowerCase()]=function(N){return !!B.data(N,M)};B[H]=B[H]||{};L=B[H][G];I=B[H][G]=function(N,O){if(!this._createWidget){return new I(N,O)}if(arguments.length){this._createWidget(N,O)}};B.extend(I,L,{version:F.version,_proto:B.extend({},F),_childConstructors:[]});K=new J();K.options=B.widget.extend({},K.options);B.each(F,function(O,N){if(B.isFunction(N)){F[O]=(function(){var P=function(){return J.prototype[O].apply(this,arguments)},Q=function(R){return J.prototype[O].apply(this,R)};return function(){var T=this._super,R=this._superApply,S;this._super=P;this._superApply=Q;S=N.apply(this,arguments);this._super=T;this._superApply=R;return S}})()}});I.prototype=B.widget.extend(K,{widgetEventPrefix:L?K.widgetEventPrefix:G},F,{constructor:I,namespace:H,widgetName:G,widgetBaseClass:M,widgetFullName:M});if(L){B.each(L._childConstructors,function(O,P){var N=P.prototype;B.widget(N.namespace+"."+N.widgetName,I,P._proto)});delete L._childConstructors}else{J._childConstructors.push(I)}B.widget.bridge(G,I)};B.widget.extend=function(K){var G=D.call(arguments,1),J=0,F=G.length,H,I;for(;J<F;J++){for(H in G[J]){I=G[J][H];if(G[J].hasOwnProperty(H)&&I!==E){if(B.isPlainObject(I)){K[H]=B.isPlainObject(K[H])?B.widget.extend({},K[H],I):B.widget.extend({},I)}else{K[H]=I}}}}return K};B.widget.bridge=function(G,F){var H=F.prototype.widgetFullName||G;B.fn[G]=function(K){var I=typeof K==="string",J=D.call(arguments,1),L=this;K=!I&&J.length?B.widget.extend.apply(null,[K].concat(J)):K;if(I){this.each(function(){var N,M=B.data(this,H);if(!M){return B.error("cannot call methods on "+G+" prior to initialization; attempted to call method '"+K+"'")}if(!B.isFunction(M[K])||K.charAt(0)==="_"){return B.error("no such method '"+K+"' for "+G+" widget instance")}N=M[K].apply(M,J);if(N!==M&&N!==E){L=N&&N.jquery?L.pushStack(N.get()):N;return false}})}else{this.each(function(){var M=B.data(this,H);if(M){M.option(K||{})._init()}else{B.data(this,H,new F(K,this))}})}return L}};B.Widget=function(){};B.Widget._childConstructors=[];B.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(F,G){G=B(G||this.defaultElement||this)[0];this.element=B(G);this.uuid=A++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=B.widget.extend({},this.options,this._getCreateOptions(),F);this.bindings=B();this.hoverable=B();this.focusable=B();if(G!==this){B.data(G,this.widgetName,this);B.data(G,this.widgetFullName,this);this._on(true,this.element,{remove:function(H){if(H.target===G){this.destroy()}}});this.document=B(G.style?G.ownerDocument:G.document||G);this.window=B(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:B.noop,_getCreateEventData:B.noop,_create:B.noop,_init:B.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(B.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:B.noop,widget:function(){return this.element},option:function(I,J){var F=I,K,H,G;if(arguments.length===0){return B.widget.extend({},this.options)}if(typeof I==="string"){F={};K=I.split(".");I=K.shift();if(K.length){H=F[I]=B.widget.extend({},this.options[I]);for(G=0;G<K.length-1;G++){H[K[G]]=H[K[G]]||{};H=H[K[G]]}I=K.pop();if(J===E){return H[I]===E?null:H[I]}H[I]=J}else{if(J===E){return this.options[I]===E?null:this.options[I]}F[I]=J}}this._setOptions(F);return this},_setOptions:function(F){var G;for(G in F){this._setOption(G,F[G])}return this},_setOption:function(F,G){this.options[F]=G;if(F==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!G).attr("aria-disabled",G);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_on:function(I,H,G){var J,F=this;if(typeof I!=="boolean"){G=H;H=I;I=false}if(!G){G=H;H=this.element;J=this.widget()}else{H=J=B(H);this.bindings=this.bindings.add(H)}B.each(G,function(P,O){function M(){if(!I&&(F.options.disabled===true||B(this).hasClass("ui-state-disabled"))){return }return(typeof O==="string"?F[O]:O).apply(F,arguments)}if(typeof O!=="string"){M.guid=O.guid=O.guid||M.guid||B.guid++}var N=P.match(/^(\w+)\s*(.*)$/),L=N[1]+F.eventNamespace,K=N[2];if(K){J.delegate(K,L,M)}else{H.bind(L,M)}})},_off:function(G,F){F=(F||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;G.unbind(F).undelegate(F)},_delay:function(I,H){function G(){return(typeof I==="string"?F[I]:I).apply(F,arguments)}var F=this;return setTimeout(G,H||0)},_hoverable:function(F){this.hoverable=this.hoverable.add(F);this._on(F,{mouseenter:function(G){B(G.currentTarget).addClass("ui-state-hover")},mouseleave:function(G){B(G.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(F){this.focusable=this.focusable.add(F);this._on(F,{focusin:function(G){B(G.currentTarget).addClass("ui-state-focus")},focusout:function(G){B(G.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(F,G,H){var K,J,I=this.options[F];H=H||{};G=B.Event(G);G.type=(F===this.widgetEventPrefix?F:this.widgetEventPrefix+F).toLowerCase();G.target=this.element[0];J=G.originalEvent;if(J){for(K in J){if(!(K in G)){G[K]=J[K]}}}this.element.trigger(G,H);return !(B.isFunction(I)&&I.apply(this.element[0],[G].concat(H))===false||G.isDefaultPrevented())}};B.each({show:"fadeIn",hide:"fadeOut"},function(G,F){B.Widget.prototype["_"+G]=function(J,I,L){if(typeof I==="string"){I={effect:I}}var K,H=!I?G:I===true||typeof I==="number"?F:I.effect||F;I=I||{};if(typeof I==="number"){I={duration:I}}K=!B.isEmptyObject(I);I.complete=L;if(I.delay){J.delay(I.delay)}if(K&&B.effects&&(B.effects.effect[H]||B.uiBackCompat!==false&&B.effects[H])){J[G](I)}else{if(H!==G&&J[H]){J[H](I.duration,I.easing,L)}else{J.queue(function(M){B(this)[G]();if(L){L.call(J[0])}M()})}}}});if(B.uiBackCompat!==false){B.Widget.prototype._getCreateOptions=function(){if(B.metadata&&B.metadata.get){return B.metadata&&B.metadata.get(this.element[0])[this.widgetName]}return null}}})(jQuery);
/*
 * jQuery UI Mouse 1.9.2
 * http://jqueryui.com
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 *
 * Depends:
 *  jquery.ui.widget.js
 */
(function(B,C){var A=false;B(document).mouseup(function(D){A=false});B.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var D=this;this.element.bind("mousedown."+this.widgetName,function(E){return D._mouseDown(E)}).bind("click."+this.widgetName,function(E){if(true===B.data(E.target,D.widgetName+".preventClickEvent")){B.removeData(E.target,D.widgetName+".preventClickEvent");E.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){B(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(F){if(A){return }(this._mouseStarted&&this._mouseUp(F));this._mouseDownEvent=F;var E=this,G=(F.which===1),D=(typeof this.options.cancel==="string"&&F.target.nodeName?B(F.target).closest(this.options.cancel).length:false);if(!G||D||!this._mouseCapture(F)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){E.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(F)&&this._mouseDelayMet(F)){this._mouseStarted=(this._mouseStart(F)!==false);if(!this._mouseStarted){F.preventDefault();return true}}if(true===B.data(F.target,this.widgetName+".preventClickEvent")){B.removeData(F.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(H){return E._mouseMove(H)};this._mouseUpDelegate=function(H){return E._mouseUp(H)};B(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);F.preventDefault();A=true;return true},_mouseMove:function(D){if(B.ui.ie&&!(document.documentMode>=9)&&!D.button){return this._mouseUp(D)}if(this._mouseStarted){this._mouseDrag(D);return D.preventDefault()}if(this._mouseDistanceMet(D)&&this._mouseDelayMet(D)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,D)!==false);(this._mouseStarted?this._mouseDrag(D):this._mouseUp(D))}return !this._mouseStarted},_mouseUp:function(D){B(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(D.target===this._mouseDownEvent.target){B.data(D.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(D)}return false},_mouseDistanceMet:function(D){return(Math.max(Math.abs(this._mouseDownEvent.pageX-D.pageX),Math.abs(this._mouseDownEvent.pageY-D.pageY))>=this.options.distance)},_mouseDelayMet:function(D){return this.mouseDelayMet},_mouseStart:function(D){},_mouseDrag:function(D){},_mouseStop:function(D){},_mouseCapture:function(D){return true}})})(jQuery);
/*
 * jQuery UI Slider 1.9.2
 * http://jqueryui.com
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slider/
 *
 * Depends:
 *  jquery.ui.core.js
 *  jquery.ui.mouse.js
 *  jquery.ui.widget.js
 */
(function(B,C){var A=5;B.widget("ui.slider",B.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,pointer:true,step:1,value:0,values:null},_create:function(){var I,D,E=this.options,F=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),K="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#' title='"+E.value+"'></a>",N=[];this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(E.disabled?" ui-slider-disabled ui-disabled":""));this.range=B([]);if(E.range){if(E.range===true){if(!E.values){E.values=[this._valueMin(),this._valueMin()]}if(E.values.length&&E.values.length!==2){E.values=[E.values[0],E.values[0]]}}this.range=B("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+((E.range==="min"||E.range==="max")?" ui-slider-range-"+E.range:""))}D=(E.values&&E.values.length)||1;for(I=F.length;I<D;I++){N.push(K)}this.handles=F.add(B(N.join("")).appendTo(this.element));this.handle=this.handles.eq(0);if(E.pointer){this.point=B("<div class='relative'></div>").width(this.element.width()).css("margin-top",this.element[0].offsetHeight-2).addClass("ui-slider-pointer");var G="";var J=this._valueMin();var M=this._valueMax();for(var I=J;I<=M;I++){var L=I;var H=(M!==J)?(L-J)/(M-J)*100:0;G+="<span class='ui_sliderPoint absolute'step='"+I+"' style='left:"+H+"%;'><em></em>";if(E.text){G+="<p class='ui_point_text'>"+E.text[I]+"</p>"}G+="</span>"}this.point.append(B(G)).appendTo(this.element)}this.handles.filter("a").click(function(O){O.preventDefault()}).mouseenter(function(){if(!E.disabled){B(this).addClass("ui-state-hover")}}).mouseleave(function(){B(this).removeClass("ui-state-hover")}).focus(function(){if(!E.disabled){B(".ui-slider .ui-state-focus").removeClass("ui-state-focus");B(this).addClass("ui-state-focus")}else{B(this).blur()}}).blur(function(){B(this).removeClass("ui-state-focus")});this.handles.each(function(O){B(this).data("ui-slider-handle-index",O)});this._on(this.handles,{keydown:function(S){var T,Q,P,R,O=B(S.target).data("ui-slider-handle-index");switch(S.keyCode){case B.ui.keyCode.HOME:case B.ui.keyCode.END:case B.ui.keyCode.PAGE_UP:case B.ui.keyCode.PAGE_DOWN:case B.ui.keyCode.UP:case B.ui.keyCode.RIGHT:case B.ui.keyCode.DOWN:case B.ui.keyCode.LEFT:S.preventDefault();if(!this._keySliding){this._keySliding=true;B(S.target).addClass("ui-state-active");T=this._start(S,O);if(T===false){return }}break}R=this.options.step;if(this.options.values&&this.options.values.length){Q=P=this.values(O)}else{Q=P=this.value()}switch(S.keyCode){case B.ui.keyCode.HOME:P=this._valueMin();break;case B.ui.keyCode.END:P=this._valueMax();break;case B.ui.keyCode.PAGE_UP:P=this._trimAlignValue(Q+((this._valueMax()-this._valueMin())/A));break;case B.ui.keyCode.PAGE_DOWN:P=this._trimAlignValue(Q-((this._valueMax()-this._valueMin())/A));break;case B.ui.keyCode.UP:case B.ui.keyCode.RIGHT:if(Q===this._valueMax()){return }P=this._trimAlignValue(Q+R);break;case B.ui.keyCode.DOWN:case B.ui.keyCode.LEFT:if(Q===this._valueMin()){return }P=this._trimAlignValue(Q-R);break}this._slide(S,O,P)},keyup:function(P){var O=B(P.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(P,O);this._change(P,O);B(P.target).removeClass("ui-state-active")}}});this._refreshValue();this._animateOff=false},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(F){var J,M,E,H,L,N,I,D,K=this,G=this.options;if(G.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();J={x:F.pageX,y:F.pageY};M=this._normValueFromMouse(J);E=this._valueMax()-this._valueMin()+1;this.handles.each(function(O){var P=Math.abs(M-K.values(O));if(E>P){E=P;H=B(this);L=O}});if(G.range===true&&this.values(1)===G.min){L+=1;H=B(this.handles[L])}N=this._start(F,L);if(N===false){return false}this._mouseSliding=true;this._handleIndex=L;H.addClass("ui-state-active").focus();I=H.offset();D=!B(F.target).parents().andSelf().is(".ui-slider-handle");this._clickOffset=D?{left:0,top:0}:{left:F.pageX-I.left-(H.width()/2),top:F.pageY-I.top-(H.height()/2)-(parseInt(H.css("borderTopWidth"),10)||0)-(parseInt(H.css("borderBottomWidth"),10)||0)+(parseInt(H.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(F,L,M)}this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(F){var D={x:F.pageX,y:F.pageY},E=this._normValueFromMouse(D);this._slide(F,this._handleIndex,E);return false},_mouseStop:function(D){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(D,this._handleIndex);this._change(D,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(E){var D,H,G,F,I;if(this.orientation==="horizontal"){D=this.elementSize.width;H=E.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{D=this.elementSize.height;H=E.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}G=(H/D);if(G>1){G=1}if(G<0){G=0}if(this.orientation==="vertical"){G=1-G}F=this._valueMax()-this._valueMin();I=this._valueMin()+G*F;return this._trimAlignValue(I)},_start:function(F,E){var D={handle:this.handles[E],value:this.value()};if(this.options.values&&this.options.values.length){D.value=this.values(E);D.values=this.values()}return this._trigger("start",F,D)},_slide:function(H,G,F){var D,E,I;if(this.options.values&&this.options.values.length){D=this.values(G?0:1);if((this.options.values.length===2&&this.options.range===true)&&((G===0&&F>D)||(G===1&&F<D))){F=D}if(F!==this.values(G)){E=this.values();E[G]=F;I=this._trigger("slide",H,{handle:this.handles[G],value:F,values:E});D=this.values(G?0:1);if(I!==false){this.values(G,F,true)}}}else{if(F!==this.value()){I=this._trigger("slide",H,{handle:this.handles[G],value:F});if(I!==false){this.value(F)}}}},_stop:function(F,E){var D={handle:this.handles[E],value:this.value()};if(this.options.values&&this.options.values.length){D.value=this.values(E);D.values=this.values()}this._trigger("stop",F,D)},_change:function(F,E){if(!this._keySliding&&!this._mouseSliding){var D={handle:this.handles[E],value:this.value()};if(this.options.values&&this.options.values.length){D.value=this.values(E);D.values=this.values()}D.handle.title=D.value;this._trigger("change",F,D)}},value:function(D){if(arguments.length){this.options.value=this._trimAlignValue(D);this._refreshValue();this._change(null,0);return }return this._value()},values:function(E,H){var G,D,F;if(arguments.length>1){this.options.values[E]=this._trimAlignValue(H);this._refreshValue();this._change(null,E);return }if(arguments.length){if(B.isArray(arguments[0])){G=this.options.values;D=arguments[0];for(F=0;F<G.length;F+=1){G[F]=this._trimAlignValue(D[F]);this._change(null,F)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(E)}else{return this.value()}}}else{return this._values()}},_setOption:function(E,F){var D,G=0;if(B.isArray(this.options.values)){G=this.options.values.length}B.Widget.prototype._setOption.apply(this,arguments);switch(E){case"disabled":if(F){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.prop("disabled",true);this.element.addClass("ui-disabled")}else{this.handles.prop("disabled",false);this.element.removeClass("ui-disabled")}break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(D=0;D<G;D+=1){this._change(null,D)}this._animateOff=false;break;case"min":case"max":this._animateOff=true;this._refreshValue();this._animateOff=false;break}},_value:function(){var D=this.options.value;D=this._trimAlignValue(D);return D},_values:function(D){var G,F,E;if(arguments.length){G=this.options.values[D];G=this._trimAlignValue(G);return G}else{F=this.options.values.slice();for(E=0;E<F.length;E+=1){F[E]=this._trimAlignValue(F[E])}return F}},_trimAlignValue:function(G){if(G<=this._valueMin()){return this._valueMin()}if(G>=this._valueMax()){return this._valueMax()}var D=(this.options.step>0)?this.options.step:1,F=(G-this._valueMin())%D,E=G-F;if(Math.abs(F)*2>=D){E+=(F>0)?D:(-D)}return parseFloat(E.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var I,H,L,J,M,G=this.options.range,F=this.options,K=this,E=(!this._animateOff)?F.animate:false,D={};if(this.options.values&&this.options.values.length){this.handles.each(function(N){H=(K.values(N)-K._valueMin())/(K._valueMax()-K._valueMin())*100;D[K.orientation==="horizontal"?"left":"bottom"]=H+"%";B(this).stop(1,1)[E?"animate":"css"](D,F.animate);if(K.options.range===true){if(K.orientation==="horizontal"){if(N===0){K.range.stop(1,1)[E?"animate":"css"]({left:H+"%"},F.animate)}if(N===1){K.range[E?"animate":"css"]({width:(H-I)+"%"},{queue:false,duration:F.animate})}}else{if(N===0){K.range.stop(1,1)[E?"animate":"css"]({bottom:(H)+"%"},F.animate)}if(N===1){K.range[E?"animate":"css"]({height:(H-I)+"%"},{queue:false,duration:F.animate})}}}I=H})}else{L=this.value();J=this._valueMin();M=this._valueMax();H=(M!==J)?(L-J)/(M-J)*100:0;D[this.orientation==="horizontal"?"left":"bottom"]=H+"%";this.handle.stop(1,1)[E?"animate":"css"](D,F.animate);if(G==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[E?"animate":"css"]({width:H+"%"},F.animate)}if(G==="max"&&this.orientation==="horizontal"){this.range[E?"animate":"css"]({width:(100-H)+"%"},{queue:false,duration:F.animate})}if(G==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[E?"animate":"css"]({height:H+"%"},F.animate)}if(G==="max"&&this.orientation==="vertical"){this.range[E?"animate":"css"]({height:(100-H)+"%"},{queue:false,duration:F.animate})}}}})}(jQuery));
/*
 * jQuery UI Draggable 1.9.2
 * http://jqueryui.com
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 *
 * Depends:
 *  jquery.ui.core.js
 *  jquery.ui.mouse.js
 *  jquery.ui.widget.js
 */
(function(A,B){A.widget("ui.draggable",A.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(C){var D=this.options;if(this.helper||D.disabled||A(C.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(C);if(!this.handle){return false}A(D.iframeFix===true?"iframe":D.iframeFix).each(function(){A('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(A(this).offset()).appendTo("body")});return true},_mouseStart:function(C){var D=this.options;this.helper=this._createHelper(C);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(A.ui.ddmanager){A.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};A.extend(this.offset,{click:{left:C.pageX-this.offset.left,top:C.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(C);this.originalPageX=C.pageX;this.originalPageY=C.pageY;(D.cursorAt&&this._adjustOffsetFromHelper(D.cursorAt));if(D.containment){this._setContainment()}if(this._trigger("start",C)===false){this._clear();return false}this._cacheHelperProportions();if(A.ui.ddmanager&&!D.dropBehaviour){A.ui.ddmanager.prepareOffsets(this,C)}this._mouseDrag(C,true);if(A.ui.ddmanager){A.ui.ddmanager.dragStart(this,C)}return true},_mouseDrag:function(E,G){var D=A.browser.msie;var C=A.browser.version;D=D&&(C.length>3);D=D||A.browser.mozilla;if(D){if(E.buttons!=1){this._mouseUp({});return false}}this.position=this._generatePosition(E);this.positionAbs=this._convertPositionTo("absolute");if(!G){var F=this._uiHash();if(this._trigger("drag",E,F)===false){this._mouseUp({});return false}this.position=F.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}if(A.ui.ddmanager){A.ui.ddmanager.drag(this,E)}return false},_mouseStop:function(E){var G=false;if(A.ui.ddmanager&&!this.options.dropBehaviour){G=A.ui.ddmanager.drop(this,E)}if(this.dropped){G=this.dropped;this.dropped=false}var C=this.element[0],F=false;while(C&&(C=C.parentNode)){if(C==document){F=true}}if(!F&&this.options.helper==="original"){return false}if((this.options.revert=="invalid"&&!G)||(this.options.revert=="valid"&&G)||this.options.revert===true||(A.isFunction(this.options.revert)&&this.options.revert.call(this.element,G))){var D=this;A(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(D._trigger("stop",E)!==false){D._clear()}})}else{if(this._trigger("stop",E)!==false){this._clear()}}return false},_mouseUp:function(C){A("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});if(A.ui.ddmanager){A.ui.ddmanager.dragStop(this,C)}return A.ui.mouse.prototype._mouseUp.call(this,C)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(C){var D=!this.options.handle||!A(this.options.handle,this.element).length?true:false;A(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==C.target){D=true}});return D},_createHelper:function(D){var E=this.options;var C=A.isFunction(E.helper)?A(E.helper.apply(this.element[0],[D])):(E.helper=="clone"?this.element.clone().removeAttr("id"):this.element);if(!C.parents("body").length){C.appendTo((E.appendTo=="parent"?this.element[0].parentNode:E.appendTo))}if(C[0]!=this.element[0]&&!(/(fixed|absolute)/).test(C.css("position"))){C.css("position","absolute")}return C},_adjustOffsetFromHelper:function(C){if(typeof C=="string"){C=C.split(" ")}if(A.isArray(C)){C={left:+C[0],top:+C[1]||0}}if("left" in C){this.offset.click.left=C.left+this.margins.left}if("right" in C){this.offset.click.left=this.helperProportions.width-C.right+this.margins.left}if("top" in C){this.offset.click.top=C.top+this.margins.top}if("bottom" in C){this.offset.click.top=this.helperProportions.height-C.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var C=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&A.contains(this.scrollParent[0],this.offsetParent[0])){C.left+=this.scrollParent.scrollLeft();C.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&A.ui.ie)){C={top:0,left:0}}return{top:C.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:C.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var C=this.element.position();return{top:C.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:C.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var F=this.options;if(F.containment=="parent"){F.containment=this.helper[0].parentNode}if(F.containment=="document"||F.containment=="window"){this.containment=[F.containment=="document"?0:A(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,F.containment=="document"?0:A(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(F.containment=="document"?0:A(window).scrollLeft())+A(F.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(F.containment=="document"?0:A(window).scrollTop())+(A(F.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(F.containment)&&F.containment.constructor!=Array){var G=A(F.containment);var D=G[0];if(!D){return }var E=G.offset();var C=(A(D).css("overflow")!="hidden");this.containment=[(parseInt(A(D).css("borderLeftWidth"),10)||0)+(parseInt(A(D).css("paddingLeft"),10)||0),(parseInt(A(D).css("borderTopWidth"),10)||0)+(parseInt(A(D).css("paddingTop"),10)||0),(C?Math.max(D.scrollWidth,D.offsetWidth):D.offsetWidth)-(parseInt(A(D).css("borderLeftWidth"),10)||0)-(parseInt(A(D).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(C?Math.max(D.scrollHeight,D.offsetHeight):D.offsetHeight)-(parseInt(A(D).css("borderTopWidth"),10)||0)-(parseInt(A(D).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=G}else{if(F.containment.constructor==Array){this.containment=F.containment}}},_convertPositionTo:function(F,H){if(!H){H=this.position}var D=F=="absolute"?1:-1;var E=this.options,C=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&A.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,G=(/(html|body)/i).test(C[0].tagName);return{top:(H.top+this.offset.relative.top*D+this.offset.parent.top*D-((this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(G?0:C.scrollTop()))*D)),left:(H.left+this.offset.relative.left*D+this.offset.parent.left*D-((this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():G?0:C.scrollLeft())*D))}},_generatePosition:function(D){var E=this.options,L=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&A.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,I=(/(html|body)/i).test(L[0].tagName);var H=D.pageX;var G=D.pageY;if(this.originalPosition){var C;if(this.containment){if(this.relative_container){var K=this.relative_container.offset();C=[this.containment[0]+K.left,this.containment[1]+K.top,this.containment[2]+K.left,this.containment[3]+K.top]}else{C=this.containment}if(D.pageX-this.offset.click.left<C[0]){H=C[0]+this.offset.click.left}if(D.pageY-this.offset.click.top<C[1]){G=C[1]+this.offset.click.top}if(D.pageX-this.offset.click.left>C[2]){H=C[2]+this.offset.click.left}if(D.pageY-this.offset.click.top>C[3]){G=C[3]+this.offset.click.top}}if(E.grid){var J=E.grid[1]?this.originalPageY+Math.round((G-this.originalPageY)/E.grid[1])*E.grid[1]:this.originalPageY;G=C?(!(J-this.offset.click.top<C[1]||J-this.offset.click.top>C[3])?J:(!(J-this.offset.click.top<C[1])?J-E.grid[1]:J+E.grid[1])):J;var F=E.grid[0]?this.originalPageX+Math.round((H-this.originalPageX)/E.grid[0])*E.grid[0]:this.originalPageX;H=C?(!(F-this.offset.click.left<C[0]||F-this.offset.click.left>C[2])?F:(!(F-this.offset.click.left<C[0])?F-E.grid[0]:F+E.grid[0])):F}}return{top:(G-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(I?0:L.scrollTop())))),left:(H-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():I?0:L.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(C,D,E){E=E||this._uiHash();A.ui.plugin.call(this,C,[D,E]);if(C=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return A.Widget.prototype._trigger.call(this,C,D,E)},plugins:{},_uiHash:function(C){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});A.ui.plugin.add("draggable","connectToSortable",{start:function(D,F){var E=A(this).data("draggable"),G=E.options,C=A.extend({},F,{item:E.element});E.sortables=[];A(G.connectToSortable).each(function(){var H=A.data(this,"sortable");if(H&&!H.options.disabled){E.sortables.push({instance:H,shouldRevert:H.options.revert});H.refreshPositions();H._trigger("activate",D,C)}})},stop:function(D,F){var E=A(this).data("draggable"),C=A.extend({},F,{item:E.element});A.each(E.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;E.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(D);this.instance.options.helper=this.instance.options._helper;if(E.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",D,C)}})},drag:function(D,G){var F=A(this).data("draggable"),C=this;var E=function(J){var O=this.offset.click.top,N=this.offset.click.left;var H=this.positionAbs.top,L=this.positionAbs.left;var K=J.height,M=J.width;var P=J.top,I=J.left;return A.ui.isOver(H+O,L+N,P,I,K,M)};A.each(F.sortables,function(I){var H=false;var J=this;this.instance.positionAbs=F.positionAbs;this.instance.helperProportions=F.helperProportions;this.instance.offset.click=F.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){H=true;A.each(F.sortables,function(){this.instance.positionAbs=F.positionAbs;this.instance.helperProportions=F.helperProportions;this.instance.offset.click=F.offset.click;if(this!=J&&this.instance._intersectsWith(this.instance.containerCache)&&A.ui.contains(J.instance.element[0],this.instance.element[0])){H=false}return H})}if(H){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=A(C).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return G.helper[0]};D.target=this.instance.currentItem[0];this.instance._mouseCapture(D,true);this.instance._mouseStart(D,true,true);this.instance.offset.click.top=F.offset.click.top;this.instance.offset.click.left=F.offset.click.left;this.instance.offset.parent.left-=F.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=F.offset.parent.top-this.instance.offset.parent.top;F._trigger("toSortable",D);F.dropped=this.instance.element;F.currentItem=F.element;this.instance.fromOutside=F}if(this.instance.currentItem){this.instance._mouseDrag(D)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",D,this.instance._uiHash(this.instance));this.instance._mouseStop(D,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}F._trigger("fromSortable",D);F.dropped=false}}})}});A.ui.plugin.add("draggable","cursor",{start:function(D,E){var C=A("body"),F=A(this).data("draggable").options;if(C.css("cursor")){F._cursor=C.css("cursor")}C.css("cursor",F.cursor)},stop:function(C,D){var E=A(this).data("draggable").options;if(E._cursor){A("body").css("cursor",E._cursor)}}});A.ui.plugin.add("draggable","opacity",{start:function(D,E){var C=A(E.helper),F=A(this).data("draggable").options;if(C.css("opacity")){F._opacity=C.css("opacity")}C.css("opacity",F.opacity)},stop:function(C,D){var E=A(this).data("draggable").options;if(E._opacity){A(D.helper).css("opacity",E._opacity)}}});A.ui.plugin.add("draggable","scroll",{start:function(D,E){var C=A(this).data("draggable");if(C.scrollParent[0]!=document&&C.scrollParent[0].tagName!="HTML"){C.overflowOffset=C.scrollParent.offset()}},drag:function(E,F){var D=A(this).data("draggable"),G=D.options,C=false;if(D.scrollParent[0]!=document&&D.scrollParent[0].tagName!="HTML"){if(!G.axis||G.axis!="x"){if((D.overflowOffset.top+D.scrollParent[0].offsetHeight)-E.pageY<G.scrollSensitivity){D.scrollParent[0].scrollTop=C=D.scrollParent[0].scrollTop+G.scrollSpeed}else{if(E.pageY-D.overflowOffset.top<G.scrollSensitivity){D.scrollParent[0].scrollTop=C=D.scrollParent[0].scrollTop-G.scrollSpeed}}}if(!G.axis||G.axis!="y"){if((D.overflowOffset.left+D.scrollParent[0].offsetWidth)-E.pageX<G.scrollSensitivity){D.scrollParent[0].scrollLeft=C=D.scrollParent[0].scrollLeft+G.scrollSpeed}else{if(E.pageX-D.overflowOffset.left<G.scrollSensitivity){D.scrollParent[0].scrollLeft=C=D.scrollParent[0].scrollLeft-G.scrollSpeed}}}}else{if(!G.axis||G.axis!="x"){if(E.pageY-A(document).scrollTop()<G.scrollSensitivity){C=A(document).scrollTop(A(document).scrollTop()-G.scrollSpeed)}else{if(A(window).height()-(E.pageY-A(document).scrollTop())<G.scrollSensitivity){C=A(document).scrollTop(A(document).scrollTop()+G.scrollSpeed)}}}if(!G.axis||G.axis!="y"){if(E.pageX-A(document).scrollLeft()<G.scrollSensitivity){C=A(document).scrollLeft(A(document).scrollLeft()-G.scrollSpeed)}else{if(A(window).width()-(E.pageX-A(document).scrollLeft())<G.scrollSensitivity){C=A(document).scrollLeft(A(document).scrollLeft()+G.scrollSpeed)}}}}if(C!==false&&A.ui.ddmanager&&!G.dropBehaviour){A.ui.ddmanager.prepareOffsets(D,E)}}});A.ui.plugin.add("draggable","snap",{start:function(D,E){var C=A(this).data("draggable"),F=C.options;C.snapElements=[];A(F.snap.constructor!=String?(F.snap.items||":data(draggable)"):F.snap).each(function(){var H=A(this);var G=H.offset();if(this!=C.element[0]){C.snapElements.push({item:this,width:H.outerWidth(),height:H.outerHeight(),top:G.top,left:G.left})}})},drag:function(O,L){var F=A(this).data("draggable"),M=F.options;var S=M.snapTolerance;var R=L.offset.left,Q=R+F.helperProportions.width,E=L.offset.top,D=E+F.helperProportions.height;for(var P=F.snapElements.length-1;P>=0;P--){var N=F.snapElements[P].left,K=N+F.snapElements[P].width,J=F.snapElements[P].top,U=J+F.snapElements[P].height;if(!((N-S<R&&R<K+S&&J-S<E&&E<U+S)||(N-S<R&&R<K+S&&J-S<D&&D<U+S)||(N-S<Q&&Q<K+S&&J-S<E&&E<U+S)||(N-S<Q&&Q<K+S&&J-S<D&&D<U+S))){if(F.snapElements[P].snapping){(F.options.snap.release&&F.options.snap.release.call(F.element,O,A.extend(F._uiHash(),{snapItem:F.snapElements[P].item})))}F.snapElements[P].snapping=false;continue}if(M.snapMode!="inner"){var C=Math.abs(J-D)<=S;var T=Math.abs(U-E)<=S;var H=Math.abs(N-Q)<=S;var I=Math.abs(K-R)<=S;if(C){L.position.top=F._convertPositionTo("relative",{top:J-F.helperProportions.height,left:0}).top-F.margins.top}if(T){L.position.top=F._convertPositionTo("relative",{top:U,left:0}).top-F.margins.top}if(H){L.position.left=F._convertPositionTo("relative",{top:0,left:N-F.helperProportions.width}).left-F.margins.left}if(I){L.position.left=F._convertPositionTo("relative",{top:0,left:K}).left-F.margins.left}}var G=(C||T||H||I);if(M.snapMode!="outer"){var C=Math.abs(J-E)<=S;var T=Math.abs(U-D)<=S;var H=Math.abs(N-R)<=S;var I=Math.abs(K-Q)<=S;if(C){L.position.top=F._convertPositionTo("relative",{top:J,left:0}).top-F.margins.top}if(T){L.position.top=F._convertPositionTo("relative",{top:U-F.helperProportions.height,left:0}).top-F.margins.top}if(H){L.position.left=F._convertPositionTo("relative",{top:0,left:N}).left-F.margins.left}if(I){L.position.left=F._convertPositionTo("relative",{top:0,left:K-F.helperProportions.width}).left-F.margins.left}}if(!F.snapElements[P].snapping&&(C||T||H||I||G)){(F.options.snap.snap&&F.options.snap.snap.call(F.element,O,A.extend(F._uiHash(),{snapItem:F.snapElements[P].item})))}F.snapElements[P].snapping=(C||T||H||I||G)}}});A.ui.plugin.add("draggable","stack",{start:function(D,E){var G=A(this).data("draggable").options;var F=A.makeArray(A(G.stack)).sort(function(I,H){return(parseInt(A(I).css("zIndex"),10)||0)-(parseInt(A(H).css("zIndex"),10)||0)});if(!F.length){return }var C=parseInt(F[0].style.zIndex)||0;A(F).each(function(H){this.style.zIndex=C+H});this[0].style.zIndex=C+F.length}});A.ui.plugin.add("draggable","zIndex",{start:function(D,E){var C=A(E.helper),F=A(this).data("draggable").options;if(C.css("zIndex")){F._zIndex=C.css("zIndex")}C.css("zIndex",F.zIndex)},stop:function(C,D){var E=A(this).data("draggable").options;if(E._zIndex){A(D.helper).css("zIndex",E._zIndex)}}})})(jQuery);
/*
 * jQuery resize event - v1.1 - 3/14/2010
 * http://benalman.com/projects/jquery-resize-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,H,C){var A=$([]),E=$.resize=$.extend($.resize,{}),I,K="setTimeout",J="resize",D=J+"-special-event",B="delay",F="throttleWindow";E[B]=250;E[F]=true;$.event.special[J]={setup:function(){if(!E[F]&&this[K]){return false}var L=$(this);A=A.add(L);$.data(this,D,{w:L.width(),h:L.height()});if(A.length===1){G()}},teardown:function(){if(!E[F]&&this[K]){return false}var L=$(this);A=A.not(L);L.removeData(D);if(!A.length){clearTimeout(I)}},add:function(L){if(!E[F]&&this[K]){return false}var N;function M(S,O,P){var Q=$(this),R=$.data(this,D);R.w=O!==C?O:Q.width();R.h=P!==C?P:Q.height();N.apply(this,arguments)}if($.isFunction(L)){N=L;return M}else{N=L.handler;L.handler=M}}};function G(){I=H[K](function(){A.each(function(){var N=$(this),M=N.width(),L=N.height(),O=$.data(this,D);if(M!==O.w||L!==O.h){N.trigger(J,[O.w=M,O.h=L])}});G()},E[B])}})(jQuery,this);
function MxtDropDown(A){this.id=Math.floor(Math.random()*100000000);if(A.id!=undefined){this.id=A.id}this.onchange=A.onchange;if(this.onchange==undefined){this.onchange=function(){}}this.disabled=$("#"+this.id).attr("disabled");this.init()}MxtDropDown.prototype.init=function(){try{$("#"+this.id).attrObj("_dropdown",this)}catch(E){}var C=$("#"+this.id+" option");var D="";if(this.disabled=="disabled"||this.disabled=="true"){D="common_button_disable"}var B="";B+="<div id='"+this.id+"_dropdown' class='common_drop_list common_drop_list_dropdown'>";B+="<div id = '"+this.id+"_dropdown_title'class='common_drop_list_title'>";B+="<a href='javascript:void(0)' class='common_drop_list_select common_button common_button_gray "+D+"' style='*margin-top:-1px;'>";B+="<table width='100%' height='100%' cellpadding='0' cellspacing='0' class='ellipsis_table'>";B+="<tbody>";B+="<tr>";B+="<td id = '"+this.id+"_dropdown_text' class='common_drop_list_text'>";B+=C.eq(0).html();B+="</td>";B+="<td class='align_right' width='20'>";B+="<em></em>";B+="</td>";B+="</tr>";B+="</tbody>";B+="</table>";B+="</a>";B+="</div>";B+="<iframe id='"+this.id+"_dropdown_content_iframe' frameborder='0' style='position:absolute; z-index:1000;background:#fff;display:none;'>";B+="</iframe>";B+="<div id='"+this.id+"_dropdown_content' class='common_drop_list_content common_drop_list_content_action' style='position:absolute;z-index:1000;background:#fff;display:none;'>";var A=this;C.each(function(){B+="<a class='text_overflow' tar='"+A.id+"' href='javascript:void(0)' value='";B+=$(this).attr("value");B+="' title='"+$(this).html()+"'>";B+=$(this).html();B+="</a>"});B+="</div>";B+="</div>";$("#"+this.id).after($(B));$("#"+this.id+"_dropdown").width("100%");$("#"+this.id).hide();var A=this;$("#"+this.id+"_dropdown").mouseenter(function(){if(A.disabled=="disabled"||A.disabled=="true"){return }$("#"+A.id+"_dropdown_content").width($(this).width()-2).show();$("#"+A.id+"_dropdown_content_iframe").width($(this).width()).show();var G=$(this).offset().top;var H=$("#"+A.id+"_dropdown_content").height();var F=$("body").height();$("#"+A.id+"_dropdown_content_iframe").height(H+3);if((G+H)>F){$("#"+A.id+"_dropdown_content").height(F-G-$(this).height()).css({overflow:"auto"});$("#"+A.id+"_dropdown_content_iframe").height(F-G-$(this).height())}}).mouseleave(function(){$("#"+A.id+"_dropdown_content").hide();$("#"+A.id+"_dropdown_content_iframe").hide()});$("#"+this.id+"_dropdown_content a").each(function(){var F=$(this).parent().parent().find(".common_drop_list_text");var G=$(this).parent();$(this).click(function(){var J=$(this).attr("title");var H=$(this).attr("value");var I=$(this).attr("tar");J=J.replace(/</g,"&lt;").replace(/>/g,"&gt;");F.html(J);$("#"+I).val(H);G.hide();$("#"+A.id+"_dropdown_content_iframe").hide();A.onchange()})})};MxtDropDown.prototype.setValue=function(F){if(F){$("#"+this.id).val(F);var A="#"+this.id+"_dropdown_content a[value="+F+"]";var B=$(A).parent().parent().find(".common_drop_list_text");var G=$(A).parent();var E=$(A).attr("title");var C=$(A).attr("value");var D=$(A).attr("tar");B.html(E);$("#"+D).val(C);G.hide()}};(function(A){A.fn.dropdown=function(){this.each(function(){var B=this;var D=B.id;var C={};if(D==""){D=Math.floor(Math.random()*100000000);C.id=D;A(B).attr("id",D)}else{C.id=D}new MxtDropDown(C)})};A.dropdown=function(B){if(B&&B.id){return new MxtDropDown(B)}else{return }};A.fn.searchCondition=function(K){K=A.extend({id:Math.floor(Math.random()*100000000),conditionText:A.i18n("searchbox.condition.js"),conditionDateText:A.i18n("searchbox.conditionDateText.js"),conditionSpecText:A.i18n("searchbox.conditionSpecText.js"),onchange:function(){},dialog:null},K);var P={getReturnValue:function(){var U=A("#"+K.id).val();var X;var Z;var f=false;if(K.conditions&&K.conditions.length>0){for(var W=0;W<K.conditions.length;W++){var Y=K.conditions[W];var g=Y.value;var b=Y.id;var V=Y.type;var d=Y.validate?true:false;var e;if(U==g){if(V=="selectPeople"){X=[];X[0]=A("#"+b+"_txt").val();X[1]=A("#"+b).val()}else{if(V=="datemulti"){var c=Y.ifFormat;X=[];X[0]=A("#from_"+b).val();X[1]=A("#to_"+b).val();if(c=="%Y-%m-%d"){var a=/^(\d{4})-(0\d{1}|1[0-2])-(0\d{1}|[12]\d{1}|3[01])$/}else{var a=/^(\d{4})-(0\d{1}|1[0-2])-(0\d{1}|[12]\d{1}|3[01]) (0\d{1}|1\d{1}|2[0-3]):([0-5]\d{1})$/}if((!a.test(X[0])||!a.test(X[1]))&&X[0]!=""&&X[1]!=""){f=true;if(K.dialog){K.dialog.close()}K.dialog=A.alert(K.conditionDateText);return null}if(X[0]!=""&&X[1]!=""&&X[0]>X[1]){K.dialog=A.alert(A.i18n("validate.endDate.early.startDate.js"));return null}}else{if(V=="custom"){X=Y.getValue?Y.getValue(b):A("#"+b).val()}else{X=A("#"+b).val();if(d){e=/[!@#$%^&*()<>]/;if(e.test(X)){f=true;A("#"+b).focus()}}}}}Z=V;break}}}if(f){if(K.dialog){K.dialog.close()}K.dialog=A.alert(K.conditionSpecText);return null}else{return{type:Z,condition:U,value:X}}},clearCondition:function(){A("#"+K.id+"_dropdown_content a").each(function(){var U=A(this).attr("value");if(U==""){A(this).click()}})},setCondition:function(U,Z,Y){var c;var d;var b;for(var W=0;W<K.conditions.length;W++){var X=K.conditions[W];var e=X.value;var a=X.id;var V=X.type;if(a==U){c=e;d=V;b=X;break}}A("#"+K.id+"_dropdown_content a").each(function(){var f=A(this).attr("value");if(f==c){A(this).click()}});if(d=="input"){A("#"+U).val(Z)}else{if(d=="select"){A("#"+U+"_dropdown_content a").each(function(){var f=A(this).attr("value");if(f==Z){A(this).click()}})}else{if(d=="datemulti"){A("#from_"+U).val(Z);A("#to_"+U).val(Y)}else{if(d=="selectPeople"){A("#"+a+"_txt").val(Z);A("#"+a).val(Y)}}}}},hideSearchBox:function(){A("#"+K.id+"_ul").hide()},showSearchBox:function(){A("#"+K.id+"_ul").show()},hideItem:function(X,U){var W;for(var V=0;V<K.conditions.length;V++){if(K.conditions[V].id==X){W=K.conditions[V].value}}A("#"+K.id+"_conditions").find("a[value='"+W+"']").hide();if(U){A("#"+K.id+" option:eq(0)").attr("selected",true);A("#"+K.id+"_dropdown_text").text(K.conditionText);A("#"+K.id+"_ul li").each(function(Y){if(!(Y==0||Y==(A("#"+K.id+"_ul li").size()-1))){if(!A(this).hasClass("hidden")){A(this).addClass("hidden")}}if(Y==(A("#"+K.id+"_ul li").size()-1)){A(this).addClass("margin_l_5")}})}},showItem:function(W){var V;for(var U=0;U<K.conditions.length;U++){if(K.conditions[U].id==W){V=K.conditions[U].value}}A("#"+K.id+"_conditions").find("a[value='"+V+"']").show()}};A(this).append("<ul id='"+K.id+"_ul' class='common_search common_search_condition clearfix' style='_display:inline'><li id='"+K.id+"_conditions' style='width:120px'><select id='"+K.id+"' class='common_drop_down w100b'><option id='"+K.id+"_default' value=''>"+K.conditionText+"</option></select></li></ul>");K.ul=A("#"+K.id+"_ul");K.firstli=A("#"+K.id+"_conditions");K.select=A("#"+K.id);K.inputs=[];K.selects=[];if(K.conditions&&K.conditions.length>0){for(var O=0;O<K.conditions.length;O++){var R=false;var D=K.conditions[O];var S=null;var Q=D.type;var E=D.value;var C=D.text;var L=D.id;var T=D.name;var G=null;var F=D.click;K.select.append(A("<option value='"+E+"'>"+C+"</option>"));var H;if(Q=="selectPeople"){H=A("<li id='"+E+"_container' class='common_search_input condition_text hidden'><input id='"+L+"' name='"+T+"' value='' class='search_input searchInputComp comp' comp=\""+D.comp+"\" type='text'></li>");K.inputs.push(D)}else{if(Q=="input"){if(D.maxLength){var N=" maxlength='"+D.maxLength+"'"}else{var N=""}H=A("<li id='"+E+"_container' class='common_search_input condition_text hidden'><input id='"+L+"' name='"+T+"' value='' class='search_input' style='*margin-top:-1px;' type='text' "+N+"></li>");K.inputs.push(D)}else{if(Q=="datemulti"){var J=D.ifFormat!=undefined?D.ifFormat:"%Y-%m-%d %H:%M";H=A("<li id='"+E+"_container' class='condition_text hidden margin_lr_5'><input id='from_"+L+"' type='text' class='comp input_date' style='width:135px' readonly='readonly'/><span class='padding_lr_5'>-</span><input id='to_"+L+"' type='text' class='comp input_date' style='width:135px' readonly='readonly'/></li>");if(D.dateTime&&D.dateTime==true){R=true}S=L}else{if(Q=="select"){H=A("<li style='width: 100px;' id='"+E+"_container' class='condition_text margin_lr_5 hidden'></li>");var B="";B+="<select id='"+L+"' name='"+T+"' class='w100b common_drop_down'>";if(D.items){for(var M=0;M<D.items.length;M++){var I=D.items[M];B+="<option value='"+I.value+"'>"+I.text+"</option>"}}B+="</select>";K.selects.push(D);G=A(B);if(D.codecfg){G.attr("codecfg",D.codecfg)}H.append(G)}else{if(Q=="custom"){H=A("<li style='width: 120px' id='"+E+"_container' class='common_search_input condition_text hidden'>"+D.customHtml+"</li>")}}}}}if(H){K.ul.append(H);if(F!=undefined){A("#"+L).click(F)}if(G){G.codeoption()}}if(S!=null){A("#from_"+S).calendar({ifFormat:J,showsTime:R,cache:false});A("#to_"+S).calendar({ifFormat:J,showsTime:R})}if(A(".searchInputComp").size()>0){A(".searchInputComp").comp()}}}K.ul.append(A("<li class='margin_l_5 search_btn' ><a class='common_button common_button_gray search_buttonHand' style='*margin-top:2px;' href='javascript:void(0)'><em></em></a></li>"));A(".common_drop_down").dropdown();A(".common_search *").bind("keydown","return",function(U){A(".search_btn").click();return false});A("#"+K.id+"_dropdown_content a").click(function(){var W=A(this).attr("value");A(K.selects).each(function(){var X=A(this).attr("id");A("#"+X+"_dropdown_content a").eq(0).trigger("click")});for(var V=0;V<K.inputs.length;V++){var U=K.inputs[V];A("#"+U.id).attr("value","");if(A("#"+U.id).attr("type")=="hidden"){A("#"+U.id+"_txt").attr("value","")}}A("#from_"+S).val("");A("#to_"+S).val("");A(".condition_text").addClass("hidden");A("#"+W+"_container").removeClass("hidden");if(W!=""){A(".search_btn").eq(0).removeClass("margin_l_5")}else{A(".search_btn").eq(0).addClass("margin_l_5")}}).click(K.onchange);A(".search_btn").click(K.searchHandler);this.p=K;this.g=P;return this};A.searchCondition=function(K){K=A.extend({id:Math.floor(Math.random()*100000000),conditionText:A.i18n("searchbox.condition.js"),conditionDateText:A.i18n("searchbox.conditionDateText.js"),conditionSpecText:A.i18n("searchbox.conditionSpecText.js"),onchange:function(){},top:null,left:null,right:null,bottom:null,dialog:null},K);var R={getReturnValue:function(){var W=A("#"+K.id).val();var Z;var b;var h=false;if(K.conditions&&K.conditions.length>0){for(var Y=0;Y<K.conditions.length;Y++){var a=K.conditions[Y];var j=a.value;var d=a.id;var f=a.validate?true:false;var g;var X=a.type;if(W==j){if(X=="selectPeople"){Z=[];Z[0]=A("#"+d+"_txt").val();Z[1]=A("#"+d).val()}else{if(X=="datemulti"){var e=a.ifFormat;Z=[];Z[0]=A("#from_"+d).val();Z[1]=A("#to_"+d).val();if(e=="%Y-%m-%d"){var c=/^(\d{4})-(0\d{1}|1[0-2])-(0\d{1}|[12]\d{1}|3[01])$/}else{var c=/^(\d{4})-(0\d{1}|1[0-2])-(0\d{1}|[12]\d{1}|3[01]) (0\d{1}|1\d{1}|2[0-3]):([0-5]\d{1})$/}if((!c.test(Z[0])||!c.test(Z[1]))&&Z[0]!=""&&Z[1]!=""){h=true;if(K.dialog){K.dialog.close()}K.dialog=A.alert(K.conditionDateText);return null}if(Z[0]!=""&&Z[1]!=""&&Z[0]>Z[1]){K.dialog=A.alert(A.i18n("validate.endDate.early.startDate.js"));return null}}else{if(X=="custom"||X=="customPanel"){Z=a.getValue?a.getValue(d):A("#"+d).val()}else{Z=A("#"+d).val();if(f){g=/[!@#$%^&*()<>]/;if(g.test(Z)){h=true;A("#"+d).focus()}}}}}b=X;break}}}if(h){if(K.dialog){K.dialog.close()}K.dialog=A.alert(K.conditionSpecText);return null}else{return{type:b,condition:W,value:Z}}},clearCondition:function(){A("#"+K.id+"_dropdown_content a").each(function(){var W=A(this).attr("value");if(W==""){A(this).click()}})},setCondition:function(W,b,a){var e;var f;var d;for(var Y=0;Y<K.conditions.length;Y++){var Z=K.conditions[Y];var g=Z.value;var c=Z.id;var X=Z.type;if(c==W){e=g;f=X;d=Z;break}}A("#"+K.id+"_dropdown_content a").each(function(){var h=A(this).attr("value");if(h==e){A(this).click()}});if(f=="input"){A("#"+W).val(b)}else{if(f=="select"){A("#"+W+"_dropdown_content a").each(function(){var h=A(this).attr("value");if(h==b){A(this).click()}})}else{if(f=="datemulti"){A("#from_"+W).val(b);A("#to_"+W).val(a)}else{if(f=="selectPeople"){A("#"+c+"_txt").val(b);A("#"+c).val(a)}}}}},hideSearchBox:function(){A("#"+K.id+"_ul").hide()},showSearchBox:function(){A("#"+K.id+"_ul").show()},hideItem:function(Z,W){var Y;for(var X=0;X<K.conditions.length;X++){if(K.conditions[X].id==Z){Y=K.conditions[X].value}}A("#"+K.id+"_conditions").find("a[value='"+Y+"']").hide();if(W){A("#"+K.id+" option:eq(0)").attr("selected",true);A("#"+K.id+"_dropdown_text").text(K.conditionText);A("#"+K.id+"_ul li").each(function(a){if(!(a==0||a==(A("#"+K.id+"_ul li").size()-1))){if(!A(this).hasClass("hidden")){A(this).addClass("hidden")}}if(a==(A("#"+K.id+"_ul li").size()-1)){A(this).addClass("margin_l_5")}})}},showItem:function(Y){var X;for(var W=0;W<K.conditions.length;W++){if(K.conditions[W].id==Y){X=K.conditions[W].value}}A("#"+K.id+"_conditions").find("a[value='"+X+"']").show()}};var Q="position: absolute;z-index:900;";if(K.top!=null){Q+="top:"+K.top+"px;"}if(K.left!=null){Q+="left:"+K.left+"px;"}if(K.right!=null){Q+="right:"+K.right+"px;"}if(K.bottom!=null){Q+="bottom:"+K.bottom+"px;"}A("body").prepend("<ul id='"+K.id+"_ul' class='common_search common_search_condition clearfix' style='"+Q+"_display:inline;'><li id='"+K.id+"_conditions' style='width:120px'><select id='"+K.id+"' class='common_drop_down w100b'><option id='"+K.id+"_default' value=''>"+K.conditionText+"</option></select></li></ul>");K.ul=A("#"+K.id+"_ul");K.firstli=A("#"+K.id+"_conditions");K.select=A("#"+K.id);K.inputs=[];K.selects=[];if(K.conditions&&K.conditions.length>0){for(var P=0;P<K.conditions.length;P++){var T=false;var D=K.conditions[P];var S=D.type;var U=null;var E=D.value;var C=D.text;var L=D.id;var V=D.name;var G=null;var F=D.click;var M=D.readonly;K.select.append(A("<option value='"+E+"'>"+C+"</option>"));var H;if(S=="selectPeople"){H=A("<li id='"+E+"_container' class='common_search_input condition_text hidden'><input id='"+L+"' name='"+V+"' value='' class='search_input searchInputComp comp' comp=\""+D.comp+"\" type='text'></li>");K.inputs.push(D)}else{if(S=="input"){if(D.maxLength){var O=" maxlength='"+D.maxLength+"'"}else{var O=""}H=A("<li id='"+E+"_container' class='common_search_input condition_text hidden'><input id='"+L+"' name='"+V+"' value='' class='search_input' style='*margin-top:-1px;' type='text' "+O+"></li>");K.inputs.push(D)}else{if(S=="datemulti"){var J=D.ifFormat!=undefined?D.ifFormat:"%Y-%m-%d %H:%M";H=A("<li id='"+E+"_container' class='condition_text hidden margin_lr_5'><input id='from_"+L+"' type='text' class='comp input_date' style='width:135px' readonly='readonly'/><span class='padding_lr_5'>-</span><input id='to_"+L+"' type='text' class='comp input_date' style='width:135px' readonly='readonly'/></li>");if(D.dateTime&&D.dateTime==true){T=true}U=L}else{if(S=="select"){H=A("<li style='width: 100px;' id='"+E+"_container' class='condition_text margin_lr_5 hidden'></li>");var B="";B+="<select id='"+L+"' name='"+V+"' class='w100b common_drop_down'>";if(D.items){for(var N=0;N<D.items.length;N++){var I=D.items[N];B+="<option value='"+I.value+"'>"+I.text+"</option>"}}B+="</select>";K.selects.push(D);G=A(B);if(D.codecfg){G.attr("codecfg",D.codecfg)}H.append(G)}else{if(S=="custom"){H=A("<li style='width: 120px' id='"+E+"_container' class='common_search_input condition_text hidden'>"+D.customHtml+"</li>")}else{if(S=="customPanel"){H=A("<li style='width: 120px' id='"+E+"_container' class='common_search_input condition_text hidden'><div class='common_txtbox_wrap'><input id='"+L+"_ids' type='hidden'><input id='"+L+"' name='"+V+"' "+(M==undefined?"":M)+" value='' class='search_input' style='*margin-top:-1px;' type='text'></div></li>")}}}}}}if(H){K.ul.append(H);if(F!=undefined){A("#"+L).click(F)}if(G){G.codeoption()}}if(U!=null){A("#from_"+U).calendar({ifFormat:J,showsTime:T,cache:false});A("#to_"+U).calendar({ifFormat:J,showsTime:T})}if(A(".searchInputComp").size()>0){A(".searchInputComp").comp()}if(S=="customPanel"){(function(W){A("#"+W.id).click(function(){var X=A.dialog({id:W.id+"_panel",width:W.panelWidth,height:W.panelHeight,type:"panel",html:W.customHtml,targetId:W.id,shadow:false,panelParam:{show:false,margins:true},buttons:[{id:"wewew",text:"ok",handler:W.customHandler}]});if(W.customLoadHandler!=null){W.customLoadHandler(W.id)}})})(D)}}}K.ul.append(A("<li class='margin_l_5 search_btn' style='*margin-top:-1px;'><a class='common_button common_button_gray search_buttonHand' href='javascript:void(0)'><em></em></a></li>"));A(".common_drop_down").dropdown();A(".common_search *").bind("keydown","return",function(W){A(".search_btn").click();return false});A("#"+K.id+"_dropdown_content a").click(function(){var Y=A(this).attr("value");A(K.selects).each(function(){var Z=A(this).attr("id");A("#"+Z+"_dropdown_content a").eq(0).trigger("click")});for(var X=0;X<K.inputs.length;X++){var W=K.inputs[X];A("#"+W.id).attr("value","");if(A("#"+W.id).attr("type")=="hidden"){A("#"+W.id+"_txt").attr("value","")}}if(U!=null){A("#from_"+U).val("");A("#to_"+U).val("")}A(".condition_text").addClass("hidden");A("#"+Y+"_container").removeClass("hidden");if(Y!=""){A(".search_btn").eq(0).removeClass("margin_l_5")}else{A(".search_btn").eq(0).addClass("margin_l_5")}}).click(K.onchange);A(".search_btn").click(K.searchHandler);this.p=K;this.g=R;return this}})(jQuery);
function StringBuffer(){this._strings_=new Array()}StringBuffer.prototype.append=function(A){if(A){if(A instanceof Array){this._strings_=this._strings_.concat(A)}else{this._strings_[this._strings_.length]=A}}return this};StringBuffer.prototype.reset=function(A){this.clear();this.append(A)};StringBuffer.prototype.clear=function(){this._strings_=new Array()};StringBuffer.prototype.isBlank=function(){return this._strings_.length==0};StringBuffer.prototype.toString=function(A){A=A==null?"":A;if(this._strings_.length==0){return""}return this._strings_.join(A)};String.prototype.getBytesLength=function(){var A=this.match(/[^\x00-\xff]/ig);return this.length+(A==null?0:A.length)};String.prototype.getLimitLength=function(C,F){if(!C||C<0){return this}var A=this.getBytesLength();if(A<=C){return this}F=F==null?"..":F;C=C-F.length;var B=0;var D="";for(var E=0;E<this.length;E++){if(this.charCodeAt(E)>255){B+=2}else{B++}D+=this.charAt(E);if(B>=C){return D+F}}return this};String.prototype.escapeHTML=function(B,A){try{return escapeStringToHTML(this,B,A)}catch(C){}return this};String.prototype.escapeJavascript=function(){return escapeStringToJavascript(this)};String.prototype.escapeSpace=function(){return this.replace(/ /g,"&nbsp;")};String.prototype.escapeSameWidthSpace=function(){return this.replace(/ /g,"&nbsp;&nbsp;")};String.prototype.escapeXML=function(){return this.replace(/\&/g,"&amp;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;")};String.prototype.escapeQuot=function(){return this.replace(/\'/g,"&#039;").replace(/"/g,"&#034;")};String.prototype.startsWith=function(A){return this.indexOf(A)==0};String.prototype.endsWith=function(A){var B=this.indexOf(A);return B>-1&&B==this.length-A.length};String.prototype.trim=function(){var C=this.toCharArray();var A=0;var D=C.length;for(var B=0;B<C.length;B++){var E=C[B];if(E==" "){A++}else{break}}if(A==this.length){return""}for(var B=C.length;B>0;B--){var E=C[B-1];if(E==" "){D--}else{break}}return this.substring(A,D)};String.prototype.toCharArray=function(){var B=[];for(var A=0;A<this.length;A++){B[A]=this.charAt(A)}return B};function ArrayList(){this.instance=new Array()}ArrayList.prototype.size=function(){return this.instance.length};ArrayList.prototype.add=function(A){this.instance[this.instance.length]=A};ArrayList.prototype.addSingle=function(A){if(!this.contains(A)){this.instance[this.instance.length]=A}};ArrayList.prototype.addAt=function(A,B){if(A>=this.size()||A<0||this.isEmpty()){this.add(B);return }this.instance.splice(A,0,B)};ArrayList.prototype.addAll=function(A){if(!A||A.length<1){return }this.instance=this.instance.concat(A)};ArrayList.prototype.addList=function(A){if(A&&A instanceof ArrayList&&!A.isEmpty()){this.instance=this.instance.concat(A.instance)}};ArrayList.prototype.get=function(A){if(this.isEmpty()){return null}if(A>this.size()){return null}return this.instance[A]};ArrayList.prototype.getLast=function(){if(this.size()<1){return null}return this.instance[this.size()-1]};ArrayList.prototype.set=function(B,C){if(B>=this.size()){throw"IndexOutOfBoundException : Index "+B+", Size "+this.size()}var A=this.instance[B];this.instance[B]=C;return A};ArrayList.prototype.removeElementAt=function(A){if(A>this.size()||A<0){return }this.instance.splice(A,1)};ArrayList.prototype.remove=function(B){var A=this.indexOf(B);this.removeElementAt(A)};ArrayList.prototype.contains=function(A,B){return this.indexOf(A,B)>-1};ArrayList.prototype.indexOf=function(C,D){for(var A=0;A<this.size();A++){var B=this.instance[A];if(B==C){return A}else{if(D!=null&&B!=null&&C!=null&&B[D]==C[D]){return A}}}return -1};ArrayList.prototype.lastIndexOf=function(C,D){for(var A=this.size()-1;A>=0;A--){var B=this.instance[A];if(B==C){return A}else{if(D!=null&&B!=null&&C!=null&&B[D]==C[D]){return A}}}return -1};ArrayList.prototype.subList=function(B,D){if(B<0){B=0}if(D>this.size()){D=this.size()}var C=this.instance.slice(B,D);var A=new ArrayList();A.addAll(C);return A};ArrayList.prototype.toArray=function(){return this.instance};ArrayList.prototype.isEmpty=function(){return this.size()==0};ArrayList.prototype.clear=function(){this.instance=new Array()};ArrayList.prototype.toString=function(A){A=A||", ";return this.instance.join(A)};function Properties(A){this.instanceKeys=new ArrayList();this.instance={};if(A){this.instance=A;for(var B in A){this.instanceKeys.add(B)}}}Properties.prototype.size=function(){return this.instanceKeys.size()};Properties.prototype.get=function(B,A){if(B==null){return null}var C=this.instance[B];if(C==null&&A!=null){return A}return C};Properties.prototype.remove=function(A){if(A==null){return null}this.instanceKeys.remove(A);delete this.instance[A]};Properties.prototype.put=function(A,B){if(A==null){return null}if(this.instance[A]==null){this.instanceKeys.add(A)}this.instance[A]=B};Properties.prototype.putRef=function(A,B){if(A==null){return null}this.instanceKeys.add(A);this.instance[A]=B};Properties.prototype.getMultilevel=function(D,B){if(D==null){return null}var C=D.split(".");function A(I,G,F){try{if(I==null||(typeof I!="object")){return null}var J=I.get(G[F]);if(F<G.length-1){J=A(J,G,F+1)}return J}catch(H){}return null}var E=A(this,C,0);return E==null?B:E};Properties.prototype.containsKey=function(A){if(A==null){return false}return this.instance[A]!=null};Properties.prototype.keys=function(){return this.instanceKeys};Properties.prototype.values=function(){var D=new ArrayList();for(var B=0;B<this.instanceKeys.size();B++){var A=this.instanceKeys.get(B);if(A){var C=this.instance[A];D.add(C)}}return D};Properties.prototype.isEmpty=function(){return this.instanceKeys.isEmpty()};Properties.prototype.clear=function(){this.instanceKeys.clear();this.instance={}};Properties.prototype.swap=function(C,B){if(!C||!B||C==B){return }var E=-1;var D=-1;for(var A=0;A<this.instanceKeys.instance.length;A++){if(this.instanceKeys.instance[A]==C){E=A}else{if(this.instanceKeys.instance[A]==B){D=A}}}this.instanceKeys.instance[E]=B;this.instanceKeys.instance[D]=C};Properties.prototype.entrySet=function(){var A=[];for(var C=0;C<this.instanceKeys.size();C++){var B=this.instanceKeys.get(C);var D=this.instance[B];if(!B){continue}var E=new Object();E.key=B;E.value=D;A[A.length]=E}return A};Properties.prototype.toString=function(){var C="";for(var B=0;B<this.instanceKeys.size();B++){var A=this.instanceKeys.get(B);C+=A+"="+this.instance[A]+"\n"}return C};Properties.prototype.toStringTokenizer=function(E,D){E=E==null?";":E;D=D==null?"=":D;var F="";for(var B=0;B<this.instanceKeys.size();B++){var A=this.instanceKeys.get(B);var C=this.instance[A];if(!A){continue}if(B>0){F+=E}F+=A+D+C}return F};Properties.prototype.toQueryString=function(){if(this.size()<1){return""}var D="";for(var B=0;B<this.instanceKeys.size();B++){var A=this.instanceKeys.get(B);var C=this.instance[A];if(!A){continue}if(B>0){D+="&"}if(typeof C=="object"){}else{D+=A+"="+encodeURIat(C)}}return D};
(function(A){A.fn.calendar=function(E){var O={firstDay:0,eventName:"click",ifFormat:"%Y-%m-%d",autoFill:true,align:"Bl",range:[1900,2999],singleClick:true,weekNumbers:false,showsTime:false,timeFormat:"24",electric:true,cache:true,showOthers:false,defer:100,minuteStep:10,isClear:true,isOutShow:false,isJustShowIcon:false};if(E&&E.ifFormat&&E.ifFormat!=O.ifFormat){O.autoFill=false}if(E&&E.minuteStep){O.minuteStep=E.minuteStep}var I=this[0],C=I.tagName.toLowerCase(),J=I.type;if(C=="input"){if(J=="text"){O.inputField=I}else{if(J=="button"){O.button=I}}}else{O.displayArea=I}var Q=A.extend(O,E);if(this.attr("_inited")==1){this.next().remove();this.removeAttr("_icoed")}else{this.attr("_inited",1)}var S=Q.inputField;if(S&&!S._icoed){var M=A(S);var N=-20;if(M.parent().hasClass("common_txtbox_wrap")){N=-14}var K=-1;if(!A.browser.msie){K=1}if(A.browser.msie){if(A.browser.version<8){K=3}}var D=A("<span class='calendar_icon_area'><span class='calendar_icon' style='left:"+N+"px;top:"+K+"px;position: absolute;'></span></span>");if(A.browser.msie){if(A.browser.version<8){D=A("<span class='calendar_icon hand' style='margin-left:-20px;'></span>")}}if(O.isOutShow){if(I.tagName.toLowerCase()=="input"){if(I.type.toLowerCase()=="text"){var B=A(I).parents(".common_txtbox_wrap");if(B.length>0){if((A(I).width()==0||A(I).width()==100)&&A(I).attr("_widthed")!="true"){A(I).width("90%")}}else{A(I).width(A(I).width()-18)}}}D=A("<span class='calendar_icon hand'></span>")}Q.button=D[0];var F=D.find(".calendar_icon");if(F.length>0){Q.button=F[0]}D.css("cursor","hand");D.addClass("_autoBtn");M.after(D);M.attrObj("_rel",D);S._icoed=true;S._autoFill=Q.autoFill}if(O.isJustShowIcon){return false}var P=["inputField","displayArea","button"];for(var L in P){if(typeof Q[P[L]]=="string"){Q[P[L]]=document.getElementById(Q[P[L]])}}if(!(Q.flat||Q.multiple||Q.inputField||Q.displayArea||Q.button)){alert("Calendar.setup:\n  Nothing to setup (no fields found).  Please check your code");return false}function R(U){var T=U.params;var V=(U.dateClicked||T.electric);if(V&&T.inputField){T.inputField.value=U.date.print(T.ifFormat);if(typeof T.inputField.onchange=="function"){T.inputField.onchange()}}if(V&&T.displayArea){T.displayArea.innerHTML=U.date.print(T.daFormat)}if(V&&typeof T.onUpdate=="function"){T.onUpdate(U)}if(V&&T.flat){if(typeof T.flatCallback=="function"){T.flatCallback(U)}}if(V&&T.singleClick&&U.dateClicked){U.callCloseHandler()}if(A(T.inputField).hasClass("validate")){A(T.inputField).focus()}}if(Q.flat!=null){if(typeof Q.flat=="string"){Q.flat=document.getElementById(Q.flat)}if(!Q.flat){alert("Calendar.setup:\n  Flat specified but can't find parent.");return false}var H=new Calendar(Q.firstDay,Q.date,Q.onSelect||R);H.showsOtherMonths=Q.showOthers;H.showsTime=Q.showsTime;H.time24=(Q.timeFormat=="24");H.params=Q;H.weekNumbers=Q.weekNumbers;H.setRange(Q.range[0],Q.range[1]);H.setDateStatusHandler(Q.dateStatusFunc);H.getDateText=Q.dateText;H.setClear(Q.isClear);H.setHeight(Q.height);if(Q.ifFormat){H.setDateFormat(Q.ifFormat)}if(Q.inputField&&typeof Q.inputField.value=="string"){H.parseDate(Q.inputField.value)}H.create(Q.flat);H.show()}var G=Q.button||Q.displayArea||Q.inputField;G["on"+Q.eventName]=function(){var T=Q.inputField||Q.displayArea;var V=Q.inputField?Q.ifFormat:Q.daFormat;var Z=false;var X=window.calendar;if(T){Q.date=Date.parseDate(T.value||T.innerHTML,V)}if(!(X&&Q.cache)){window.calendar=X=new Calendar(Q.firstDay,Q.date,Q.onSelect||R,Q.onClose||function(a){a.hide()});X.showsTime=Q.showsTime;X.time24=(Q.timeFormat=="24");X.weekNumbers=Q.weekNumbers;Z=true}else{if(Q.date){X.setDate(Q.date)}X.hide()}if(Q.multiple){X.multiple={};for(var U=Q.multiple.length;--U>=0;){var Y=Q.multiple[U];var W=Y.print("%Y%m%d");X.multiple[W]=Y}}X.showsOtherMonths=Q.showOthers;X.yearStep=Q.step;X.setRange(Q.range[0],Q.range[1]);X.params=Q;X.setDateStatusHandler(Q.dateStatusFunc);X.getDateText=Q.dateText;X.setClear(Q.isClear);X.setHeight(Q.height);if(X.getDateFormat()!=V){Z=true}X.setDateFormat(V);if(Z){X.create()}X.refresh();if(!Q.position){X.showAtElement(Q.button||Q.displayArea||Q.inputField,Q.align)}else{X.showAt(Q.position[0],Q.position[1])}return false}}})(jQuery);$.calendar=function(F){function I(N,O){if(typeof F[N]=="undefined"){F[N]=O}}I("inputField",null);I("displayArea",null);I("button",null);I("eventName","click");I("ifFormat","%Y-%m-%d");I("daFormat","%Y-%m-%d");I("singleClick",true);I("disableFunc",null);I("dateStatusFunc",F.disableFunc);I("dateTooltipFunc",null);I("dateText",null);I("firstDay",null);I("align","Br");I("range",[1900,2999]);I("weekNumbers",false);I("flat",null);I("flatCallback",null);I("onSelect",null);I("onClose",null);I("onUpdate",null);I("date",null);I("showsTime",false);I("timeFormat","24");I("electric",true);I("step",2);I("position",null);I("cache",false);I("showOthers",false);I("multiple",null);I("returnValue",false);I("autoShow",false);I("dateString",false);I("isClear",true);I("height",null);var G=["inputField","displayArea","button"];for(var H in G){if(typeof F[G[H]]=="string"){F[G[H]]=document.getElementById(F[G[H]])}}if(!(F.flat||F.multiple||F.inputField||F.displayArea||F.button)){alert("Calendar.setup:\n  Nothing to setup (no fields found).  Please check your code");return false}function K(R){var Q=R.params;var S=(R.dateClicked||Q.electric);if(S&&Q.inputField){Q.inputField.value=R.date.print(Q.ifFormat);if(typeof Q.inputField.onchange=="function"){Q.inputField.onchange()}}if(S&&Q.displayArea){if(!Q.returnValue){Q.displayArea.innerHTML=R.date.print(Q.daFormat)}else{Q.displayArea.setAttribute("valueStr",R.date.print(Q.daFormat))}}if(S&&typeof Q.onUpdate=="function"){if(Q.returnValue){var N=R.date;var P=N.getTime();var O=new Date(P);Q.onUpdate(O.print(Q.ifFormat))}else{Q.onUpdate(R)}}if(S&&Q.flat){if(typeof Q.flatCallback=="function"){Q.flatCallback(R)}}if(S&&Q.singleClick&&R.dateClicked){R.callCloseHandler()}}if(F.flat!=null){if(typeof F.flat=="string"){F.flat=document.getElementById(F.flat)}if(!F.flat){alert("Calendar.setup:\n  Flat specified but can't find parent.");return false}var B=new Calendar(F.firstDay,F.date,F.onSelect||K);B.setDateToolTipHandler(F.dateTooltipFunc);B.showsOtherMonths=F.showOthers;B.showsTime=F.showsTime;B.time24=(F.timeFormat=="24");B.params=F;B.weekNumbers=F.weekNumbers;B.setRange(F.range[0],F.range[1]);B.setDateStatusHandler(F.dateStatusFunc);B.getDateText=F.dateText;B.setClear(F.isClear);B.setHeight(F.height);if(F.ifFormat){B.setDateFormat(F.ifFormat)}if(F.inputField&&typeof F.inputField.value=="string"){B.parseDate(F.inputField.value)}B.create(F.flat);B.show();return B}if(F.autoShow){var E=F.inputField||F.displayArea;var L=F.inputField?F.ifFormat:F.daFormat;var D=false;var B=window.calendar;if(E){var A=E.value||F.dateString||E.innerHTML;F.date=Date.parseDate(A,L)}if(!(B&&F.cache)){window.calendar=B=new Calendar(F.firstDay,F.date,F.onSelect||K,F.onClose||function(N){N.hide()});B.setDateToolTipHandler(F.dateTooltipFunc);B.showsTime=F.showsTime;B.time24=(F.timeFormat=="24");B.weekNumbers=F.weekNumbers;D=true}else{if(F.date){B.setDate(F.date)}B.hide()}if(F.multiple){B.multiple={};for(var H=F.multiple.length;--H>=0;){var J=F.multiple[H];var C=J.print("%Y%m%d");B.multiple[C]=J}}B.showsOtherMonths=F.showOthers;B.yearStep=F.step;B.setRange(F.range[0],F.range[1]);B.params=F;B.setDateStatusHandler(F.dateStatusFunc);B.getDateText=F.dateText;B.setDateFormat(L);B.setClear(F.isClear);B.setHeight(F.height);if(D){B.create()}B.refresh();if(!F.position){B.showAtElement(F.button||F.displayArea||F.inputField,F.align)}else{B.showAt(F.position[0],F.position[1])}return B}else{var M=F.button||F.displayArea||F.inputField;M["on"+F.eventName]=function(){var O=F.inputField||F.displayArea;var Q=F.inputField?F.ifFormat:F.daFormat;var U=false;var S=window.calendar;if(O){var N=O.value||O.innerHTML;F.date=Date.parseDate(N,Q)}if(!(S&&F.cache)){window.calendar=S=new Calendar(F.firstDay,F.date,F.onSelect||K,F.onClose||function(V){V.hide()});S.setDateToolTipHandler(F.dateTooltipFunc);S.showsTime=F.showsTime;S.time24=(F.timeFormat=="24");S.weekNumbers=F.weekNumbers;U=true}else{if(F.date){S.setDate(F.date)}S.hide()}if(F.multiple){S.multiple={};for(var P=F.multiple.length;--P>=0;){var T=F.multiple[P];var R=T.print("%Y%m%d");S.multiple[R]=T}}S.showsOtherMonths=F.showOthers;S.yearStep=F.step;S.setRange(F.range[0],F.range[1]);S.params=F;S.setDateStatusHandler(F.dateStatusFunc);S.getDateText=F.dateText;S.setDateFormat(Q);S.setClear(F.isClear);S.setHeight(F.height);if(U){S.create()}S.refresh();if(!F.position){S.showAtElement(F.button||F.displayArea||F.inputField,F.align)}else{S.showAt(F.position[0],F.position[1])}return false}}return B};
jQuery.extend({portalChannel:function(A){var C=false;B(A);return C;function B(H){var G=$(H).width()-1;$(H).width(G);var F=[];var E=0;$(H).find(".hasIconSpan").each(function(){var I=$(this).width()*1;if(I>60){I=60}if($(this).parent().find(".ico16").size()>0){I+=16}F.push(I)});F.sort(function(J,I){return J<I?1:-1});E=F[0];$(H).find(".senderflag").width(E);$(H).find(".hasIconSpan").each(function(){var I=$(this).parent().width();if($(this).parent().find(".ico16").size()>0){I-=16}$(this).width(I)});var D=[];$(H).find(".pendingNodeName").each(function(){var I=$(this).width()*1;if(I>55){I=55}D.push(I)});D.sort(function(J,I){return J<I?1:-1});$(H).find(".pendingNodeName").width(D[0]);$(H).find("li").each(function(){var N=$(this);var L=N.find(".channel_title");var P=0;var Q=0;N.find(".flagClass").each(function(){var S=4;Q+=$(this).outerWidth()+S});var R=13;P=G-Q-R;var M=0;L.find(".ico16").each(function(){var S=$(this).css("margin-left").replace("px","")*1+$(this).css("margin-right").replace("px","")*1;M+=$(this).width()+S});var K=0;if(P<80){K=G+(80-P);P=80}L.width(P);var J=L.find("a");var I=J.width();if(I>P-M){var O=P-M;J.width(O-5)}if(K>G){$("#leftListDiv").css("width",K);$("#rightListDiv").css("width",K);C=true}})}}});
(function(){var fieldTypeValue={string:"string",number:"number",email:"email",telephone:"telephone",mobilePhone:"mobilePhone","0":"0","1":"1","2":"2","3":"3","4":"4","5":"5","8":"0","9":"0","6":"6"};var fieldType="type";var fieldName="name";var maxValue="maxValue";var minValue="minValue";var minLength="minLength";var maxLength="maxLength";var china3char="china3char";var notNull="notNull";var dotNumber="dotNumber";var fieldDiaplayName="displayName";var fieldLen="fieldLen";var nullable="nullable";var isNumber="isNumber";var integerDigits="integerDigits";var decimalDigits="decimalDigits";var isEmail="isEmail";var notNullWithoutTrim="notNullWithoutTrim";var isInteger="isInteger";var max="max";var min="min";var maxEqual="maxEqual";var minEqual="minEqual";var isWord="isWord";var character="avoidChar";var isDeaultValue="isDeaultValue";var deaultValue="deaultValue";var regExp="regExp";var errorMsg="errorMsg";var func="func";$.fn.resetValidate=function(options){var errorClassName="error-form";this.find("."+errorClassName).removeClass(errorClassName).each(function(i,e){var prt=$(e);var es=prt.data("errorIcon");if(es){prt.removeClass("error-form").next().remove();prt.removeAttr("title");prt.removeData("errorIcon");prt.find("input").unbind("propertychange");prt.css({width:($(this).width()+20)+"px"})}})};function checkValue(obj,options,errorArray){var resultTemp=obj;var resultTempPar=resultTemp.parent();curCheckObj=checkInput(resultTemp,options.checkNull);if(curCheckObj.errorArray){var len=curCheckObj.errorArray.length;if(len>0){showError(resultTempPar,curCheckObj,options,resultTemp);if(!resultTempPar.hasClass("error-form")){if(resultTemp.hasClass("comp")){resultTemp.focus(function(){checkval($(this),options)})}}if($.browser.msie){resultTemp.bind("propertychange",function(e){if(e.originalEvent&&e.originalEvent.propertyName=="value"){checkval($(this),options)}})}else{resultTemp.bind("input",function(){checkval($(this),options)})}errorArray.push(curCheckObj.errorArray.join("\r\n"))}}}function MxtCheckForm(form,options){if(typeof form==="string"){form=$("#"+form)}else{form=$(form)}var errorArray=[],curCheckObj=null;var result=[];var focusObj=null;if(options&&options.validateHidden){$(".validate",form).add(form).each(function(){if(!this.disabled&&$(this).attr("validate")){result.push($(this))}})}else{$(".validate",form).add(form).each(function(){if(!this.disabled&&$(this).is(":visible")&&$(this).attr("validate")){result.push($(this))}})}for(var i=0;i<result.length;i++){if(i==0){focusObj=result[0]}checkValue(result[i],options,errorArray);result[i]=null}form=null;if(focusObj!=null){var tempId=focusObj.attr("id");if(tempId!=null){if(!/^field\d{0,5}/.test(tempId)){focusObj.focus()}}else{focusObj.focus()}}if(errorArray.length>0){var errorAlert=options.errorAlert;if(errorAlert){if(top.$("#checkformError").length<=0){$.alert({id:"checkformError",msg:errorArray.join("<br/>")})}}return false}else{return true}}function MxtCheckInput(input){var options={errorIcon:true};if(input==null){return true}var errorArray=[];checkValue(input,options,errorArray);var result=true;if(curCheckObj.errorArray&&curCheckObj.errorArray.length>0){result=false}input=null;return result}function MxtCheckMsg(msg,context){if(msg==null){return }context=context||document.body;if(typeof context==="string"){context=$("#"+context)}else{context=$(context)}for(var elemSelector in msg){addCheckMsg($(elemSelector,context),msg[elemSelector])}context=null}window.MxtCheckForm=MxtCheckForm;window.MxtCheckInput=MxtCheckInput;window.MxtCheckMsg=MxtCheckMsg;window.RemoveCheckMsg=checkval;function checkInput(input,checkIsNull){if(input==null){return{}}var checkObj=getCheckObj(input);if(checkObj!=null){if(checkObj.errorArray==null){checkObj.errorArray=[]}checkObj.checkNull=checkIsNull;if(checkIsNull){checkNotNull(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkNotNullWithourTrim(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}}checkIsNumber(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkIsEmail(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkIsWord(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkIsDefaultValue(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkIsTelephone(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkIsMobilePhone(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkIsDate(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkIsDateTime(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkIsDateTimes(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkIsShorterThanMax(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkIsLongerThanMin(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkCustomRegExp(checkObj);if(checkObj.errorArray.length>0){input=null;return checkObj}checkCustomFunc(checkObj,input);if(checkObj.errorArray.length>0){input=null;return checkObj}}input=null;return checkObj}function checkval(obj,options){if(options==null){var settings={errorIcon:true,errorAlert:false,errorBg:false,validateHidden:false,checkNull:true};options=$.extend(settings,options)}var temp=checkInput(obj,true);var prt=obj.parent();if(!temp.errorArray||(temp.errorArray&&temp.errorArray.length===0)){prt.removeClass("error-form");prt.removeAttr("title");if(prt.data("errorIcon")){prt.removeData("errorIcon");prt.next().remove();if(options.errorIcon){prt.css({width:(prt.width()+20)+"px"});if(obj.hasClass("comp")){obj.width("100%")}}}if(prt.data("errorBg")){prt.removeData("errorBg");prt.css("background","#fff");if(obj&&!(temp[notNull]||temp[nullable])){$(obj).css("background","#fff")}}}else{showError(prt,temp,options,obj)}}function showError(par,obj,options,objDom){if(options){var _w=par.width();if(options.errorIcon){par.addClass("error-form").css({"float":"left"}).attr("title",obj.errorArray.join(""));var es=par.data("errorIcon");if(!es){es=$("<span class='error-title'></span>");par.data("errorIcon",es);par.after(es);par.css({width:(_w-20)+"px"})}es.attr("title",obj.errorArray.join(""))}if(options.errorBg){var bg=par.data("errorBg");if(!bg){par.css("background","#FCDD8B");if(objDom){$(objDom).css("background","#FCDD8B")}par.data("errorBg",true)}}}else{}}function addCheckMsg(elem,msg){if(elem==null){return }if(typeof msg=="string"){try{msg=eval("({"+msg+"})")}catch(e){return }}var checkObj=getCheckObj(elem);$.extend(checkObj,msg);elem=null}function getCheckObj(input){if(input==null){return{}}if(input.data("checkObj")){var checkObj=input.data("checkObj");checkObj.errorArray=null;checkObj.value=input.val();return input.data("checkObj")}var checkObj=null,validate=null;input=$(input);validate=input.attr("validate");if(validate==null||$.trim(validate)==""){return{}}else{try{checkObj=eval("({"+validate+"})")}catch(e){checkObj={};var errorMessage=input.attr("name")+$.i18n("validate.notJson.js");addErrorMessage(checkObj,errorMessage,true);input=null;return checkObj}}if(checkObj.name==null){var tempName=checkObj[fieldName]||checkObj[fieldDiaplayName]||input.attr("name");if(tempName){checkObj.name=tempName}else{var errorMessage=$.i18n("validate.notName.js");addErrorMessage(checkObj,errorMessage,true);input=null;return checkObj}}checkObj.value=input.val();input.data("checkObj",checkObj);input=null;return checkObj}function checkNotNull(obj){if(obj==null){return true}if(obj[notNull]||obj[nullable]){if(isNull(obj.value)){addErrorMessage(obj,obj.name+$.i18n("validate.notNull.js"),true);return false}}return true}function checkNotNullWithourTrim(obj){if(obj==null){return true}if(obj[notNullWithoutTrim]){if(isNull(obj.value,true)){addErrorMessage(obj,obj.name+$.i18n("validate.notNull.js"),true);return false}}return true}function checkIsNumber(obj){if(obj==null){return true}if(isNull(obj.value)){return true}var isNumberFlag=false,isIntegerFlag=false;if(obj[isNumber]||(obj[fieldType]==fieldTypeValue.number)||(obj[fieldType]==fieldTypeValue["1"])||(obj[fieldType]==fieldTypeValue["2"])){isNumberFlag=true;if(isNull(obj.value)){return true}if(!isANumber(obj.value)){addErrorMessage(obj,obj.name+$.i18n("validate.notNumber.js"));return false}var value=""+$.trim(obj.value);var dotIndex=value.indexOf("."),intdigits=obj[integerDigits],decDigits=obj[decimalDigits];if(decDigits==null){decDigits=obj[dotNumber]}if(intdigits!=null&&isANumber(intdigits)){var intbits=dotIndex>-1?dotIndex:value.length;if(intbits>parseInt(intdigits)){addErrorMessage(obj,obj.name+$.i18n("validate.integerDigits.js",intdigits));return false}}if(decDigits!=null&&isANumber(decDigits)){var decbits=dotIndex>-1?(value.length-1-dotIndex):0;if(decbits>parseInt(decDigits)){addErrorMessage(obj,obj.name+$.i18n("validate.decimalDigits.js",decDigits));return false}}}if(obj[isInteger]){isIntegerFlag=true;if(isNull(obj.value)){return true}if(!isANumber(obj.value)){addErrorMessage(obj,obj.name+$.i18n("validate.integer.js"));return false}var value=""+obj.value;if(value.indexOf(".")>-1){addErrorMessage(obj,obj.name+$.i18n("validate.integer.decimal.js"));return false}}if(isNumberFlag||isIntegerFlag){if(!checkIsLessThanMax(obj)){return false}if(!checkIsBiggerThanMin(obj)){return false}}return true}function checkIsEmail(obj){if(obj==null){return true}if(isNull(obj.value)){return true}if(obj[isEmail]||(obj[fieldType]=="email")){var str=obj.value;if(isNull(str)){return true}else{var result=true;if(str.indexOf("@")==-1){result=false}else{if(str.indexOf("@")==0){result=false}else{if((str.length-str.indexOf("@"))<5){result=false}else{if(str.indexOf(".")==-1){result=false}else{if((str.length-str.indexOf("."))<3){result=false}}}}}if(!result){addErrorMessage(obj,obj.name+$.i18n("validate.email.js"))}return result}}return true}function checkIsWord(obj){if(obj==null){return true}if(isNull(obj.value)){return true}if(obj[isWord]||(obj[fieldType]==fieldTypeValue.string)||(obj[fieldType]==fieldTypeValue["0"])||(obj[fieldType]==fieldTypeValue["8"])||(obj[fieldType]==fieldTypeValue["9"])){if(typeof obj.value!="string"){return false}if(obj[character]&&typeof obj[character]=="string"){var value=""+obj.value,chars=obj[character];for(var i=0,len=chars.length;i<len;i++){if(value.indexOf(chars.charAt(i))>-1){addErrorMessage(obj,obj.name+$.i18n("validate.specialhave.js")+obj[character]+"!");return false}}}}return true}function checkIsDefaultValue(obj){if(obj==null){return false}if(isNull(obj.value)){return false}if(obj[isDeaultValue]&&obj[deaultValue]){if($.trim(obj.value)==obj[deaultValue]){addErrorMessage(obj,obj.name+$.i18n("validate.notDefault.js")+"("+obj[deaultValue]+")!");return true}}return false}var telReg=/^\d[-_0-9]{5,}\d$/;function checkIsTelephone(obj){if(obj==null){return true}if(isNull(obj.value)){return true}if(obj[fieldType]=="telephone"){var value=""+obj.value;if(telReg.test(value)!=true){addErrorMessage(obj,obj.name+$.i18n("validate.phoneNumber.js"));return false}}return true}var mobileReg=/\d{11,}/;function checkIsMobilePhone(obj){if(obj==null){return true}if(isNull(obj.value)){return true}if(obj[fieldType]=="mobilePhone"){var value=""+obj.value;if(mobileReg.test(value)!=true){addErrorMessage(obj,obj.name+$.i18n("validate.mobileNumber.js"));return false}}return true}var dateReg=/^((((1[6-9]|[2-9]\d)\d{2})-(0?[13578]|1[02])-(0?[1-9]|[12]\d|3[01]))|(((1[6-9]|[2-9]\d)\d{2})-(0?[13456789]|1[012])-(0?[1-9]|[12]\d|30))|(((1[6-9]|[2-9]\d)\d{2})-0?2-(0?[1-9]|1\d|2[0-8]))|(((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))-0?2-29))$/;function checkIsDate(obj){if(obj==null){return true}if(isNull(obj.value)){return true}if(obj[fieldType]==3){var value=""+obj.value;if(dateReg.test(value)!=true){addErrorMessage(obj,obj.name+$.i18n("validate.yyyy.MM.dd.js"));return false}}return true}var datetimeReg=/^((((1[6-9]|[2-9]\d)\d{2})-(0?[13578]|1[02])-(0?[1-9]|[12]\d|3[01]))|(((1[6-9]|[2-9]\d)\d{2})-(0?[13456789]|1[012])-(0?[1-9]|[12]\d|30))|(((1[6-9]|[2-9]\d)\d{2})-0?2-(0?[1-9]|1\d|2[0-8]))|(((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))-0?2-29)) (20|21|22|23|[0-1]?\d):[0-5]?\d:[0-5]?\d$/;function checkIsDateTime(obj){if(obj==null){return true}if(isNull(obj.value)){return true}if(obj[fieldType]==4){var value=""+obj.value;if(datetimeReg.test(value)!=true){addErrorMessage(obj,obj.name+$.i18n("validate.yyyy.MM.dd.hh.mm.ss.js"));return false}}return true}var datetimeRegs=/^((((1[6-9]|[2-9]\d)\d{2})-(0?[13578]|1[02])-(0?[1-9]|[12]\d|3[01]))|(((1[6-9]|[2-9]\d)\d{2})-(0?[13456789]|1[012])-(0?[1-9]|[12]\d|30))|(((1[6-9]|[2-9]\d)\d{2})-0?2-(0?[1-9]|1\d|2[0-8]))|(((1[6-9]|[2-9]\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))-0?2-29)) (20|21|22|23|[0-1]?\d):[0-5]?\d$/;function checkIsDateTimes(obj){if(obj==null){return true}if(isNull(obj.value)){return true}if(obj[fieldType]==5){var value=""+obj.value;if(datetimeRegs.test(value)!=true){addErrorMessage(obj,obj.name+$.i18n("validate.yyyy.MM.dd.hh.mm.ss.js"));return false}}return true}function checkIsShorterThanMax(obj){if(obj==null){return true}if(isNull(obj.value)){return true}if(obj[maxLength]!=null){if(isANumber(obj[maxLength])){if(obj[isNumber]||(obj[fieldType]==fieldTypeValue.number)||(obj[fieldType]==fieldTypeValue["1"])||(obj[fieldType]==fieldTypeValue["2"])){if(obj.value.length>0){obj.value=obj.value.replace(/\./,"")}if(longerThanSecond(obj.value,obj[maxLength])){addErrorMessage(obj,obj.name+$.i18n("validate.maxLength.js",obj[maxLength]));return false}}else{if(obj[china3char]==true){if(longerThanSecondChina(obj.value,obj[maxLength])){addErrorMessage(obj,obj.name+$.i18n("validate.maxLengthChina.js",obj[maxLength]));return false}}else{if(longerThanSecond(obj.value,obj[maxLength])){addErrorMessage(obj,obj.name+$.i18n("validate.maxLength.js",obj[maxLength]));return false}}}}else{addErrorMessage(obj,obj.name+$.i18n("validate.maxLength.notNumber.js"));return false}}return true}function checkIsLongerThanMin(obj){if(obj==null){return true}if(isNull(obj.value)){return true}if(obj[minLength]!=null){if(isANumber(obj[minLength])){if(shorterThanSecond(obj.value,obj[minLength])){addErrorMessage(obj,obj.name+$.i18n("validate.minLength.js")+obj[minLength]+"!");return false}}else{addErrorMessage(obj,obj.name+$.i18n("validate.minLength.notNumber.js"));return false}}return true}function checkIsLessThanMax(obj){if(obj==null){return true}if(isNull(obj.value)){return true}var tempMax=obj[max];if(tempMax==null){tempMax=obj[maxValue]}if(tempMax!=null&&isANumber(tempMax)){value=parseFloat(obj.value);if(obj[maxEqual]==false){if(tempMax<=value){addErrorMessage(obj,obj.name+$.i18n("validate.mustLittle.js")+tempMax+"!");return false}}else{if(tempMax<value){addErrorMessage(obj,obj.name+$.i18n("validate.mustLittleOrEqual.js")+tempMax+"!");return false}}}return true}function checkIsBiggerThanMin(obj){if(obj==null){return true}if(isNull(obj.value)){return true}var tempMin=obj[min];if(tempMin==null){tempMin=obj[minValue]}if(tempMin!=null&&isANumber(tempMin)){value=parseFloat(obj.value);if(obj[minEqual]==false){if(tempMin>=value){addErrorMessage(obj,obj.name+$.i18n("validate.mustBigger.js")+tempMin+"!");return false}}else{if(tempMin>value){addErrorMessage(obj,obj.name+$.i18n("validate.mustBiggerOrEqual.js")+tempMin+"!");return false}}}return true}function checkCustomRegExp(obj){if(obj==null){return true}if(isNull(obj.value)){return true}var customRegExp=obj[regExp];if(customRegExp!=null){if(!new RegExp(customRegExp).test(obj.value)){addErrorMessage(obj,obj.name+$.i18n("validate.notMatch.js"));return false}}return true}function checkCustomFunc(obj,input){if(obj==null||input==null){input=null;return true}if(typeof obj[func]=="function"){var result=obj[func](input,obj);if(result==null||result==false){addErrorMessage(obj,obj.name+$.i18n("validate.notMatch.js"))}}input=null;return true}function isNull(value,notTrim){if(value==null){return true}else{if(typeof (value)=="string"){value=notTrim==true?$.trim(value):value;if(value==""){return true}}}return false}function isANumber(value){if(typeof value=="string"){value=value}return/^[-+]?\d*([\.]\d+)?$/.test(value)}function longerThanSecond(first,second){if(first!=null&&second!=null&&isANumber(second)){second=parseFloat(second);if(first.length>second){return true}}return false}function longerThanSecondChina(first,second){if(first!=null&&second!=null&&isANumber(second)){second=parseFloat(second);if(getLength(first)>second){return true}}return false}function shorterThanSecond(first,second){if(first!=null&&second!=null&&isANumber(second)){second=parseFloat(second);if(first.length<second){return true}}return false}function getLength(value){if(value==null){return 0}else{if(value==""){return 1}else{var result=0;for(var i=0,len=value.length;i<len;i++){var ch=value.charCodeAt(i);if(ch<256){result++}else{result+=3}}return result}}}function addErrorMessage(obj,errMsg,useSystem){if(obj){if(obj.errorArray==null){obj.errorArray=[]}var customErrorMsg=obj[errorMsg];if(useSystem!=true&&customErrorMsg){obj.errorArray.push(customErrorMsg)}else{obj.errorArray.push(errMsg)}}}$.fn.validate=function(options){var settings={errorIcon:true,errorAlert:false,errorBg:false,validateHidden:false,checkNull:true};options=$.extend(settings,options);return MxtCheckForm(this,options)};$.fn.validateChange=function(obj){var tempElem=this;if(tempElem!=null&&tempElem.size()>0){addCheckMsg(tempElem,obj)}tempElem=null};var invalid=[];$._invalidObj=function(obj){if(obj){invalid.push(obj)}invalid.contains(obj)};$._isInValid=function(obj){if(invalid.contains){return invalid.contains(obj)}return null};$.isNull=isNull;$.isANumber=isANumber})();
/*
 * Evol.ColorPicker 2.1
 *
 * Copyright (c) 2013, Olivier Giulieri 
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
(function(K,G){var B=0,E=!K.support.cssFloat,N=E?"-ie":"",M=E?false:/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase()),L=[],A=["ffffff","000000","eeece1","1f497d","4f81bd","c0504d","9bbb59","8064a2","4bacc6","f79646"],I=["f2f2f2","7f7f7f","ddd9c3","c6d9f0","dbe5f1","f2dcdb","ebf1dd","e5e0ec","dbeef3","fdeada","d8d8d8","595959","c4bd97","8db3e2","b8cce4","e5b9b7","d7e3bc","ccc1d9","b7dde8","fbd5b5","bfbfbf","3f3f3f","938953","548dd4","95b3d7","d99694","c3d69b","b2a2c7","92cddc","fac08f","a5a5a5","262626","494429","17365d","366092","953734","76923c","5f497a","31859b","e36c09","7f7f7f","0c0c0c","1d1b10","0f243e","244061","632423","4f6128","3f3151","205867","974806"],F=["c00000","ff0000","ffc000","ffff00","92d050","00b050","00b0f0","0070c0","002060","7030a0"],D=[["003366","336699","3366cc","003399","000099","0000cc","000066"],["006666","006699","0099cc","0066cc","0033cc","0000ff","3333ff","333399"],["669999","009999","33cccc","00ccff","0099ff","0066ff","3366ff","3333cc","666699"],["339966","00cc99","00ffcc","00ffff","33ccff","3399ff","6699ff","6666ff","6600ff","6600cc"],["339933","00cc66","00ff99","66ffcc","66ffff","66ccff","99ccff","9999ff","9966ff","9933ff","9900ff"],["006600","00cc00","00ff00","66ff99","99ffcc","ccffff","ccccff","cc99ff","cc66ff","cc33ff","cc00ff","9900cc"],["003300","009933","33cc33","66ff66","99ff99","ccffcc","ffffff","ffccff","ff99ff","ff66ff","ff00ff","cc00cc","660066"],["333300","009900","66ff33","99ff66","ccff99","ffffcc","ffcccc","ff99cc","ff66cc","ff33cc","cc0099","993399"],["336600","669900","99ff33","ccff66","ffff99","ffcc99","ff9999","ff6699","ff3399","cc3399","990099"],["666633","99cc00","ccff33","ffff66","ffcc66","ff9966","ff6666","ff0066","d60094","993366"],["a58800","cccc00","ffff00","ffcc00","ff9933","ff6600","ff0033","cc0066","660033"],["996633","cc9900","ff9900","cc6600","ff3300","ff0000","cc0000","990033"],["663300","996600","cc3300","993300","990000","800000","993333"]],O=function(P){var Q=P.toString(16);if(Q.length==1){Q="0"+Q}return Q},J=function(P){return O(Number(P))},H=function(P){var Q=O(P);return Q+Q+Q},C=function(S){if(S.length>10){var R=1+S.indexOf("("),Q=S.indexOf(")"),P=S.substring(R,Q).split(",");return["#",J(P[0]),J(P[1]),J(P[2])].join("")}else{return S}};K.widget("evol.colorpicker",{version:"2.1",options:{color:null,showOn:"both",displayIndicator:true,history:true,position:"absolute",strings:K.i18n("colorsPicker.Theme.js")+","+K.i18n("colorsPicker.Standard.js")+","+K.i18n("colorsPicker.More.js")+","+K.i18n("colorsPicker.Less.js")+","+K.i18n("colorsPicker.Palette.js")+","+K.i18n("colorsPicker.History.js")+","+K.i18n("colorsPicker.NoHistory.js")},_create:function(){this._paletteIdx=1;this._id="evo-cp"+B++;this._enabled=true;var T=this;switch(this.element.get(0).tagName){case"INPUT":var R=this.options.color,U=this.element;this._isPopup=true;this._palette=null;if(R!=null){U.val(R)}else{var Q=U.val();if(Q!=""){R=this.options.color=Q}}if(this.options.position=="absolute"){U.addClass("colorPicker "+this._id).wrap('<div style="width:'+(this.element.width()+32)+"px;"+(E?"margin-bottom:-21px;":"")+(M?"padding:1px 0;":"")+'"></div>').after('<div class="evo-colorind'+(M?"-ff":N)+'" '+(R!=null?'style="background-color:'+R+'"':"")+"></div>").on("keyup onpaste",function(V){var W=K(this).val();if(W!=T.options.color){T._setValue(W,true)}})}else{var S=this.element.width();U.width(S-35).addClass("left colorPicker "+this._id).wrap('<div style="width:'+(S)+"px;"+(M?"padding:1px 0;":"")+'"></div>').after('<div class="evo-colorind'+(M?"-ff":N)+'" '+(R!=null?'style="background-color:'+R+'"':"")+' style="float:left;position: static;"></div>').on("keyup onpaste",function(V){var W=K(this).val();if(W!=T.options.color){T._setValue(W,true)}})}var P=this.options.showOn;if(P=="both"||P=="focus"){U.on("focus",function(){T.showPalette()})}if(P=="both"||P=="button"){U.next().on("click",function(V){V.stopPropagation();T.showPalette()})}break;default:this._isPopup=false;this._palette=this.element.html(this._paletteHTML()).attr("aria-haspopup","true");this._bindColors()}if(R!=null&&this.options.history){this._add2History(R)}},_paletteHTML:function(R){var Q=R;if(R==null){Q=[]}var U;if(Q.left!=null){U="left:"+Q.left+"px;"}var W;if(Q.top!=null){W="top:"+(parseInt(Q.top)-2)+"px;"}var S=[],P=this._paletteIdx=Math.abs(this._paletteIdx),T=this.options,V=T.strings.split(",");S.push('<div class="evo-pop',N,' ui-widget ui-widget-content ui-corner-all"',this._isPopup?' style="position:'+T.position+";"+U+W+'"':"",">");S.push("<span>",this["_paletteHTML"+P](),"</span>");S.push('<div class="evo-more"><a href="javascript:void(0)">',V[1+P],"</a>");if(T.history){}S.push("</div>");if(T.displayIndicator){S.push(this._colorIndHTML(this.options.color,"left"),this._colorIndHTML("","right"))}S.push("</div>");return S.join("")},_colorIndHTML:function(R,Q){var P=[];P.push('<div class="evo-color" style="float:left"><div style="');P.push(R?"background-color:"+R:"display:none");if(E){P.push('" class="evo-colorbox-ie"></div><span class=".evo-colortxt-ie" ')}else{P.push('"></div><span ')}P.push(R?">"+R+"</span>":"/>");P.push("</div>");return P.join("")},_paletteHTML1:function(){var S=[],V=this.options.strings.split(","),U='<td style="background-color:#',P=E?'"><div style="width:2px;height:2px;overflow:hidden;"></div></td>':'"><span/></td>',R='<tr><th colspan="10" class="ui-widget-content">';S.push('<table class="evo-palette',N,'">',R,V[0],"</th></tr><tr>");for(var Q=0;Q<10;Q++){S.push(U,A[Q],P)}S.push("</tr>");if(!E){S.push('<tr><th colspan="10"></th></tr>')}S.push('<tr class="top">');for(var Q=0;Q<10;Q++){S.push(U,I[Q],P)}for(var T=1;T<4;T++){S.push('</tr><tr class="in">');for(var Q=0;Q<10;Q++){S.push(U,I[T*10+Q],P)}}S.push('</tr><tr class="bottom">');for(var Q=40;Q<50;Q++){S.push(U,I[Q],P)}S.push("</tr>",R,V[1],"</th></tr><tr>");for(var Q=0;Q<10;Q++){S.push(U,F[Q],P)}S.push("</tr></table>");return S.join("")},_paletteHTML2:function(){var V=[],Y='<td style="background-color:#',S=E?'"><div style="width:5px;"></div></td>':'"><span/></td>',Z='<table class="evo-palette2'+N+'"><tr>',P="</tr></table>";V.push('<div class="evo-palcenter">');for(var Q=0,R=D.length;Q<R;Q++){V.push(Z);var W=D[Q];for(var U=0,T=W.length;U<T;U++){V.push(Y,W[U],S)}V.push(P)}V.push('<div class="evo-sep"/>');var X=[];V.push(Z);for(var U=255;U>10;U-=10){V.push(Y,H(U),S);U-=10;X.push(Y,H(U),S)}V.push(P,Z,X.join(""),P);V.push("</div>");return V.join("")},_switchPalette:function(U){if(this._enabled){var W=this.options.strings.split(",");if(K(U).hasClass("evo-hist")){var S=['<table class="evo-palette"><tr><th class="ui-widget-content">',W[5],"</th></tr></tr></table>",'<div class="evo-cHist">'];if(L.length==0){S.push("<p>&nbsp;",W[6],"</p>")}else{for(var R=L.length-1;R>-1;R--){S.push('<div style="background-color:',L[R],'"></div>')}}S.push("</div>");var P=-this._paletteIdx,T=S.join(""),Q=W[4]}else{if(this._paletteIdx<0){var P=-this._paletteIdx;this._palette.find(".evo-hist").show()}else{var P=(this._paletteIdx==2)?1:2}var T=this["_paletteHTML"+P](),Q=W[P+1];this._paletteIdx=P}this._paletteIdx=P;var V=this._palette.find(".evo-more").prev().html(T).end().children().eq(0).html(Q);if(P<0){V.next().hide()}}},showPalette:function(){if(this._enabled){K(".colorPicker").not("."+this._id).colorpicker("hidePalette");if(this._palette==null){if(K.browser.msie){if(K.browser.version<8){this.element.addClass("left")}}this._palette=this.element.next().after(this._paletteHTML({left:this.element.offset().left,top:this.element.offset().top})).next().on("click",function(Q){Q.stopPropagation()});this._bindColors();var P=this;K(document.body).on("click."+this._id,function(Q){if(Q.target!=P.element.get(0)){P.hidePalette()}})}}return this},hidePalette:function(){if(this._isPopup&&this._palette){K(document.body).off("click."+this._id);var P=this;this._palette.off("mouseover click","td").fadeOut(function(){P._palette.remove();P._palette=P._cTxt=null}).find(".evo-more a").off("click")}return this},_bindColors:function(){var R=this._palette.find("div.evo-color"),Q=this.options.history?"td,.evo-cHist div":"td";this._cTxt1=R.eq(0).children().eq(0);this._cTxt2=R.eq(1).children().eq(0);var P=this;this._palette.on("click",Q,function(S){if(P._enabled){var T=C(K(this).attr("style").substring(17));P._setValue(T)}}).on("mouseover",Q,function(S){if(P._enabled){var T=C(K(this).attr("style").substring(17));if(P.options.displayIndicator){P._setColorInd(T,2)}P.element.trigger("mouseover.color",T)}}).find(".evo-more a").on("click",function(){P._switchPalette(this)})},val:function(P){if(typeof P=="undefined"){return this.options.color}else{this._setValue(P);return this}},_setValue:function(Q,P){Q=Q.replace(/ /g,"");this.options.color=Q;if(this._isPopup){if(!P){this.hidePalette()}this.element.val(Q).next().attr("style","background-color:"+Q)}else{this._setColorInd(Q,1)}if(this.options.history&&this._paletteIdx>0){this._add2History(Q)}this.element.trigger("change.color",Q)},_setColorInd:function(Q,P){this["_cTxt"+P].attr("style","background-color:"+Q).next().html(Q)},_setOption:function(P,Q){if(P=="color"){this._setValue(Q,true)}else{this.options[P]=Q}},_add2History:function(R){var P=L.length;for(var Q=0;Q<P;Q++){if(R==L[Q]){return }}if(P>27){L.shift()}L.push(R)},enable:function(){var P=this.element;if(this._isPopup){P.removeAttr("disabled")}else{P.css({opacity:"1","pointer-events":"auto"})}P.removeAttr("aria-disabled");this._enabled=true;return this},disable:function(){var P=this.element;if(this._isPopup){P.attr("disabled","disabled")}else{this.hidePalette();P.css({opacity:"0.3","pointer-events":"none"})}P.attr("aria-disabled","true");this._enabled=false;return this},isDisabled:function(){return !this._enabled},destroy:function(){K(document.body).off("click."+this._id);if(this._palette){this._palette.off("mouseover click","td").find(".evo-more a").off("click");if(this._isPopup){this._palette.remove()}this._palette=this._cTxt=null}if(this._isPopup){this.element.next().off("click").remove().end().off("focus").unwrap()}this.element.removeClass("colorPicker "+this.id).empty();K.Widget.prototype.destroy.call(this)}})})(jQuery);
jQuery.fn.comLanguage=function(M){var J=$(this).selector;var K=M.textboxID?"#"+M.textboxID:alert("error:\u5e38\u7528\u8bed - \u672a\u6307\u5b9a txtboxID");var H=M.newBtnHandler?M.newBtnHandler:alert("error:\u5e38\u7528\u8bed - \u672a\u6307\u5b9a newBtnHandler");var E=M.id?"#"+M.id:"#comLanguage_"+Math.floor(Math.random()*1000000000);var I=M.width?M.width:200;var D="";var B=M.data?M.data:null;var L={left:0,top:0};var C=M.phraseper?M.phraseper:null;function A(){L.top=$(J).offset().top;L.left=$(J).offset().left-I-10;$(E).css({left:L.left,top:L.top})}D+="<div id='"+E.replace("#","")+"' class='comlanguage' style='width:"+I+"px;top:"+L.top+"px;left:"+L.left+"px;'>";D+="<div class='comlanguage_list'>";var G=1;for(var F=0;F<B.length;F++){D+="<a>"+G+".  <span title='"+tranCharacter(B[F])+"'>"+tranCharacter(B[F])+"</span></a>";G++}D+="</div>";D+="<div class='clearfix comlanguage_btn'>";D+="<span class='left'><a class='common_button common_button_gray comLanguage_new left'>"+$.i18n("phrase.sys.js.neworupdate")+"</a></span>";D+="<span class='right'><a class='common_button common_button_gray comLanguage_close right'>"+$.i18n("phrase.sys.js.close")+"</a></span>";D+="</div>";D+="</div>";$("body").append(D);A();$(E).show();$(E).mouseleave(function(){$(this).remove()});$(E+" .comLanguage_close").click(function(){$(E).remove()});$(E+" .comLanguage_new").click(function(){$(E).remove();H()});$(E+" .comlanguage_list a").click(function(){$(E).remove();var N=$(K).val().trim()==""?"":"\r\n";$(K).val($(K).val().trim()+N+$(this).find("span").text())})};function tranCharacter(A){if(!A){return""}if(A.indexOf('"')>-1){A=A.replace(/"/g,"&quot;")}if(A.indexOf("<")>-1){A=A.replace(/</g,"&lt;")}if(A.indexOf(">")>-1){A=A.replace(/>/g,"&gt;")}return A};
function inputChange(B,C,A){this.obj=B;this.text=C;this.color=A;if(!(this.text)){this.text="\u8bf7\u8f93\u5165\u5185\u5bb9"}if(!(this.color)){this.color="color_gray"}this.change()}inputChange.prototype.change=function(){with(this){check();obj.focus(function(){if(obj.hasClass(color)){obj.removeClass(color).val("")}});obj.blur(function(){if(obj.val()==""){obj.addClass(color).val(text)}})}};inputChange.prototype.check=function(){with(this){if(obj.val()==""||obj.val()==text){obj.addClass(color).val(text)}else{obj.removeClass(color)}}};$(function(){$("#condition").change(function(){var A=$(this).val();$(".condition_text").hide();$("#"+A+"Div").show()})});function showHide(B,A){B.click(function(){A.toggle()})}function GoTo_Top(C){if(C==null){var C={}}var E=C.obj?C.obj:$(window);var A=C.btnClass?C.btnClass:"GoTo_Top";var B=C.showHeight?C.showHeight:E.height();var D=C.marginLeft?C.marginLeft:798;$("body").prepend('<a href="javascript:void(0)" class="'+A+'"></a>');$("."+A).css({"margin-left":D/2+"px"});E.scroll(function(){if(E.scrollTop()>B){$("."+A).show()}else{$("."+A).hide()}});$("."+A).click(function(){var F=E.scrollTop()/10;var G=setInterval(function(){if(E.scrollTop()>0){E.scrollTop(E.scrollTop()-F)}else{E.scrollTop(0);clearInterval(G)}},10)})}function getFirstDateOfWeek(A){var B;A.setDate(A.getDate()-A.getDay()+1);B=A;return B}function getLastDateOfWeek(B){var A;B.setDate(B.getDate()+6-B.getDay()+1);A=B;return A}var MonHead=[31,28,31,30,31,30,31,31,30,31,30,31];function getLastDateOfMonth(A,B){var C=MonHead[B-1];if(B==2&&IsPinYear(A)){C++}return C}function IsPinYear(A){return(0==A%4&&(A%100!=0||A%400==0))}function mouseBind(C,D,A,B){$(document).bind("mouseover",function(G){var F=G.target;if(F.nodeType==3){F=F.parentNode}var E=C.offset();if(E!=null){var H=G.clientX>E.left&&G.clientX<(E.left+A.width)&&G.clientY<(E.top+A.height)&&G.clientY>(E.top-$(D).height())}if(F!=D&&!H&&F.id!=B){A.hideDialog();$(document).unbind("mouseover")}})}function setAttachmentsLayoutHeight(J){if($.browser.msie){if($.browser.version<7){if($(".affix_area").height()>34){$(".affix_area").height(34)}}}var G=$("#"+J.fj_id);var H=$("#"+J.wd_id);var I=$("#"+J.layout_head_id);var D=$("#"+J.layout_body_id);var F=0,E=0,C=0,A=0,B=20;C+=$("#"+J.fj_id+" .attachment_block_number").width();$("#"+J.fj_id+" .attachment_block").each(function(){C+=$(this).width()});A+=$("#"+J.wd_id+" .attachment_block_number").width();$("#"+J.wd_id+" .attachment_block").each(function(){A+=$(this).width()});if(C>G.width()){E+=2}else{if(C>B){E+=1}}if(A>H.width()){E+=2}else{if(A>B){E+=1}}I.height(D.height()+E*17);D.css("top",Number(D.css("top").replace("px",""))+E*17+"px")}function set_select_val(A,C){if($.browser.msie&&$.browser.version=="6.0"){setTimeout(function(){A.val(C)},1)}else{try{A.val(C)}catch(B){setTimeout(function(){A.val(C)},1)}}};
(function(F){var A,J,C,H,E,B;var D={menuStyle:{listStyle:"none",padding:"1px",margin:"0px",backgroundColor:"#fff",border:"1px solid #b6b6b6",width:"120px"},itemStyle:{margin:"0px",color:"#000",display:"block",cursor:"default",padding:"5px",border:"0px solid #fff",backgroundColor:"transparent"},itemHoverStyle:{color:"#fff",border:"0px solid #fff",backgroundColor:"#296fbe"},eventPosX:"pageX",eventPosY:"pageY",shadow:true,onContextMenu:null,onShowMenu:null};F.fn.contextMenu=function(M,L){if(!A){A=F('<div id="jqContextMenu"></div>').hide().css({position:"absolute",zIndex:"500"}).appendTo("body").bind("click",function(N){N.stopPropagation()})}if(!J){J=F("<div></div>").css({backgroundColor:"#000",position:"absolute",opacity:0.2,zIndex:499}).appendTo("body").hide()}E=E||[];E.push({id:M,menuStyle:F.extend({},D.menuStyle,L.menuStyle||{}),itemStyle:F.extend({},D.itemStyle,L.itemStyle||{}),itemHoverStyle:F.extend({},D.itemHoverStyle,L.itemHoverStyle||{}),bindings:L.bindings||{},shadow:L.shadow||L.shadow===false?L.shadow:D.shadow,onContextMenu:L.onContextMenu||D.onContextMenu,onShowMenu:L.onShowMenu||D.onShowMenu,eventPosX:L.eventPosX||D.eventPosX,eventPosY:L.eventPosY||D.eventPosY});var K=E.length-1;F(this).bind("contextmenu",function(O){var N=(!!E[K].onContextMenu)?E[K].onContextMenu(O):true;if(N){I(K,this,O,L)}return false});return this};function I(M,L,N,K){var O=E[M];H=F("#"+O.id).find("ul:first").clone(true);H.css(O.menuStyle).find("li").css(O.itemStyle).hover(function(){F(this).css(O.itemHoverStyle)},function(){F(this).css(O.itemStyle)}).find("img").css({verticalAlign:"middle",paddingRight:"2px"});A.html(H);if(!!O.onShowMenu){A=O.onShowMenu(N,A)}F.each(O.bindings,function(Q,P){F("#"+Q,A).bind("click",function(R){G();P(L,B)})});A.css({left:N[O.eventPosX],top:N[O.eventPosY]}).show();if(O.shadow){J.css({width:A.width(),height:A.height(),left:N.pageX+2,top:N.pageY+2}).show()}F(document).one("click",G)}function G(){A.hide();J.hide()}F.contextMenu={defaults:function(K){F.each(K,function(L,M){if(typeof M=="object"&&D[L]){F.extend(D[L],M)}else{D[L]=M}})}}})(jQuery);$(function(){$("div.contextMenu").hide()});
function setDialogFocusDom(F){try{var E=document.getElementById(F);if(E){var B=E.contentWindow;var D=B.document.getElementsByTagName("body")[0];var A=D.style.display;if(A==""||A=="block"){D.focus()}}}catch(C){}}function MxtDialog(C){this.id=C.id?C.id:Math.floor(Math.random()*100000000);this.title=C.title?C.title:"Dialog";this.html=C.html?C.html:"";this.url=C.url?C.url:"";this.width=C.width?parseInt(C.width):400;this.height=C.height?parseInt(C.height):350;this.buttons=C.buttons?C.buttons:[];this.isDrag=C.isDrag==undefined?true:C.isDrag;this.showMask=C.showMask==undefined?false:C.showMask;this.borderSize=1;this.shadow=C.shadow==undefined?true:false;this.checkMax=C.checkMax==undefined?true:C.checkMax;this.closeTitle=C.closeTitle?C.closeTitle:$.i18n("common.button.close.label");this.minTitle=C.minTitle?C.minTitle:"min";this.maxTitle=C.maxTitle?C.maxTitle:"max";this.autoTitle=C.autoTitle?C.autoTitle:"auto";this.isClear=false;this.headerHeight=28;this.footerHeight=40;this.isFrountEvent=C.isFrountEvent?C.isFrountEvent:false;this.targetWindow=C.targetWindow==null?window:C.targetWindow;this.isHead=C.isHead==undefined?true:C.isHead;this.minParam=C.minParam;this.maxParam=C.maxParam;this.closeParam=C.closeParam;this.panelParam=C.panelParam;this.bottomHTML=C.bottomHTML;this.overflow=C.overflow==undefined?"auto":C.overflow;this.formSubmitBtn=C.formSubmitBtn?C.formSubmitBtn:false;this.w_space=C.w_space?C.w_space:0;this.ifMax();if(this.minParam==undefined){this.minParam={show:false,handler:function(){}}}if(this.maxParam==undefined){this.maxParam={show:false,handler:function(){}}}if(this.closeParam==undefined){this.closeParam={show:true,handler:function(){}}}this.left=C.left;this.top=C.top;this.type=C.type==null?"dialog":"panel";this.targetId=C.targetId;this.htmlId=C.htmlId;this.htmlObj=null;this.buttonAlign=C.buttonAlign?C.buttonAlign:"align_right";this.transParamsCopy=null;this.zIndex=1000;this.transParams=C.transParams;this.isFromModle=C.isFromModle==undefined?false:C.isFromModle;this.isFormItem=C.isFormItem?C.isFormItem:false;this.isHide=C.isHide==undefined?false:C.isHide;if($("#"+this.id,this.targetWindow.document).size()>0){var D=document.body.clientWidth;var F=(document.documentElement.scrollHeight>document.documentElement.clientHeight?document.documentElement.scrollHeight:document.documentElement.clientHeight);if(this.targetId!=null){var A=document.getElementById(this.targetId);var B=A.getBoundingClientRect().left;if((B+this.width)>D){B=B+A.clientWidth-this.width;shadowLeft="left:-3px;"}this.left=B;var E=document.documentElement.scrollTop;if($.browser.chrome){E=$("body").scrollTop()}this.top=A.getBoundingClientRect().top+A.offsetHeight+E;this.left=this.left+this.width<D?this.left:this.left-this.width-A.offsetWidth;this.top=this.top+this.height<F?this.top:(this.top-this.height-A.offsetHeight<0?0:this.top-this.height-A.offsetHeight)}else{this.left=this.left+this.width<D?this.left+this.w_space:this.left-this.width-C.w_space;this.top=this.top+this.height<F?this.top:(this.top-this.height<0?0:this.top-this.height);if(this.left<0){this.left=0}}this.targetWindow.$("#"+this.id).css({left:this.left,top:this.top});this.showDialog();return }if(this.type=="dialog"){if(typeof ($("#"+this.id)[0])=="undefined"){this.getDialog();this.drag()}else{if(typeof ($("#"+this.id+"_min")[0])!="undefined"){$("#"+this.id+"_auto_min").click()}}}else{this.getPanel()}var G=this;this.targetWindow.$(document).bind("keyup",function(J){if($("#"+G.id)){if(J.keyCode==27){G.close()}}var I=J.target;var H=J.target.tagName.toUpperCase();if(J.keyCode==8){if((H=="INPUT"&&!$(I).attr("readonly"))||(H=="TEXTAREA"&&!$(I).attr("readonly"))||(H=="DIV"&&$(I).attr("contenteditable")=="true")){if(I.type){if((I.type.toUpperCase()=="RADIO")||(I.type.toUpperCase()=="CHECKBOX")){return false}else{return true}}}else{return false}}});this.officeAction(false)}MxtDialog.prototype.getPanel=function(){var maskId=this.id+"_mask";var _client_width=document.body.clientWidth;var _client_height=(document.documentElement.scrollHeight>document.documentElement.clientHeight?document.documentElement.scrollHeight:document.documentElement.clientHeight);var masks=this.targetWindow.$(".mask");if(masks.size()==0){masks=this.targetWindow.$(".shield")}if(masks.size()>0){var zindexstr=parseInt(masks.eq(0).css("z-index"));this.zIndex=parseInt(zindexstr)+2}if(this.showMask&&typeof ($("#"+maskId)[0])=="undefined"){this.targetWindow.$("body").prepend("<div id='"+maskId+"' class='mask' style='width:100%;height:"+_client_height+"px;z-index:"+this.zIndex+"'>&nbsp;</div>")}if(typeof ($("#"+this.id)[0])!="undefined"){return }var htmlStr="";var _left=(_client_width-(this.width+this.borderSize*2+5))/2;var _top=(document.documentElement.clientHeight-(this.height+this.borderSize*2+15+5))/2;if(this.left==null){this.left=_left}if(this.top==null){this.top=_top}var shadowLeft="";if(this.targetId!=null){var tarobj=document.getElementById(this.targetId);var leftTemp=tarobj.getBoundingClientRect().left;if((leftTemp+this.width)>_client_width){leftTemp=leftTemp+tarobj.clientWidth-this.width}this.left=leftTemp;this.top=tarobj.getBoundingClientRect().top+tarobj.offsetHeight+document.documentElement.scrollTop;this.left=this.left+this.width<_client_width?this.left:this.left-this.width-tarobj.offsetWidth;this.top=this.top+this.height<_client_height?this.top:(this.top-this.height-tarobj.offsetHeight<0?0:this.top-this.height-tarobj.offsetHeight)}else{this.left=this.left+this.width<_client_width?this.left+this.w_space:this.left-this.width-this.w_space;this.top=this.top+this.height<_client_height?this.top:(this.top-this.height<0?0:this.top-this.height)}var closeHeight=15;var margins=this.borderSize*2;if(this.panelParam!=undefined&&!this.panelParam.show){closeHeight=0}if(this.panelParam!=undefined&&!this.panelParam.margins){margins=0}htmlStr+="<div id='"+this.id+"' class='dialog_box absolute' style='z-index:"+(this.zIndex+1)+";left:"+(parseInt(this.left<0?0:this.left)+document.documentElement.scrollLeft)+"px;top:"+(parseInt(this.top<0?0:this.top))+"px;'>";if(this.shadow){htmlStr+="<div id='"+this.id+"_shadow' class='dialog_shadow absolute' style='"+shadowLeft+"width:"+(this.width+this.borderSize*2)+"px;height:"+(this.height+margins+closeHeight)+"px;'>&nbsp;</div>"}htmlStr+="<iframe id='"+this.id+"_iframe_shadow' class='absolute' style='"+shadowLeft+"width:"+this.width+"px;height:"+(this.height+margins)+"px;border:0'></iframe>";htmlStr+="<div id='"+this.id+"_main' class='dialog_main absolute' style='width:"+this.width+"px'>";htmlStr+="<div id='"+this.id+"_main_head' >";htmlStr+="</div>";htmlStr+="<div id='"+this.id+"_main_body' class='dialog_main_body left' style='width:"+this.width+"px;height:"+this.height+"px;'>";htmlStr+="<div id='"+this.id+"_main_iframe' class='dialog_main_iframe absolute' style='top:"+this.headerHeight+"px;width:"+this.width+"px;height:"+this.height+"px;display:none;'>&nbsp;</div>";htmlStr+="<div id='"+this.id+"_main_content' class='dialog_main_content absolute'>";if(this.url!=""){htmlStr+="<iframe id='"+this.id+"_main_iframe_content' name='"+this.id+"_main_iframe' class='dialog_main_content_html "+(margins==0?"":"margin_5 padding_5")+"' src='"+this.url+"' scrolling='no' frameborder='0' width='"+(this.width-(margins==0?0:22))+"' height='"+(this.height-(margins==0?0:22))+"' />"}else{htmlStr+="<div id='"+this.id+"_main_iframe_div' class='dialog_main_content_html "+(margins==0?"":"margin_5 padding_5")+"' style='width:"+(this.width-(margins==0?0:22))+"px;height:"+(this.height-(margins==0?0:22))+"px;border-width:"+(margins==0?0:1)+"px;background:#fff;'>"+(this.htmlId==undefined?this.html:"")+"</div>"}htmlStr+="</div>";htmlStr+="</div>";if(this.buttons.length>0){htmlStr+="<div id='"+this.id+"_main_footer' class='dialog_main_footer left padding_t_5 w100b'>";htmlStr+="<div class='left over_hidden margin_l_5 padding_t_5 padding_b_5'  style='font-size:12px;'>";if(this.bottomHTML!=undefined){htmlStr+=this.bottomHTML}htmlStr+="</div>";htmlStr+="<div class='right "+this.buttonAlign+"' >";if(this.buttons.length>0){for(var i=0;i<this.buttons.length;i++){var jsonTemp=this.buttons[i];if(jsonTemp.id==undefined){jsonTemp.id=Math.floor(Math.random()*100000000)+"_btn"}if(!this.isFrountEvent){if(jsonTemp.id=="btnok"){$.hotkeys.returnKeys.push(jsonTemp.id+this.id)}if(jsonTemp.id=="btncancel"){$.hotkeys.cancelKeys.push(jsonTemp.id+this.id)}htmlStr+="<a id='"+jsonTemp.id+this.id+"' class='common_button "+(jsonTemp.disabled?"common_button_disable":"common_button_gray")+" margin_r_10' style='cursor:pointer;display:"+(jsonTemp.hide?"none":"")+"'>"+jsonTemp.text+"</a>"}}}htmlStr+="</div>";htmlStr+="</div>"}htmlStr+="</div>";htmlStr+="</div>";this.targetWindow.$("body").prepend(htmlStr);var temp=$("#"+this.id+"_main_iframe_content",this.targetWindow.document);if(temp.size()>0&&temp[0].contentWindow){try{if(temp[0].contentWindow.parentDialogObj==undefined){temp[0].contentWindow.parentDialogObj=new Object()}eval("temp[0].contentWindow.parentDialogObj['"+this.id+"'] = this;")}catch(e){}}if(this.htmlId!=null){this.htmlObj=$("#"+this.htmlId).clone(true);$("#"+this.htmlId).after('<div id="'+this.htmlId+'_area"></div>');this.targetWindow.$("#"+this.id+"_main_iframe_div").append($("#"+this.htmlId).show())}var self=this;if(this.panelParam==undefined||this.panelParam.show){if(this.panelParam&&this.panelParam.inside){$("#"+this.id+"_main_head",this.targetWindow.document).css({position:"absolute","z-index":"9999",right:5})}$("<span id='"+this.id+"_close' class='dialog_close right margin_t_0' title='"+this.closeTitle+"'></span>").click(function(){self.close()}).appendTo($("#"+this.id+"_main_head",this.targetWindow.document))}if(this.buttons.length>0){for(var i=0;i<this.buttons.length;i++){var jsonTemp=this.buttons[i];if(!this.isFrountEvent){if(jsonTemp.disabled){continue}else{this.targetWindow.$("#"+jsonTemp.id+this.id).click(jsonTemp.handler).click(function(){self.close()})}}}this.targetWindow.$("#"+this.buttons[0].id+this.id).focus()}else{this.targetWindow.$("#"+this.id).focus()}};MxtDialog.prototype.getDialog=function(){var maskId=this.id+"_mask";var _client_width=this.targetWindow.document.body.clientWidth;var _client_height=(this.targetWindow.document.documentElement.scrollHeight>this.targetWindow.document.documentElement.clientHeight?this.targetWindow.document.documentElement.scrollHeight:this.targetWindow.document.documentElement.clientHeight);var masks=this.targetWindow.$(".mask");if(masks.size()==0){masks=this.targetWindow.$(".shield")}if(masks.size()>0){if(masks.size()==1){this.zIndex=parseInt(masks.eq(0).css("z-index"))}if(masks.size()>1){for(var j=0;j<masks.size();j++){var _mm=masks.eq(j);var _index=parseInt(_mm.css("z-index"));if(_index>this.zIndex){this.zIndex=_index}}}this.zIndex=this.zIndex+2}if(typeof ($("#"+maskId)[0])=="undefined"){this.targetWindow.$("body").prepend("<div id='"+maskId+"' class='mask' style='width:100%;height:"+_client_height+"px;z-index:"+this.zIndex+"'>&nbsp;</div>")}if(typeof ($("#"+this.id)[0])!="undefined"){return }var htmlStr="";var _left=(_client_width-(this.width+this.borderSize*2+5))/2;var _top=(this.targetWindow.document.documentElement.clientHeight-(this.height+this.borderSize*2+this.headerHeight+this.footerHeight+5))/2;if(this.left==undefined){this.left=_left}if(this.top==undefined){this.top=_top}htmlStr+="<div id='"+this.id+"' class='dialog_box absolute' style='z-index:"+(this.zIndex+1)+";left:"+((this.left<0?0:this.left)+this.targetWindow.document.documentElement.scrollLeft)+"px;top:"+((this.top<0?0:this.top)+this.targetWindow.document.documentElement.scrollTop)+"px;'>";if(this.shadow){htmlStr+="<div id='"+this.id+"_shadow' class='dialog_shadow absolute' style='width:"+(this.width+this.borderSize*2)+"px;height:"+(this.height+this.borderSize*2+this.headerHeight+(this.buttons.length>0?this.footerHeight:0))+"px;'>&nbsp;</div>"}htmlStr+="<iframe id='"+this.id+"_iframe_shadow' class='absolute' style='width:"+this.width+"px;height:"+(this.height+this.headerHeight+(this.buttons.length>0?this.footerHeight:0))+"px;border:0'></iframe>";htmlStr+="<div id='"+this.id+"_main' class='dialog_main absolute' style='width:"+this.width+"px'>";if(this.isHead){htmlStr+="<div id='"+this.id+"_main_head' class='dialog_main_head'>";htmlStr+="<span id='"+this.id+"_title' class='dialog_title left' style='width:"+(this.width-100)+"px;  white-space: nowrap;overflow: hidden;text-overflow: ellipsis;'>"+this.title+"</span>";if(this.closeParam&&this.closeParam.show){htmlStr+="<span id='"+this.id+"_close' class='dialog_close right' title='"+this.closeTitle+"'></span>"}if(this.maxParam&&this.maxParam.show){htmlStr+="<span id='"+this.id+"_max' class='dialog_max right' title='"+this.maxTitle+"'></span>"}if(this.minParam&&this.minParam.show){htmlStr+="<span id='"+this.id+"_min' class='dialog_min right' title='"+this.minTitle+"'></span>"}htmlStr+="</div>"}htmlStr+="<div id='"+this.id+"_main_body' class='dialog_main_body left' style='width:"+this.width+"px;height:"+this.height+"px'>";htmlStr+="<div id='"+this.id+"_main_iframe' class='dialog_main_iframe absolute' style='left:5px;top:"+(this.headerHeight+5)+"px;width:"+(this.width-10)+"px;height:"+(this.height-10)+"px;display:none;'>&nbsp;</div>";htmlStr+="<div id='"+this.id+"_main_content' class='dialog_main_content absolute'>";if(this.url!=""){htmlStr+="<iframe id='"+this.id+"_main_iframe_content' name='"+this.id+"_main_iframe' class='dialog_main_content_html  margin_5' src='"+this.url+"' scrolling='auto' frameborder='0' width='"+(this.width-12)+"' height='"+(this.height-12)+"' />"}else{htmlStr+="<div id='"+this.id+"_main_iframe_div' class='dialog_main_content_html padding_5 margin_5' style='width:"+(this.width-22)+"px;height:"+(this.height-22)+"px;overflow:"+this.overflow+";'>"+(this.htmlId==undefined?this.html:"")+"</div>"}htmlStr+="</div>";htmlStr+="</div>";if(this.buttons.length>0){htmlStr+="<div id='"+this.id+"_main_footer' class='dialog_main_footer left padding_t_5 w100b'>";htmlStr+="<div class='left over_hidden margin_l_5 padding_t_5 padding_b_5'  style='font-size:12px;'>";if(this.bottomHTML!=undefined){htmlStr+=this.bottomHTML}htmlStr+="</div>";htmlStr+="<div class='right "+this.buttonAlign+"' >";if(this.buttons.length>0){for(var i=0;i<this.buttons.length;i++){var jsonTemp=this.buttons[i];if(jsonTemp.id==undefined){jsonTemp.id=Math.floor(Math.random()*100000000)+"_btn"}if(!this.isFrountEvent){if(jsonTemp.id=="btnok"){$.hotkeys.returnKeys.push(jsonTemp.id+this.id)}if(jsonTemp.id=="btncancel"){$.hotkeys.cancelKeys.push(jsonTemp.id+this.id)}htmlStr+="<a id='"+jsonTemp.id+this.id+"' class='common_button "+(jsonTemp.disabled?"common_button_disable":"common_button_gray")+" margin_r_10' style='cursor:pointer;display:"+(jsonTemp.hide?"none":"")+"'>"+jsonTemp.text+"</a>"}}}htmlStr+="</div>";htmlStr+="</div>"}htmlStr+="</div>";htmlStr+="</div>";this.targetWindow.$("body").prepend(htmlStr);var temp=$("#"+this.id+"_main_iframe_content",this.targetWindow.document);if(temp.size()>0&&temp[0].contentWindow){try{if(temp[0].contentWindow.parentDialogObj==undefined){temp[0].contentWindow.parentDialogObj=new Object()}eval("temp[0].contentWindow.parentDialogObj['"+this.id+"'] = this;")}catch(e){}}if(temp.size()>0&&this.transParams!=undefined){try{if(!this.isFromModle){this.transParamsCopy=this.transParams;temp[0].contentWindow.dialogArguments=this.transParams}else{this.transParamsCopy=this.transParams;temp[0].contentWindow.transParams=this.transParams}}catch(e){this.transParamsCopy=this.transParams;temp[0].contentWindow.transParams=this.transParams}}if(this.htmlId!=null){this.htmlObj=$("#"+this.htmlId).clone(true);$("#"+this.htmlId).after('<div id="'+this.htmlId+'_area"></div>');this.targetWindow.$("#"+this.id+"_main_iframe_div").append($("#"+this.htmlId).show())}var self=this;if(this.closeParam&&this.closeParam.show){if(this.closeParam.autoClose==false){this.targetWindow.$("#"+this.id+"_close").click(this.closeParam.handler)}else{this.targetWindow.$("#"+this.id+"_close").click(this.closeParam.handler).click(function(){self.close()})}}if(this.maxParam&&this.maxParam.show){this.targetWindow.$("#"+this.id+"_max").click(function(){self.maxfn()}).click(this.maxParam.handler)}if(this.minParam&&this.minParam.show){this.targetWindow.$("#"+this.id+"_min").click(function(){self.minfn()}).click(this.minParam.handler)}if(this.buttons.length>0){for(var i=0;i<this.buttons.length;i++){var jsonTemp=this.buttons[i];if(!this.isFrountEvent){if(jsonTemp.disabled){continue}else{this.targetWindow.$("#"+jsonTemp.id+this.id).click(jsonTemp.handler)}}}this.targetWindow.$("#"+this.buttons[0].id+this.id).parent().focus()}else{this.targetWindow.$("#"+this.id).parent().focus()}$(window).scroll(function(){var _client_width2=document.documentElement.scrollWidth;var _client_height2=document.documentElement.scrollHeight;$(".mask").css({width:_client_width2,height:_client_height2})})};MxtDialog.prototype.hideBtn=function(C){for(var B=0;B<this.buttons.length;B++){var A=this.buttons[B];if(A.id==C){this.targetWindow.$("#"+A.id+this.id).hide()}}};MxtDialog.prototype.showBtn=function(C){for(var B=0;B<this.buttons.length;B++){var A=this.buttons[B];if(A.id==C){this.targetWindow.$("#"+A.id+this.id).show()}}};MxtDialog.prototype.enabledBtn=function(C){for(var B=0;B<this.buttons.length;B++){var A=this.buttons[B];if(A.id==C){this.targetWindow.$("#"+A.id+this.id).show().removeClass("common_button_disable").addClass("common_button_gray").click(A.handler)}}};MxtDialog.prototype.disabledBtn=function(C){for(var B=0;B<this.buttons.length;B++){var A=this.buttons[B];if(A.id==C){this.targetWindow.$("#"+A.id+this.id).show().removeClass("common_button_gray").addClass("common_button_disable").unbind("click")}}};MxtDialog.prototype.drag=function(){if(this.isDrag){var B=this.targetWindow.$("#"+this.id);var A=this.targetWindow.$("#"+this.id+"_main_head");this.targetWindow.$("#"+this.id).draggable({cancel:".dialog_main_body,.dialog_main_content_html,.dialog_main_footer",handle:".dialog_main_head",containment:"body",scroll:false,delay:150,distance:10,iframeFix:true})}};MxtDialog.prototype.close=function(C){try{this.targetWindow.$("#"+this.id+"_main_iframe_content")[0].contentWindow.document.getElementById("docOpenBodyFrame").contentWindow.document.getElementById("officeEditorFrame").contentWindow.pdfOcxUnLoad()}catch(F){}try{this.targetWindow.$("#"+this.id+"_main_iframe_content")[0].contentWindow.document.getElementById("docOpenBodyFrame").contentWindow.document.getElementById("officeEditorFrame").contentWindow.OcxUnLoad()}catch(F){}if(this.isHide){this.hideDialog();return }var A=this.isFormItem;var E=false;var C=C;C?null:C=[];if(C.isFormItem!=undefined){A=C.isFormItem}if(this.htmlId!=undefined){if(A){var H=this.targetWindow.$("#"+this.htmlId).find("select");if(H.size()>0){E=true;var D=[];H.each(function(){D.push($(this).find("option:selected").val())})}this.htmlObj=this.targetWindow.$("#"+this.htmlId).clone(true)}if(this.htmlObj!=null){this.htmlObj.hide()}$("#"+this.htmlId+"_area").after(this.htmlObj);$("#"+this.htmlId+"_area").remove()}this.targetWindow.$("#"+this.id+"_mask").remove();try{if(this.isClear){var B=this.targetWindow.$("#"+this.id+"_main_iframe_content");if(B.size()>0){B[0].contentWindow.document.write("");var G=B[0];B.contents().find("body").empty();$(G.document).find("*").unbind().die();G.src="about:blank";G.contentWindow.document.write("");G.contentWindow.close();$.gc();if(B[0].contentWindow.location.href!=window.location.href){if(getCtpTop().dialogArguments==undefined||getCtpTop().dialogArguments==null){B[0].contentWindow.close()}}B.remove()}}else{this.targetWindow.$("#"+this.id+"_main_iframe_content").attr("src","")}}catch(F){this.targetWindow.$("#"+this.id+"_main_iframe_content").attr("src","")}this.targetWindow.$("#"+this.id).remove();this.officeAction(true);if(E){$("#"+this.htmlId+" select").each(function(I){var J=$(this);$(this).find("option").each(function(K){if($(this).val()==D[I]){J.find("option").eq(K).attr("selected","selected")}})})}};MxtDialog.prototype.officeAction=function(A){this.officeIframe=$("#officeFrameDiv");this.qianzhangIframe=$("[classid='clsid:2294689C-9EDF-40BC-86AE-0438112CA439']");if(!A){if(this.officeIframe.size()>0){this.officeIframe.css({visibility:"hidden"})}if(this.qianzhangIframe.size()>0){this.qianzhangIframe.css({visibility:"hidden"})}}else{if(this.officeIframe.size()>0){this.officeIframe.css({visibility:"visible"})}if(this.qianzhangIframe.size()>0){this.qianzhangIframe.css({visibility:"visible"})}}};MxtDialog.prototype.closeMin=function(){this.targetWindow.$("#"+this.id+"_mask").remove();this.targetWindow.$("#"+this.id+"_main_iframe_content").attr("src","");this.targetWindow.$("#"+this.id).remove();this.targetWindow.$("#"+this.id+"_div_min").remove();if(this.targetWindow.$("#min-divs .dialog_box_min").length==0){this.targetWindow.$("#min-divs").remove()}};MxtDialog.prototype.minfn=function(){this.targetWindow.$("#"+this.id).hide();this.targetWindow.$("#"+this.id+"_mask").hide();var D="";var C=this.targetWindow.$("#min-divs");var B=0;if(C.length<=0){D+="<div id='min-divs' class='absolute' style='left:10px;bottom:33px;z-index:"+(this.zIndex+1)+";'>"}else{B=C.children().length}D+="<div id='"+this.id+"_div_min' class='dialog_box_min absolute' style='left:"+B*150+"px'>";D+="<div id='"+this.id+"_main_min' class='dialog_main absolute' style='width:150px'>";D+="<div id='"+this.id+"_main_head_min' class='dialog_main_head'>";D+="<span id='"+this.id+"_title_min' class='dialog_title left' style='width:50px;  white-space: nowrap;overflow: hidden;text-overflow: ellipsis;'>"+this.title+"</span>";D+="<span id='"+this.id+"_close_min' class='dialog_close right' title='"+this.closeTitle+"'></span>";if(this.maxParam){D+="<span id='"+this.id+"_auto_min' class='dialog_auto right' title='"+this.autoTitle+"'></span>"}D+="</div>";D+="</div>";D+="</div>";if(C.length<=0){D+="</div>";this.targetWindow.$("body").prepend(D)}else{C.append(D)}var A=this;this.targetWindow.$("#"+this.id+"_close_min").click(function(){A.closeMin()});if(this.maxParam){this.targetWindow.$("#"+this.id+"_auto_min").click(function(){A.autoMinfn()})}};MxtDialog.prototype.ifMax=function(){if(this.checkMax==false){return }var A=this.targetWindow.document.body.clientWidth-40;var C=this.targetWindow.document.documentElement.clientHeight-80;var D=this.width;var B=this.height;this.width=D>A?A:D;this.height=B>C?C:B};MxtDialog.prototype.maxfn=function(){var B=this.targetWindow.document.body.clientWidth;var C=this.targetWindow.document.documentElement.clientHeight-(this.isHead?70:40);this.targetWindow.$("#"+this.id+"_main").width(B);this.targetWindow.$("#"+this.id+"_shadow").width(B+this.borderSize*2).height(C+this.borderSize*2+this.headerHeight+this.footerHeight);this.targetWindow.$("#"+this.id+"_main_body").width(B).height(C);this.targetWindow.$("#"+this.id+"_main_iframe").width(B).height(C);if(this.url!=""){this.targetWindow.$("#"+this.id+"_main_iframe_content").css({width:(B-22)+"px",height:(C-22)+"px"})}else{this.targetWindow.$("#"+this.id+"_main_iframe_div").width(B-22).height(C-22)}this.targetWindow.$("#"+this.id).css({top:"0px",left:"0px"});var A=this;this.targetWindow.$("#"+this.id+"_max").addClass("dialog_auto").unbind("click").click(function(){A.autofn()}).click(this.maxParam.handler)};MxtDialog.prototype.autofn=function(){var B=this.width;var C=this.height;this.targetWindow.$("#"+this.id+"_main").width(B);this.targetWindow.$("#"+this.id+"_shadow").width(B+this.borderSize*2).height(C+this.borderSize*2+this.headerHeight+this.footerHeight);this.targetWindow.$("#"+this.id+"_main_body").width(B).height(C);this.targetWindow.$("#"+this.id+"_main_iframe").width(B).height(C);if(this.url!=""){this.targetWindow.$("#"+this.id+"_main_iframe_content").width(B-22).height(C-22)}else{this.targetWindow.$("#"+this.id+"_main_iframe_div").width(B-22).height(C-22)}this.targetWindow.$("#"+this.id).css({top:this.top+"px",left:this.left+"px"});var A=this;this.targetWindow.$("#"+this.id+"_max").removeClass("dialog_auto").unbind("click").click(function(){A.maxfn()}).click(this.maxParam.handler)};MxtDialog.prototype.removeMinDiv=function(){var A=$("#min-divs");if(A.length>0){if(A.children().length==0){A.remove()}}};MxtDialog.prototype.autoMinfn=function(){this.targetWindow.$("#"+this.id+"_div_min").remove();this.targetWindow.$("#"+this.id).show();this.targetWindow.$("#"+this.id+"_mask").show();this.removeMinDiv()};MxtDialog.prototype.reSize=function(C){var B=this.targetWindow.document.body.clientWidth;var E=document.documentElement.clientHeight;if(C.cHeight){E=C.cHeight}if(C.cWidth){B=C.cWidth}var A=C.width;var F=C.height;var D=(B-(A+this.borderSize*2+5))/2;var G=(E-(F+this.borderSize*2+15+5))/2;if(this.buttons.length==0){this.footerHeight=0}this.targetWindow.$("#"+this.id+"_main").width(A);this.targetWindow.$("#"+this.id+"_shadow").width(A+this.borderSize*2).height(F+this.borderSize*2+this.headerHeight+this.footerHeight);this.targetWindow.$("#"+this.id+"_main_body").width(A).height(F);this.targetWindow.$("#"+this.id+"_main_iframe").width(A).height(F);this.targetWindow.$("#"+this.id+"_iframe_shadow").width(A).height(F);if(this.url!=""){this.targetWindow.$("#"+this.id+"_main_iframe_content").css({width:(A-22)+"px",height:(F-22)+"px"})}else{this.targetWindow.$("#"+this.id+"_main_iframe_div").width(A-22).height(F-22)}this.targetWindow.$(".dialog_title").width(A-100);this.targetWindow.$("#"+this.id).css({left:D+"px",top:G+"px"})};MxtDialog.prototype.getReturnValue=function(D){if(D==null){D={}}var F=this.id+"_main_iframe_content";var C=null;var B=this.targetWindow;var E=B.document.getElementById(F);if(E!=null){var A=null;if(E.contentWindow&&typeof (E.contentWindow.OK)=="function"){A=E.contentWindow.OK(D)}else{return null}return A}else{return null}};MxtDialog.prototype.getMin=function(D){if(D==null){D={}}var F=this.id+"_main_iframe_content";var C=null;var B=this.targetWindow;var E=B.document.getElementById(F);if(E!=null){var A=null;if(E.contentWindow){A=E.contentWindow.MIN(D)}else{A=E.MIN(D)}return A}else{return null}};MxtDialog.prototype.getMax=function(D){if(D==null){D={}}var F=this.id+"_main_iframe_content";var C=null;var B=this.targetWindow;var E=B.document.getElementById(F);if(E!=null){var A=null;if(E.contentWindow){A=E.contentWindow.MAX(D)}else{A=E.MAX(D)}return A}else{return null}};MxtDialog.prototype.getClose=function(D){if(D==null){D={}}var F=this.id+"_main_iframe_content";var C=null;var B=this.targetWindow;var E=B.document.getElementById(F);if(E!=null){var A=null;if(E.contentWindow){A=E.contentWindow.CLOSE(D)}else{A=E.CLOSE(D)}return A}else{return null}};MxtDialog.prototype.getWidth=function(){return this.targetWindow.$("#"+this.id+"_main_iframe_content").css("width")};MxtDialog.prototype.getHeight=function(){return this.targetWindow.$("#"+this.id+"_main_iframe_content").css("height")};MxtDialog.prototype.getTransParams=function(){return this.transParamsCopy};MxtDialog.prototype.reloadUrl=function(url){var _url=url;_url?null:_url=this.url;this.targetWindow.$("#"+this.id+"_main_iframe_content").attr("src",_url);var temp=$("#"+this.id+"_main_iframe_content",this.targetWindow.document);if(temp.size()>0&&temp[0].contentWindow){try{if(temp[0].contentWindow.parentDialogObj==undefined){temp[0].contentWindow.parentDialogObj=new Object()}eval("temp[0].contentWindow.parentDialogObj['"+this.id+"'] = this;")}catch(e){}}if(temp.size()>0&&this.transParams!=undefined){try{if(!this.isFromModle){this.transParamsCopy=this.transParams;temp[0].contentWindow.dialogArguments=this.transParams}else{this.transParamsCopy=this.transParams;temp[0].contentWindow.transParams=this.transParams}}catch(e){this.transParamsCopy=this.transParams;temp[0].contentWindow.transParams=this.transParams}}};MxtDialog.prototype.setTitle=function(A){this.targetWindow.$("#"+this.id+"_title").html(A)};MxtDialog.prototype.hideDialog=function(){this.targetWindow.$("#"+this.id+"_main_iframe_content").attr("src","");this.targetWindow.$("#"+this.id+"_mask").hide();this.targetWindow.$("#"+this.id).hide();this.officeAction(true)};MxtDialog.prototype.showDialog=function(){this.targetWindow.$("#"+this.id+"_main_iframe_content").attr("src",this.url);this.targetWindow.$("#"+this.id+"_mask").show();this.targetWindow.$("#"+this.id).show();this.officeAction(false)};MxtDialog.prototype.getObjectById=function(A){return this.targetWindow?this.targetWindow.$("#"+A):null};MxtDialog.prototype.getObjectByClass=function(A){return this.targetWindow?this.targetWindow.$("."+A):null};MxtDialog.prototype.startLoading=function(A){if(this.targetWindow){this.targetWindow.$("#"+this.id+"_main_iframe").show()}};MxtDialog.prototype.endLoading=function(){if(this.targetWindow){this.targetWindow.$("#"+this.id+"_main_iframe").hide()}};function MxtMsgBox(A){this.id=A.id?A.id:Math.floor(Math.random()*100000000);this.title=A.title?A.title:"MessageBox";this.type=A.type?A.type:0;this.msg=A.msg?A.msg:"";this.buttons=A.buttons?A.buttons:[];this.width=A.width?A.width:350;this.height=A.height?A.height:120;this.isDrag=A.isDrag?A.isDrag:true;this.borderSize=1;this.closeTitle=A.closeTitle?A.closeTitle:$.i18n("common.button.close.label");this.submitText=A.submitText?A.submitText:"submit";this.headerHeight=28;this.footerHeight=40;this.imgType=A.imgType==null?null:A.imgType;this.okText=A.okText?A.okText:$.i18n("message.ok.js");this.cancelText=A.cancelText?A.cancelText:$.i18n("message.cancel.js");this.yesText=A.yesText?A.yesText:$.i18n("message.yes.js");this.noText=A.noText?A.noText:$.i18n("message.no.js");this.retryText=A.retryText?A.retryText:$.i18n("message.retry.js");this.detailText=A.detailText?A.detailText:$.i18n("message.detail.js");this.ok_fn=A.ok_fn?A.ok_fn:null;this.cancel_fn=A.cancel_fn?A.cancel_fn:null;this.yes_fn=A.yes_fn?A.yes_fn:null;this.no_fn=A.no_fn?A.no_fn:null;this.retry_fn=A.retry_fn?A.retry_fn:null;this.detail_fn=A.detail_fn?A.detail_fn:null;this.close_fn=A.close_fn?A.close_fn:null;this.close_show=A.close_show?A.close_show:true;this.zIndex=5000;this.isFrountEvent=A.isFrountEvent?A.isFrountEvent:false;this.targetWindow=A.targetWindow==null?getCtpTop():A.targetWindow;this.init();this.drag();var B=this;$(document).keyup(function(C){if($("#"+B.id)){if(C.keyCode==27){B.close()}}})}MxtMsgBox.prototype.init=function(){var E=this.id+"_mask";var F=this.targetWindow.document.body.clientWidth;var B=(this.targetWindow.document.documentElement.scrollHeight>this.targetWindow.document.documentElement.clientHeight?this.targetWindow.document.documentElement.scrollHeight:this.targetWindow.document.documentElement.clientHeight);var K=this.targetWindow.$(".mask");if(K.size()==0){K=this.targetWindow.$(".shield")}if(K.length>0){var G=parseInt(K.eq(0).css("z-index"));this.zIndex=parseInt(G)+2}if(typeof ($("#"+E)[0])=="undefined"){this.targetWindow.$("body").prepend("<div id='"+E+"' class='mask' style='width:"+F+"px;height:"+B+"px;z-index:"+this.zIndex+"'>&nbsp;</div>")}if(typeof ($("#"+this.id)[0])!="undefined"){this.targetWindow.$("#"+this.id).remove()}var A="";var J=(F-(this.width+this.borderSize*2+5))/2;var I=(this.targetWindow.document.documentElement.clientHeight-(this.height+this.borderSize*2+this.headerHeight+this.footerHeight+5))/2;if(I<=0){I=($(document.body).height()-(this.height+this.borderSize*2+this.headerHeight+this.footerHeight+5))/2}A+="<div id='"+this.id+"' class='dialog_box absolute' style='z-index:"+(this.zIndex+2)+";left:"+((J<0?0:J)+this.targetWindow.document.documentElement.scrollLeft)+"px;top:"+((I<0?0:I)+this.targetWindow.document.documentElement.scrollTop)+"px;'>";A+="<div id='"+this.id+"_shadow' class='dialog_shadow absolute' style='width:"+(this.width+this.borderSize*2)+"px;height:"+(this.height+this.borderSize*2+this.headerHeight+this.footerHeight)+"px;'>&nbsp;</div>";A+="<iframe id='"+this.id+"_iframe_shadow' class='absolute' style='width:"+this.width+"px;height:"+(this.height+this.headerHeight+this.footerHeight)+"px;border:0'></iframe>";A+="<div id='"+this.id+"_main' class='dialog_main absolute' style='width:"+this.width+"px'>";A+="<div id='"+this.id+"_main_head' class='dialog_main_head'>";A+="<span id='"+this.id+"_title' class='dialog_title left'>"+this.title+"</span>";if(this.close_show){A+="<span id='"+this.id+"_close' class='dialog_close right' title='"+this.closeTitle+"'></span>"}A+="</div>";A+="<div id='"+this.id+"_main_body' class='dialog_main_body left' style='width:"+this.width+"px;height:"+this.height+"px'>";A+="<div id='"+this.id+"_main_iframe' class='dialog_main_iframe absolute' style='top:"+this.headerHeight+"px;width:"+this.width+"px;height:"+this.height+"px;display:none;'>&nbsp;</div>";A+="<div id='"+this.id+"_main_content' class='dialog_main_content absolute'>";A+="<div class='dialog_main_content_html padding_5 margin_5' style='width:"+(this.width-22)+"px;height:"+(this.height-22)+"px;overflow:auto'>";A+="<table width='100%' class='margin_t_20' style='font-size:12px;'><tr>";if(this.imgType!=null){A+="<td valign='top' width='24' class='padding_l_20'><span class='msgbox_img_"+this.imgType+"'></span>";A+="</td>"}A+="<td class='msgbox_content padding_l_10'>";A+=this.msg;A+="</td>";A+="</tr></table>";A+="</div>";A+="</div>";A+="</div>";A+="<div id='"+this.id+"_main_footer' class='dialog_main_footer left align_right padding_t_5 w100b'>";switch(this.type){case 0:A+="<a  id='ok_msg_btn_first'  class='common_button common_button_gray margin_r_10 hand'>"+this.okText+"</a>";break;case 1:A+="<a  id='ok_msg_btn_first'   class='common_button common_button_gray margin_r_10 hand'>"+this.okText+"</a>";A+="<a  id='cancel_msg_btn'  class='common_button common_button_gray margin_r_10 hand'>"+this.cancelText+"</a>";break;case 2:A+="<a  id='yes_msg_btn'   class='common_button common_button_gray margin_r_10 hand'>"+this.yesText+"</a>";A+="<a  id='no_msg_btn'   class='common_button common_button_gray margin_r_10 hand'>"+this.noText+"</a>";A+="<a  id='cancel_msg_btn'   class='common_button common_button_gray margin_r_10 hand'>"+this.cancelText+"</a>";break;case 3:A+="<a  id='yes_msg_btn'   class='common_button common_button_gray margin_r_10 hand'>"+this.yesText+"</a>";A+="<a  id='no_msg_btn'  class='common_button common_button_gray margin_r_10 hand'>"+this.noText+"</a>";break;case 4:A+="<a  id='retry_msg_btn'   class='common_button common_button_gray margin_r_10 hand'>"+this.retryText+"</a>";A+="<a  id='cancel_msg_btn'  class='common_button common_button_gray margin_r_10 hand'>"+this.cancelText+"</a>";break;case 5:A+="<a  id='ok_msg_btn_first'  class='common_button common_button_gray margin_r_10 hand'>"+this.okText+"</a>";A+="<a  id='detail_msg_btn'   class='common_button common_button_gray margin_r_10 hand'>"+this.detailText+"</a>";break;case 100:if(this.buttons.length>0){for(var D=0;D<this.buttons.length;D++){var C=this.buttons[D];A+="<a  id='"+C.id+"_btn'   class='common_button common_button_gray margin_r_10 hand' title='"+C.text+"'>"+C.text+"</a>"}}break;default:A+="<a  id='ok_msg_btn_first'   class='common_button common_button_gray margin_r_10 hand'>"+this.okText+"</a>"}A+="</div>";A+="</div>";A+="</div>";this.targetWindow.$("body").prepend(A);var H=this;this.targetWindow.$("#"+this.id+"_close").click(function(){H.close()}).click(this.close_fn);switch(this.type){case 0:if(!this.isFrountEvent){this.targetWindow.$("#ok_msg_btn_first").click(function(){H.close()}).click(this.ok_fn)}else{this.targetWindow.$("#ok_msg_btn_first").click(this.ok_fn).click(function(){H.close()})}break;case 1:if(!this.isFrountEvent){this.targetWindow.$("#ok_msg_btn_first").click(function(){H.close()}).click(this.ok_fn);this.targetWindow.$("#cancel_msg_btn").click(function(){H.close()}).click(this.cancel_fn)}else{this.targetWindow.$("#ok_msg_btn_first").click(this.ok_fn).click(function(){H.close()});this.targetWindow.$("#cancel_msg_btn").click(this.cancel_fn).click(function(){H.close()})}break;case 2:if(!this.isFrountEvent){this.targetWindow.$("#yes_msg_btn").click(function(){H.close()}).click(this.yes_fn);this.targetWindow.$("#no_msg_btn").click(function(){H.close()}).click(this.no_fn);this.targetWindow.$("#cancel_msg_btn").click(function(){H.close()}).click(this.cancel_fn)}else{this.targetWindow.$("#yes_msg_btn").click(this.yes_fn).click(function(){H.close()});this.targetWindow.$("#no_msg_btn").click(this.no_fn).click(function(){H.close()});this.targetWindow.$("#cancel_msg_btn").click(this.cancel_fn).click(function(){H.close()})}break;case 3:if(!this.isFrountEvent){this.targetWindow.$("#yes_msg_btn").click(function(){H.close()}).click(this.yes_fn);this.targetWindow.$("#no_msg_btn").click(function(){H.close()}).click(this.no_fn)}else{this.targetWindow.$("#yes_msg_btn").click(this.yes_fn).click(function(){H.close()});this.targetWindow.$("#no_msg_btn").click(this.no_fn).click(function(){H.close()})}break;case 4:if(!this.isFrountEvent){this.targetWindow.$("#retry_msg_btn").click(function(){H.close()}).click(this.retry_fn);this.targetWindow.$("#cancel_msg_btn").click(function(){H.close()}).click(this.cancel_fn)}else{this.targetWindow.$("#retry_msg_btn").click(this.retry_fn).click(function(){H.close()});this.targetWindow.$("#cancel_msg_btn").click(this.cancel_fn).click(function(){H.close()})}break;case 5:if(!this.isFrountEvent){this.targetWindow.$("#ok_msg_btn_first").click(function(){H.close()}).click(this.ok_fn);this.targetWindow.$("#detail_msg_btn").click(function(){H.close()}).click(this.detail_fn)}else{this.targetWindow.$("#ok_msg_btn_first").click(this.ok_fn).click(function(){H.close()});this.targetWindow.$("#detail_msg_btn").click(this.detail_fn).click(function(){H.close()})}break;case 100:if(this.buttons.length>0){for(var D=0;D<this.buttons.length;D++){var C=this.buttons[D];if(!this.isFrountEvent){this.targetWindow.$("#"+C.id+"_btn").click(function(){H.close()}).click(C.handler)}else{this.targetWindow.$("#"+C.id+"_btn").click(C.handler).click(function(){H.close()})}}}break;default:if(!this.isFrountEvent){this.targetWindow.$("#ok_msg_btn_first").click(function(){H.close()}).click(this.ok_fn)}else{this.targetWindow.$("#ok_msg_btn_first").click(this.ok_fn).click(function(){H.close()})}}if(this.targetWindow.$("#ok_msg_btn_first").size()>0){this.targetWindow.$("#ok_msg_btn_first").parent().focus()}};MxtMsgBox.prototype.drag=function(){if(this.isDrag){this.targetWindow.$("#"+this.id).draggable({cancel:".dialog_main_content_html,.dialog_main_footer",containment:"body",scroll:false})}};MxtMsgBox.prototype.close=function(){this.targetWindow.$("#"+this.id+"_mask").remove();this.targetWindow.$("#"+this.id).remove()};
function MxtFace(A){this.id=A.id?A.id:Math.floor(Math.random()*100000000);this.width=A.width?A.width:288;this.height=A.height?A.height:160;this.borderSize=1;this.target=A.target;this.fixObj=A.fixObj;if(this.target==null||this.fixObj==null){return }this.left=A.left==undefined?200:A.left;this.top=A.top==undefined?200:A.top;this.isUp=A.isUp==undefined?false:A.isUp;this.clickFn=A.clickFn;if(this.clickFn==undefined){this.clickFn=function(){}}this.init()}MxtFace.prototype.init=function(){if(typeof ($("#"+this.id)[0])!="undefined"){$("#"+this.id).remove()}var D=document.getElementById(this.fixObj);if(!this.isUp){this.top=D.getBoundingClientRect().top+D.clientHeight+10}else{this.top=D.getBoundingClientRect().top-this.height-20}this.left=D.getBoundingClientRect().left-10;var C="";C+="<div id='"+this.id+"' class='dialog_box absolute' style='left:"+this.left+"px;top:"+this.top+"px'>";C+="<div id='"+this.id+"_shadow' class='dialog_shadow absolute' style='width:"+(this.width+this.borderSize*2)+"px;height:"+(this.height+this.borderSize*2)+"px;'>&nbsp;</div>";C+="<div id='"+this.id+"_main' class='dialog_main absolute' style='width:"+this.width+"px'>";C+="<div id='"+this.id+"_main_head' class='clearfix'>";C+="</div>";C+="<div id='"+this.id+"_main_body' class='dialog_main_body left' style='width:"+this.width+"px;height:"+this.height+"px'>";C+="<div id='"+this.id+"_main_iframe' class='dialog_main_iframe absolute' style='top:"+this.headerHeight+"px;width:"+this.width+"px;height:"+this.height+"px;display:none;'>&nbsp;</div>";C+="<div id='"+this.id+"_main_content' class='dialog_main_content absolute'>";C+="<div id='"+this.id+"_main_iframe_div' class='dialog_main_content_html padding_5 margin_5' style='margin-top:0px;width:"+(this.width-22)+"px;height:"+(this.height-22)+"px;'>";C+="</div>";C+="</div>";C+="</div>";C+="</div>";C+="</div>";$("body").prepend(C);var A=this;$("<span id='"+this.id+"_close' class='dialog_close right' title='"+this.closeTitle+"'></span>").css("margin-top","0px").click(function(){A.close()}).appendTo($("#"+this.id+"_main_head"));for(var B=1;B<51;B++){$("<img id='"+this.id+"_img"+B+"' src='../../skin/default/images/face/"+B+".gif'/>").appendTo($("#"+this.id+"_main_iframe_div"));(function(E,F){$("#"+F+"_img"+E).click(function(){$("#"+A.target).append("<img src='../../skin/default/images/face/"+E+".gif'/>");$("#"+A.id).remove()}).click(A.clickFn)})(B,this.id)}};MxtFace.prototype.close=function(){$("#"+this.id).remove()};
jQuery.fn.focusImage=function(P){var J=this.selector;var M="go";var C=P.time?P.time:5000;var L=P.action?P.action:"click";var N=3;var F=0;var E=0;var B=$(J+" .imgList ul li").outerWidth();var K=$(J+" .imgList ul li").width();var H=$(J+" .imgList ul li").height();var I=$(J+" .imgBtn ul li").outerWidth();var D=$(J+" .imgBtn ul li").outerHeight();function O(){$(J+" .imgBtn li").each(function(Q){$(this).html(G(Q,0))});$(J+" .imgList li").each(function(Q){$(this).html(G(Q,1))})}function G(S,X){var T=P.data[S+3*E].img_url;var Z=P.data[S+3*E].img_href;var W=P.data[S+3*E].img_txt;var U="";var V="";var Y=P.data[S+3*E].img_w;var Q=P.data[S+3*E].img_h;if(X==0){if(Y/Q>=I/D){Y>=I?U=I:null}else{Q>=D?V=D:null}}if(X==1){if(Y/Q>=K/H){Y>=K?U=K:null}else{Q>=H?V=H:null}}var R="";X==1?R+="<a href='"+Z+"' target='_blank'>":"";R+="<img src='"+T+"'"+(U==""?"":" width='"+U+"'")+(V==""?"":" height='"+V+"'")+" border='0'/>";X==1?R+="<a/>":"";return R}O();$(J+" .btnLeft").click(function(){E--;E<0?E=3:null;O()});$(J+" .btnRight").click(function(){E++;E>=3?E=0:null;O()});$(J+" .imgBtn li").mouseover(function(){M="stop"}).mouseleave(function(){M="go"});$(J+" .imgBtn li").each(function(Q){$(this).bind(L,function(){$(J+" .imgList ul").stop(true);F=0;$(J+" .imgList ul").animate({left:"-"+B*Q+"px"},"fast");$(J+" .imgBtn li").removeClass("imgBtn_over");$(J+" .imgBtn li:eq("+Q+")").addClass("imgBtn_over")})});function A(){if(M=="go"){F++;$(J+" .imgList ul").animate({left:"-"+B*F+"px"},"fast");$(J+" .imgBtn li").removeClass("imgBtn_over");$(J+" .imgBtn li:eq("+F+")").addClass("imgBtn_over");if((F+1)==N){F=-1}}}setInterval(A,C)};
(function($){$.addFlex=function(t,p){if(t.grid){return t}var initFlag=true;var pageSize=($.ctx&&$.ctx._pageSize)?$.ctx._pageSize:20;p=$.extend({id:Math.floor(Math.random()*100000000)+"_grid",height:200,width:"auto",striped:true,novstripe:false,minwidth:30,minheight:0,resizable:true,method:"POST",errormsg:"Connection Error",usepager:true,nowrap:true,page:1,total:1,useRp:true,useRpInput:true,rp:pageSize,rpOptions:[10,20,30,40,50,100,150,200],title:false,idProperty:"id",pagestat:"Displaying {from} to {to} of {total} items",pagetext:$.i18n("validate.grid.over_page6.js"),outof:$.i18n("validate.grid.over_page5.js"),findtext:"Find "+$.i18n("validate.grid.over_page5.js"),params:{},procmsg:"Processing, please wait ...",query:"",qtype:"",nomsg:"No items",minColToggle:1,showToggleBtn:true,hideOnSubmit:true,autoload:true,blockOpacity:0.5,preProcess:false,addTitleToCell:false,dblClickResize:false,onDragCol:false,onToggleCol:false,onChangeSort:false,onCurrentPageSort:true,onSuccess:false,onNoDataSuccess:false,onError:false,onSubmit:false,datas:null,click:null,dblclick:null,render:null,callBackTotle:null,singleSelect:true,managerName:null,managerMethod:null,customize:true,vChangeParam:{changeTar:"grid_detail",overflow:"auto",subHeight:0,position:"static",autoResize:true},vChange:false,isHaveIframe:false,hChangeParam:{subHeight:55},hChange:false,parentId:null,slideToggleBtn:false,UMD:"down",slideToggleUpHandle:function(){if(p.UMD=="down"){p.UMD="middle"}else{if(p.UMD=="middle"){p.UMD="up"}else{if(p.UMD=="up"){g.resizeGridUpDown(p.UMD)}}}g.resizeGridUpDown(p.UMD)},slideToggleDownHandle:function(){if(p.UMD=="down"){g.resizeGridUpDown(p.UMD)}else{if(p.UMD=="middle"){p.UMD="down"}else{if(p.UMD=="up"){p.UMD="middle"}}}g.resizeGridUpDown(p.UMD)},dataTable:false},p);if(p.vChangeParam.changeTar==undefined){p.vChangeParam.changeTar="grid_detail"}if(p.vChangeParam.overflow==undefined){p.vChangeParam.overflow="auto"}if(p.vChangeParam.subHeight==undefined){p.vChangeParam.subHeight=0}if(p.vChangeParam.autoResize==undefined){p.vChangeParam.autoResize=true}$(t).show().attr({cellPadding:0,cellSpacing:0,border:0}).removeAttr("width");p.gridClassName=p.id+"_classtag";var timer=null;var g={hset:{},rePosDrag:function(){var hsl=this.hDiv.scrollLeft,cdleft=0-hsl;if(hsl>0){cdleft-=Math.floor(p.cgwidth/2)}$(g.cDrag).css({top:g.hDiv.offsetTop+1});var cdpad=this.cdpad;$("div",g.cDrag).hide();var arr=$("thead tr:first th:visible",this.hDiv);arr.each(function(){var n=arr.index(this);var cdpos=parseInt($("div",this).width());if(cdleft==0){cdleft-=Math.floor(p.cgwidth/2)}cdpos=cdpos+cdleft+cdpad;if(isNaN(cdpos)){cdpos=0}$("div:eq("+n+")",g.cDrag).css({left:cdpos+"px"}).show();cdleft=cdpos})},fixHeight:function(newH){newH=false;if(!newH){newH=$(g.bDiv).height()}var hdHeight=$(this.hDiv).height();$("div",this.cDrag).each(function(){$(this).height(newH+hdHeight)});var nd=parseInt($(g.nDiv).height());if(nd>newH){$(g.nDiv).height(newH).width(200)}else{$(g.nDiv).height("auto").width("auto")}$(g.block).css({height:newH,marginBottom:(newH*-1)});var hrH=g.bDiv.offsetTop+newH;if(p.height!="auto"&&p.resizable){hrH=g.vDiv.offsetTop}$(g.rDiv).css({height:hrH});if(p.vChange){var tt=$("#"+p.vChangeParam.changeTar);if(tt.length>0){var h=$(g.gDiv).parent().height();$("#"+p.vChangeParam.changeTar).css("overflow",p.vChangeParam.overflow).height(h-$(g.gDiv).height()-p.vChangeParam.subHeight)}}},saveCustomize:function(){if(p.customize){var ck=p.customId;if(ck){var _cols=$("th",g.hDiv);var _modes={};_cols.each(function(){var $t=$(this),_colmodes=$t.attr("colmode"),v=$t.is(":visible");if(_colmodes&&_colmodes!=""){$.each(p.colModel,function(i,n){if(n.name==_colmodes){_modes[n.name]=v?1:0}})}});var upm=new ctpUserPreferenceManager();upm.saveGridPreference(ck,_modes,{success:function(){}})}}},dragStart:function(dragtype,e,obj){if(dragtype=="colresize"){$(g.nDiv).hide();$(g.nBtn).hide();var n=$("div",this.cDrag).index(obj);var ow=$("th:visible div:eq("+n+")",this.hDiv).width();$(obj).addClass("dragging").siblings().hide();$(obj).prev().addClass("dragging").show();this.colresize={startX:e.pageX,ol:parseInt(obj.style.left),ow:ow,n:n};$("body").css("cursor","col-resize")}else{if(dragtype=="vresize"){var hgo=false;$("body").css("cursor","row-resize");if(obj){hgo=true;$("body").css("cursor","col-resize")}p.height=$(g.bDiv).height();if(p.vChange==true&&p.isHaveIframe==true){var gridDetail=$("#"+p.vChangeParam.changeTar);gridDetail.css({position:"relative"});$("<div class='grid_mask'></div>").css({position:"absolute",background:"red",top:0,left:0,width:gridDetail.width()+"px",height:gridDetail.height()+"px","z-index":20,"-moz-opacity":0,opacity:0}).appendTo(gridDetail)}this.vresize={h:p.height,sy:e.pageY,w:p.width,sx:e.pageX,hgo:hgo}}else{if(dragtype=="colMove"){$(g.nDiv).hide();$(g.nBtn).hide();this.hset=$(this.hDiv).offset();this.hset.right=this.hset.left+$("table",this.hDiv).width();this.hset.bottom=this.hset.top+$("table",this.hDiv).height();this.dcol=obj;this.dcoln=$("th",this.hDiv).index(obj);this.colCopy=document.createElement("div");this.colCopy.className="colCopy";this.colCopy.innerHTML=obj.innerHTML;if($.browser.msie){this.colCopy.className="colCopy ie"}$(this.colCopy).css({position:"absolute","float":"left",display:"none",textAlign:obj.align});$("body").append(this.colCopy);$(this.cDrag).hide()}}}$("body").noSelect()},dragMove:function(e){if(this.colresize){var n=this.colresize.n;var diff=e.pageX-this.colresize.startX;var nleft=this.colresize.ol+diff;var nw=this.colresize.ow+diff;if(nw>p.minwidth){$("div:eq("+n+")",this.cDrag).css("left",nleft);this.colresize.nw=nw}}else{if(this.vresize){var v=this.vresize;var y=e.pageY;var diff=y-v.sy;if(!p.defwidth){p.defwidth=p.width}if(p.width!="auto"&&!p.nohresize&&v.hgo){var x=e.pageX;var xdiff=x-v.sx;var newW=v.w+xdiff;if(newW>p.defwidth){this.gDiv.style.width=newW+"px";p.width=newW}}var newH=v.h+diff;if((newH>p.minheight||p.height<p.minheight)&&!v.hgo){this.bDiv.style.height=newH+"px";p.height=newH;this.fixHeight(newH)}v=null}else{if(this.colCopy){$(this.dcol).addClass("thMove").removeClass("thOver");if(e.pageX>this.hset.right||e.pageX<this.hset.left||e.pageY>this.hset.bottom||e.pageY<this.hset.top){$("body").css("cursor","move")}else{$("body").css("cursor","pointer")}$(this.colCopy).css({top:e.pageY+10,left:e.pageX+20,display:"block"})}}}},dragEnd:function(){if(this.colresize){var n=this.colresize.n;var nw=this.colresize.nw;$("th:visible div:eq("+n+")",this.hDiv).css("width",nw);$("tr",this.bDiv).each(function(){var $tdDiv=$("td:visible div:eq("+n+")",this);$tdDiv.css("width",nw);g.addTitleToCell($tdDiv)});this.hDiv.scrollLeft=this.bDiv.scrollLeft;$("div:eq("+n+")",this.cDrag).siblings().show();$(".dragging",this.cDrag).removeClass("dragging");this.rePosDrag();this.fixHeight();this.colresize=false;var name=p.colModel[n].name}else{if(this.vresize){this.vresize=false;if(p.vChange==true&&p.isHaveIframe==true){var gridDetail=$("#"+p.vChangeParam.changeTar);var _position=p.vChangeParam.position;gridDetail.css({position:_position});var grid_mask=$(".grid_mask");if(grid_mask.size()>0){grid_mask.remove()}}}else{if(this.colCopy){$(this.colCopy).remove();if(this.dcolt!=null){if(this.dcoln>this.dcolt){$("th:eq("+this.dcolt+")",this.hDiv).before(this.dcol)}else{$("th:eq("+this.dcolt+")",this.hDiv).after(this.dcol)}this.switchCol(this.dcoln,this.dcolt);$(this.cdropleft).remove();$(this.cdropright).remove();this.rePosDrag();if(p.onDragCol){p.onDragCol(this.dcoln,this.dcolt)}}this.dcol=null;this.hset=null;this.dcoln=null;this.dcolt=null;this.colCopy=null;$(".thMove",this.hDiv).removeClass("thMove");$(this.cDrag).show();var _cols=$("th",g.hDiv);var _modes=[];_cols.each(function(){var _colmodes=$(this).attr("colmode");$.each(p.colModel,function(i,n){if(n.name==_colmodes){_modes.push(n)}})});p.colModel=_modes;this.saveCustomize()}}}$("body").css("cursor","default");$("body").noSelect(false)},toggleCol:function(cid,visible){var ncol=$("th[axis='col"+cid+"']",this.hDiv)[0];var n=$("thead th",g.hDiv).index(ncol);var cb=$("input[value="+cid+"]",g.nDiv)[0];if(visible==null){visible=ncol.hidden}if($("input:checked",g.nDiv).length<p.minColToggle&&!visible){return false}if(visible){ncol.hidden=false;$(ncol).show();cb.checked=true}else{ncol.hidden=true;$(ncol).hide();cb.checked=false}$("tbody tr",t).each(function(){if(visible){$("td:eq("+n+")",this).show()}else{$("td:eq("+n+")",this).hide()}});this.rePosDrag();if(p.onToggleCol){p.onToggleCol(cid,visible)}this.saveCustomize();return visible},switchCol:function(cdrag,cdrop){$("tbody tr",t).each(function(){if(cdrag>cdrop){$("td:eq("+cdrop+")",this).before($("td:eq("+cdrag+")",this))}else{$("td:eq("+cdrop+")",this).after($("td:eq("+cdrag+")",this))}});if(cdrag>cdrop){$("tr:eq("+cdrop+")",this.nDiv).before($("tr:eq("+cdrag+")",this.nDiv))}else{$("tr:eq("+cdrop+")",this.nDiv).after($("tr:eq("+cdrag+")",this.nDiv))}if($.browser.msie&&$.browser.version<7){$("tr:eq("+cdrop+") input",this.nDiv)[0].checked=true}this.hDiv.scrollLeft=this.bDiv.scrollLeft},scroll:function(){this.hDiv.scrollLeft=this.bDiv.scrollLeft;this.rePosDrag()},addNewData:function(data,parentId){data=$.extend({rows:[],page:0,total:0},data);if(p.preProcess){data=p.preProcess(data)}$(".pReload",this.pDiv).removeClass("loading");this.loading=false;if(!data){$(".pPageStat",this.pDiv).html(p.errormsg);return false}if(data.params){p.params=data.params}tbody=$("#list");var ttr=document.createElement("tr"),cc=0;$("thead tr:first th",g.hDiv).each(function(){var th=$(this),td=document.createElement("td"),tdDiv=document.createElement("div");var idx=th.attr("axis").substr(3);td.align=this.align;if(p.sortname==th.attr("abbr")&&p.sortname){td.className="sorted"}$(tdDiv).css({textAlign:th[0].align,width:$("div:first",th)[0].style.width});if(this.hidden){$(td).css("display","none")}if(p.nowrap==false){$(tdDiv).css("white-space","normal")}if(p.colModel[cc].codecfg){$(tdDiv).attr("codecfg",p.colModel[cc].codecfg).addClass("codecfg")}$(td).append(tdDiv);$(td).attr("abbr",th.attr("abbr"));$(ttr).append(td);td=null;cc++});$.each(data.rows,function(i,row){var ctr=$(ttr).clone();tr=ctr[0];if(row.name){tr.name=row.name}if(row.color){$(tr).css("background",row.color)}else{if(i%2&&p.striped){tr.className="erow"}}if(row.ishidden){$(tr).addClass("hidden")}if(row.disable){$(tr).addClass("graytr")}if(row[p.idProperty]){tr.id="row"+row[p.idProperty]}var ctrc=ctr.children();for(var j=0;j<cc;j++){var td=ctrc[j],tdiv=$(td).children()[0],divd,clm=p.colModel[j];if(typeof row.cell=="undefined"){divd=row[clm.name];if(divd&&typeof divd=="string"){divd=divd.escapeHTML(true,false)}}else{if(typeof row.cell[j]!="undefined"){divd=(row.cell[j]!=null)?row.cell[j]:""}else{divd=row.cell[clm.name]}}if(divd&&clm.cutsize){divd=divd.substring(0,clm.cutsize)}if(clm.type=="checkbox"){divd='<input type="checkbox" gridRowCheckBox="'+p.gridClassName+"\" class='noClick' row=\""+i+'" value="'+divd+'"/>'}else{if(clm.type=="radio"){divd='<input type="radio" gridRowCheckBox="'+p.gridClassName+"\" class='noClick' row=\""+i+'" value="'+divd+'" name="gridradio"/>'}else{if(p.render){var mj=p._modesMap?p._modesMap[j]:j;divd=p.render(divd,row,i,mj,clm)}}}if(divd!=0&&(divd===""||divd===null)){divd="&nbsp;"}$(tdiv).addClass("text_overflow");tdiv.innerHTML=divd;if($.trim($(tdiv).text()).length>0){tdiv.setAttribute("title",$(tdiv).text())}}if(parentId){$("#"+parentId).after(tr)}else{$(tbody).append(tr)}tr=null});$("tr",t).unbind();$(t).empty();$(t).append(tbody);if(p.click){$(t).unbind("click");$(t).click(function(e){var target=e.target;if(target.className.indexOf("noClick")==-1){var td=$(target).parents("td").eq(0);var tr=td.parent();if(tr.hasClass("graytr")){return }var col=$("td",tr).index(td);var row=$("tr",t).index(tr);if(row==-1){row=0}p.click(p.datas.rows[row],row,col,tr.attr("id"))}})}if(p.dblclick){$(t).unbind("dblclick");$(t).dblclick(function(e){var target=e.target;if(target.className.indexOf("noClick")==-1){var td=$(target).parents("td").eq(0);var tr=td.parent();if(tr.hasClass("graytr")){return }var col=$("td",tr).index(td);var row=$("tr",t).index(tr);if(row==-1){row=0}p.dblclick(p.datas.rows[row],row,col,tr.attr("id"))}})}this.addRowProp();this.rePosDrag();tbody=null;data=null;i=null;if(p.onSuccess){p.onSuccess(this)}if(p.hideOnSubmit){$(g.block).remove()}this.hDiv.scrollLeft=this.bDiv.scrollLeft;if($.browser.opera){$(t).css("visibility","visible")}$(t).codetext()},addData:function(data){$(".grid_checkbox input[type=checkbox]",this.hDiv).prop("checked",false);data=$.extend({rows:[],page:0,total:0},data);p.datas=data;if(p.preProcess){data=p.preProcess(data)}$(".pReload",this.pDiv).removeClass("loading");this.loading=false;if(!data){$(".pPageStat",this.pDiv).html(p.errormsg);return false}if(!data.total){data.total=data.rows.length}p.total=data.total;if(p.total==0){$("tr, a, td, div",t).unbind();$(t).empty();p.pages=1;p.page=1;this.buildpager();$(".pPageStat",this.pDiv).html(p.nomsg);if($(g.block).size()>0){$(g.block).remove()}$("<div id='total_0_"+p.id+"'></div>").width($(".hDivBox",this.hDiv).width()).appendTo($(this.bDiv));if(p.onNoDataSuccess){p.onNoDataSuccess(this)}if(p.callBackTotle){p.callBackTotle(p.total)}return false}else{var _totle0=$("#total_0_"+p.id);if(_totle0.size()>0){_totle0.remove()}}p.pages=Math.ceil(p.total/p.rp);p.page=data.page;if(data.params){p.params=data.params}this.buildpager();var tbody=document.createElement("tbody");tbody.id="list";tbody.className="hand";var ttr=document.createElement("tr"),cc=0;$("thead tr:first th",g.hDiv).each(function(){var th=$(this),td=document.createElement("td"),tdDiv=document.createElement("div");var idx=th.attr("axis").substr(3);td.align=this.align;if(p.sortname==th.attr("abbr")&&p.sortname){td.className="sorted"}$(tdDiv).css({textAlign:th[0].align,width:$("div:first",th)[0].style.width});if(this.hidden){$(td).css("display","none")}if(p.nowrap==false){$(tdDiv).css("white-space","normal")}if(p.colModel[cc].codecfg){$(tdDiv).attr("codecfg",p.colModel[cc].codecfg).addClass("codecfg")}$(td).append(tdDiv);$(td).attr("abbr",th.attr("abbr"));$(ttr).append(td);td=null;cc++});$.each(data.rows,function(i,row){var ctr=$(ttr).clone();tr=ctr[0];if(row.name){tr.name=row.name}if(row.color){$(tr).css("background",row.color)}else{if(i%2&&p.striped){tr.className="erow"}}if(row.disable){$(tr).addClass("graytr")}if(row[p.idProperty]){tr.id="row"+row[p.idProperty]}var ctrc=ctr.children();for(var j=0;j<cc;j++){var td=ctrc[j],tdiv=$(td).children()[0],divd,clm=p.colModel[j];if(typeof row.cell=="undefined"){divd=row[clm.name];if(divd&&typeof divd=="string"){divd=divd.escapeHTML(true,false)}}else{if(typeof row.cell[j]!="undefined"){divd=(row.cell[j]!=null)?row.cell[j]:""}else{divd=row.cell[clm.name]}}if(divd&&clm.cutsize){divd=divd.substring(0,clm.cutsize)}if(clm.type=="checkbox"){divd='<input type="checkbox" gridRowCheckBox="'+p.gridClassName+"\" class='noClick' row=\""+i+'" value="'+divd+'"/>'}else{if(clm.type=="radio"){divd='<input type="radio" gridRowCheckBox="'+p.gridClassName+"\" class='noClick' row=\""+i+'" value="'+divd+'" name="gridradio"/>'}else{if(p.render){var mj=p._modesMap?p._modesMap[j]:j;divd=p.render(divd,row,i,mj,clm)}}}if(divd!=0&&(divd===""||divd===null)){divd="&nbsp;"}$(tdiv).addClass("text_overflow");tdiv.innerHTML=divd;if($.trim($(tdiv).text()).length>0){tdiv.setAttribute("title",$(tdiv).text())}}$(tbody).append(tr);tr=null});$("tr",t).unbind();$(t).empty();$(t).append(tbody);if(p.click){$(t).unbind("click");$(t).click(function(e){var target=e.target;if(target.className.indexOf("noClick")==-1){var td=$(target).parents("td").eq(0);var tr=td.parent();if(tr.hasClass("graytr")){return }var col=$("td",tr).index(td);var row=$("tr",t).index(tr);if(row==-1){row=0}clearTimeout(timer);timer=setTimeout(function(){p.click(p.datas.rows[row],row,col)},200)}})}if(p.dblclick){$(t).unbind("dblclick");$(t).dblclick(function(e){var target=e.target;if(target.className.indexOf("noClick")==-1){var td=$(target).parents("td").eq(0);var tr=td.parent();if(tr.hasClass("graytr")){return }var col=$("td",tr).index(td);var row=$("tr",t).index(tr);if(row==-1){row=0}clearTimeout(timer);p.dblclick(p.datas.rows[row],row,col)}})}this.addRowProp();this.rePosDrag();tbody=null;data=null;i=null;if(p.onSuccess){p.onSuccess(this)}if(p.callBackTotle){p.callBackTotle(p.total)}if(p.hideOnSubmit){$(g.block).remove()}this.hDiv.scrollLeft=this.bDiv.scrollLeft;if($.browser.opera){$(t).css("visibility","visible")}$(t).codetext()},changeSort:function(th){if(this.loading){return true}$(g.nDiv).hide();$(g.nBtn).hide();var sortByname;p.onCurrentPageSort==true?sortByname=$(th).attr("colmode"):sortByname=$(th).attr("abbr");p.sortType=$(th).attr("sortType");if(p.sortname==sortByname){if(p.sortorder=="asc"){p.sortorder="desc"}else{p.sortorder="asc"}}else{p.sortorder="asc"}$(th).addClass("sorted").siblings().removeClass("sorted");$(".sdesc",this.hDiv).removeClass("sdesc");$(".sasc",this.hDiv).removeClass("sasc");$("div",th).addClass("s"+p.sortorder);p.sortname=sortByname;if(p.onCurrentPageSort){this.setSort(p.sortname,p.sortorder,p.sortType)}else{this.populate()}if(p.onChangeSort){p.onChangeSort(p.sortname,p.sortorder,p.sortType)}},buildpager:function(){$(".pcontrol input",this.pDiv).val(p.page);$("span.total_page",this.pDiv).html($.i18n("validate.grid.over_page4.js")+p.pages+$.i18n("validate.grid.over_page5.js"));var r1=(p.page-1)*p.rp+1;var r2=r1+p.rp-1;if(p.total<r2){r2=p.total}var stat=p.pagestat;stat=stat.replace(/{from}/,r1);stat=stat.replace(/{to}/,r2);stat=stat.replace(/{total}/,p.total);$(".pPageStat",this.pDiv).html(stat);$(".total",this.pDiv).html($.i18n("validate.grid.over_page2.js")+p.total+$.i18n("validate.grid.over_page3.js"))},setSort:function(name,order,type){if($.trim(p.datas)==""){return }p.datas.rows.sort(function(a,b){var valueA=a[name];var valueB=b[name];if(type=="date"){valueA=Date.parse(valueA);valueB=Date.parse(valueB)}if(type=="number"){valueA=Number(valueA);valueB=Number(valueB)}if(type=="string"){if(valueA==null){valueA=""}else{valueA=""+valueA}if(valueB==null){valueB=""}else{valueB=""+valueB}var _f=valueA.localeCompare(valueB);if(order=="desc"){return _f}else{return _f*-1}}else{if(order=="desc"){if(valueA<valueB){return -1}if(valueA>valueB){return 1}return 0}if(order=="asc"){if(valueA>valueB){return -1}if(valueA<valueB){return 1}return 0}}});this.addData(p.datas)},populate:function(paras){if(this.loading){return true}if(p.onSubmit){var gh=p.onSubmit();if(!gh){return false}}this.loading=true;$(".pPageStat",this.pDiv).html(p.procmsg);$(".pReload",this.pDiv).addClass("loading");$(g.block).css({top:g.bDiv.offsetTop});if(p.hideOnSubmit){$(this.gDiv).prepend(g.block)}if($.browser.opera){$(t).css("visibility","hidden")}if(!p.newp){p.newp=1}if(p.page>p.pages){p.page=p.pages}if(paras){p.params=paras;if(paras.newp){p.newp=paras.newp}}var fp={page:p.newp,size:p.rp,sortField:p.sortname,sortOrder:p.sortorder};if(p.onCurrentPageSort){fp.sortField=undefined;fp.sortOrder=undefined}if(p.managerName&&p.managerMethod&&window[p.managerName]){var callerResponder=new CallerResponder();callerResponder.success=function(fpi){fpi.rows=fpi.data;g.addData(fpi)};var _bs=new window[p.managerName]();_bs[p.managerMethod](fp,p.params,callerResponder)}else{if(p.datas!=null){g.addData(p.datas)}}},doSearch:function(){p.query=$("input[name=q]",g.sDiv).val();p.qtype=$("select[name=qtype]",g.sDiv).val();p.params[p.qtype]=p.query;p.newp=1;this.populate()},changePage:function(ctype,fc){if(p.total==0){return false}if(this.loading){return true}switch(ctype){case"first":p.newp=1;break;case"prev":if(p.page>1){p.newp=parseInt(p.page)-1}break;case"next":if(p.page<p.pages){p.newp=parseInt(p.page)+1}break;case"last":p.newp=p.pages;break;case"input":var nv=parseInt($(".pcontrol input",this.pDiv).val());if(isNaN(nv)){nv=1}if(nv<1){nv=1}else{if(nv>p.pages){nv=p.pages}}$(".pcontrol input",this.pDiv).val(nv);p.newp=nv;break}p.rpNew=$("#rpInputChange",g.pDiv).val();if(p.rpNew>200){p.rpNew=200;$("#rpInputChange",g.pDiv).val(p.rpNew)}if((p.newp==p.page)&&(p.rp==p.rpNew)&&!fc){return false}p.rp=p.rpNew;if(p.onChangePage){p.onChangePage(p.newp)}else{this.populate()}},getCellDim:function(obj){var ht=parseInt($(obj).height());var pht=parseInt($(obj).parent().height());var wt=parseInt(obj.style.width);var pwt=parseInt($(obj).parent().width());var top=obj.offsetParent.offsetTop;var left=obj.offsetParent.offsetLeft;var pdl=parseInt($(obj).css("paddingLeft"));var pdt=parseInt($(obj).css("paddingTop"));return{ht:ht,wt:wt,top:top,left:left,pdl:pdl,pdt:pdt,pht:pht,pwt:pwt}},addRowProp:function(){var _noClickType=true;$("tbody td").find(".noClick").click(function(){_noClickType=false});$("tbody tr",g.bDiv).each(function(){var t=$(this);$(t).unbind();t.click(function(e){var obj=(e.target||e.srcElement);if(obj.href||obj.type){if(obj.type=="checkbox"||obj.type=="radio"){var _checked=$(obj).prop("checked");if(_checked){t.siblings().removeClass("trSelected");t.addClass("trSelected")}else{t.removeClass("trSelected")}}return true}if(p.singleSelect&&!g.multisel){t.siblings().removeClass("trSelected");if($(obj).find("input[gridrowcheckbox]").size()==0){t.siblings().find("input[gridrowcheckbox]").prop("checked",false)}t.addClass("trSelected");if(t.hasClass("trSelected")){var _ch=t.find("input[gridrowcheckbox]");if(_ch.prop("disabled")==false){_ch.prop("checked",true)}}else{t.find("input[gridrowcheckbox]").prop("checked",false)}}if(p.vChange){if(_noClickType){if($("#"+p.vChangeParam.changeTar).size()>0&&p.vChangeParam.autoResize){p.UMD="middle";g.resizeGridUpDown(p.UMD)}var tar=t.find("input[type=checkbox]");if(tar.size()>0){try{tar.focus()}catch(e){}}var tar2=t.find("input[type=radio]");if(tar2.size()>0){try{tar2.focus()}catch(e){}}}else{_noClickType=true}}}).mousedown(function(e){if(e.shiftKey){t.toggleClass("trSelected");g.multisel=true;this.focus();$(g.gDiv).noSelect()}if(e.ctrlKey){t.toggleClass("trSelected");g.multisel=true;this.focus()}}).mouseup(function(e){if(g.multisel&&!e.ctrlKey){g.multisel=false;$(g.gDiv).noSelect(false)}}).hover(function(e){if(g.multisel&&e.shiftKey){t.toggleClass("trSelected")}},function(){});if($.browser.msie&&$.browser.version<7){t.hover(function(){t.addClass("trOver")},function(){t.removeClass("trOver")})}})},combo_flag:true,combo_resetIndex:function(selObj){if(this.combo_flag){selObj.selectedIndex=0}this.combo_flag=true},combo_doSelectAction:function(selObj){eval(selObj.options[selObj.selectedIndex].value);selObj.selectedIndex=0;this.combo_flag=false},addTitleToCell:function(tdDiv){if(p.addTitleToCell){var $span=$("<span />").css("display","none"),$div=(tdDiv instanceof jQuery)?tdDiv:$(tdDiv),div_w=$div.outerWidth(),span_w=0;$("body").children(":first").before($span);$span.html($div.html());$span.css("font-size",""+$div.css("font-size"));$span.css("padding-left",""+$div.css("padding-left"));span_w=$span.innerWidth();$span.remove();if(span_w>div_w){$div.attr("title",$div.text())}else{$div.removeAttr("title")}}},autoResizeColumn:function(obj){if(!p.dblClickResize){return }var n=$("div",this.cDrag).index(obj),$th=$("th:visible div:eq("+n+")",this.hDiv),ol=parseInt(obj.style.left),ow=$th.width(),nw=0,nl=0,$span=$("<span />");$("body").children(":first").before($span);$span.html($th.html());$span.css("font-size",""+$th.css("font-size"));$span.css("padding-left",""+$th.css("padding-left"));$span.css("padding-right",""+$th.css("padding-right"));nw=$span.width();$("tr",this.bDiv).each(function(){var $tdDiv=$("td:visible div:eq("+n+")",this),spanW=0;$span.html($tdDiv.html());$span.css("font-size",""+$tdDiv.css("font-size"));$span.css("padding-left",""+$tdDiv.css("padding-left"));$span.css("padding-right",""+$tdDiv.css("padding-right"));spanW=$span.width();nw=(spanW>nw)?spanW:nw});$span.remove();nw=(p.minWidth>nw)?p.minWidth:nw;nl=ol+(nw-ow);$("div:eq("+n+")",this.cDrag).css("left",nl);this.colresize={nw:nw,n:n};g.dragEnd()},getSelectRows:function(){var inputs=$(t).find("input[gridRowCheckBox="+p.gridClassName+"]:checked");var rows=[];inputs.each(function(){var index=$(this).attr("row");rows.push(p.datas.rows[index])});return rows},getPageRows:function(){var inputs=$(t).find("input[gridRowCheckBox="+p.gridClassName+"]");var rows=[];inputs.each(function(){var index=$(this).attr("row");rows.push(p.datas.rows[index])});return rows},resizeGrid:function(h){var _orgin=$(g.bDiv).height();var sub=_orgin-h;$(g.bDiv).css("height",h);var ssss=$("#"+p.vChangeParam.changeTar).height();$("#"+p.vChangeParam.changeTar).height(ssss+sub);$(g.block).css({height:h,marginBottom:(h*-1)})},resizeGridAuto:function(){if(p.parentId!=null){var userpagerH=0;p.usepager?userpagerH+=34:null;p.resizable?userpagerH+=11:null;g.resizeGrid($("#"+p.parentId).height()-userpagerH-24);$("#"+p.id).width($("#"+p.parentId).width())}else{$("#"+p.id).width(p.width);g.resizeGrid(p.height-24)}},resizeGridUpDown:function(upDown){var bDivHeight=$(g.bDiv).height();var userpagerH=0;var resizableH=0;p.usepager?userpagerH+=34:null;p.resizable?resizableH+=10:null;var stepArr=[0,($("#"+p.parentId).height()-userpagerH-resizableH-24)/100*35,$("#"+p.parentId).height()-resizableH-userpagerH-24];if(upDown=="up"){g.resizeGrid(stepArr[0]);if(p.vChange){var tt=$("#"+p.vChangeParam.changeTar);if(tt.length>0&&bDivHeight>0){var _tth=tt.height();tt.height(_tth+34)}p.addPDivHeight=true}if(p.usepager){$(g.pDiv).hide()}}else{if(upDown=="middle"){g.resizeGrid(stepArr[1]);$(g.pDiv).show();if(p.addPDivHeight){if(p.vChange){var tt=$("#"+p.vChangeParam.changeTar);if(tt.length>0){var _tth=tt.height();tt.height(_tth-34)}p.addPDivHeight=false}}}else{if(upDown=="down"){g.resizeGrid(stepArr[2]);$(g.pDiv).show()}else{return }}}p.UMD=upDown},pager:0};g.gDiv=document.createElement("div");g.mDiv=document.createElement("div");g.hDiv=document.createElement("div");g.bDiv=document.createElement("div");g.vDiv=document.createElement("div");g.rDiv=document.createElement("div");g.cDrag=document.createElement("div");g.block=document.createElement("div");g.nDiv=document.createElement("div");g.nBtn=document.createElement("div");g.iDiv=document.createElement("div");g.tDiv=document.createElement("div");g.sDiv=document.createElement("div");g.pDiv=document.createElement("div");if(!p.usepager){g.pDiv.style.display="none"}g.hTable=document.createElement("table");g.gDiv.className=p.dataTable?"flexigrid dataTable":"flexigrid";g.gDiv.id=p.id;if(p.width!="auto"){g.gDiv.style.width=p.width+"px"}if(p.parentId!=null){var userpagerH=0;p.usepager?userpagerH+=34:null;p.resizable?userpagerH+=11:null;p.height=$("#"+p.parentId).height()-userpagerH;if(p.vChange){var tt=$("#"+p.vChangeParam.changeTar);if(tt.length>0){tt.height(0)}}}if($.browser.msie){$(g.gDiv).addClass("ie")}if(p.novstripe){$(g.gDiv).addClass("novstripe")}$(t).before(g.gDiv);$(g.gDiv).append(t);g.hDiv.className="hDiv";g.hDiv.id=p.id+"_hDiv";$(t).before(g.hDiv);p.holewidth=$(g.hDiv).width();var cpi;if($.ctx){cpi=$.ctx._currentPathId}if(cpi&&!p.customId){p.customId=cpi}if(p.colModel){if($.ctx&&p.customize&&$.ctx.customize){var ugp=$.ctx.customize.grid_pref;if(p.customId&&ugp){ugp=$.parseJSON(ugp);ugp=ugp[p.customId];if(ugp&&!(ugp instanceof Array)){var _modes=[],_modesMap={},cs=[];for(var u in ugp){if(u===""){return }cs.push(u);$.each(p.colModel,function(j,n){if(n.name==u){_modesMap[_modes.length]=j;if(!(n.hide!==undefined&&n.isToggleHideShow!==undefined&&n.hide&&!n.isToggleHideShow)){n.hide=(ugp[u]===0||ugp[u]==="0")?true:false}_modes.push(n)}})}$.each(p.colModel,function(j,n){if(!cs.contains(n.name)){_modesMap[_modes.length]=j;_modes.push(n)}});p.colModel=_modes;p._modesMap=_modesMap}}else{ugp=null}}thead=document.createElement("thead");var tr=document.createElement("tr");for(var i=0;i<p.colModel.length;i++){var cm=p.colModel[i];var th=document.createElement("th");$(th).attr("axis","col"+i);if(cm){if(cm.display!=undefined){if(cm.type=="checkbox"){th.innerHTML="<input type='checkbox' onclick=\"getGridSetAllCheckBoxSelect123456(this,'"+p.gridClassName+"')\"/>";$(th).addClass("grid_checkbox")}else{if(cm.type=="radio"){th.innerHTML=""}else{th.innerHTML=cm.display}}}cm.sortType=cm.sortType?cm.sortType:"string";$(th).attr("colMode",cm.name);$(th).attr("sortType",cm.sortType);var _isToggleHideShow=cm.isToggleHideShow==undefined?true:cm.isToggleHideShow;if(cm.name=="id"||cm.name=="name"||cm.name=="title"){_isToggleHideShow=false}$(th).attr("isToggleHideShow",_isToggleHideShow);if(cm.name&&cm.sortable){$(th).attr("abbr",cm.sortname?cm.sortname:cm.name)}if(cm.align==undefined){cm.align="left"}th.align=cm.align;if(cm.width){var ddd=cm.width+"";if(ddd.indexOf("%")>-1){var _W=(p.holewidth-10)*parseInt(ddd)/100;cm.width=_W-10}$(th).attr("width",cm.width)}if($(cm).attr("hide")||cm.hide){th.hidden=true}if(cm.process){th.process=cm.process}}else{th.innerHTML="";$(th).attr("width",30)}$(tr).append(th)}$(thead).append(tr);$(t).prepend(thead)}g.hTable.cellPadding=0;g.hTable.cellSpacing=0;$(g.hDiv).append('<div class="hDivBox"></div>');$("div",g.hDiv).append(g.hTable);var thead=$("thead:first",t).get(0);if(thead){$(g.hTable).append(thead)}thead=null;if(!p.colmodel){var ci=0}$("thead tr:first th",g.hDiv).each(function(){var thdiv=document.createElement("div");if($(this).attr("abbr")){$(this).click(function(e){if(!$(this).hasClass("thOver")){return false}var obj=(e.target||e.srcElement);if(obj.href||obj.type){return true}g.changeSort(this)});if($(this).attr("abbr")==p.sortname){this.className="sorted";thdiv.className="s"+p.sortorder}}if(this.hidden){$(this).hide()}if(!p.colmodel){$(this).attr("axis","col"+ci++)}$(thdiv).css({textAlign:this.align,width:this.width+"px"});thdiv.innerHTML=this.innerHTML;$(this).empty().append(thdiv).removeAttr("width").mousedown(function(e){g.dragStart("colMove",e,this)}).hover(function(){if(!g.colresize&&!$(this).hasClass("thMove")&&!g.colCopy){$(this).addClass("thOver")}if($(this).attr("abbr")!=p.sortname&&!g.colCopy&&!g.colresize&&$(this).attr("abbr")){$("div",this).addClass("s"+p.sortorder)}else{if($(this).attr("abbr")==p.sortname&&!g.colCopy&&!g.colresize&&$(this).attr("abbr")){var no=(p.sortorder=="asc")?"desc":"asc";$("div",this).removeClass("s"+p.sortorder).addClass("s"+no)}}if(g.colCopy){var n=$("th",g.hDiv).index(this);if(n==g.dcoln){return false}if(n<g.dcoln){$(this).append(g.cdropleft)}else{$(this).append(g.cdropright)}g.dcolt=n}else{if(!g.colresize){var nv=$("th:visible",g.hDiv).index(this);var onl=parseInt($("div:eq("+nv+")",g.cDrag).css("left"));var nw=jQuery(g.nBtn).outerWidth();var nl=onl-nw+Math.floor(p.cgwidth/2);$(g.nDiv).hide();$(g.nBtn).hide();$(g.nBtn).css({left:nl,top:g.hDiv.offsetTop}).show();var ndw=parseInt($(g.nDiv).width());$(g.nDiv).css({top:g.bDiv.offsetTop});if((nl+ndw)>$(g.gDiv).width()){$(g.nDiv).css("left",onl-ndw+1)}else{$(g.nDiv).css("left",nl)}if($(this).hasClass("sorted")){$(g.nBtn).addClass("srtd")}else{$(g.nBtn).removeClass("srtd")}}}},function(){$(this).removeClass("thOver");if($(this).attr("abbr")!=p.sortname){$("div",this).removeClass("s"+p.sortorder)}else{if($(this).attr("abbr")==p.sortname){var no=(p.sortorder=="asc")?"desc":"asc";$("div",this).addClass("s"+p.sortorder).removeClass("s"+no)}}if(g.colCopy){$(g.cdropleft).remove();$(g.cdropright).remove();g.dcolt=null}})});g.bDiv.className="bDiv";g.bDiv.id=p.gridClassName+"_bDiv";$(t).before(g.bDiv);if(p.hChange){var pObj=$(g.gDiv).parent();pObj.css({overflow:"hidden"});p.height=pObj.height()-p.hChangeParam.subHeight}if(p.height<50){p.height="auto"}$(g.bDiv).css({height:(p.height=="auto")?"auto":p.height-24+"px"}).scroll(function(e){g.scroll()}).append(t);if(p.height=="auto"){$("table",g.bDiv).addClass("autoht")}g.addRowProp();var cdcol=$("thead tr:first th:first",g.hDiv).get(0);if(cdcol!=null){g.cDrag.className="cDrag";g.cdpad=0;g.cdpad+=(isNaN(parseInt($("div",cdcol).css("borderLeftWidth")))?0:parseInt($("div",cdcol).css("borderLeftWidth")));g.cdpad+=(isNaN(parseInt($("div",cdcol).css("borderRightWidth")))?0:parseInt($("div",cdcol).css("borderRightWidth")));g.cdpad+=(isNaN(parseInt($("div",cdcol).css("paddingLeft")))?0:parseInt($("div",cdcol).css("paddingLeft")));g.cdpad+=(isNaN(parseInt($("div",cdcol).css("paddingRight")))?0:parseInt($("div",cdcol).css("paddingRight")));g.cdpad+=(isNaN(parseInt($(cdcol).css("borderLeftWidth")))?0:parseInt($(cdcol).css("borderLeftWidth")));g.cdpad+=(isNaN(parseInt($(cdcol).css("borderRightWidth")))?0:parseInt($(cdcol).css("borderRightWidth")));g.cdpad+=(isNaN(parseInt($(cdcol).css("paddingLeft")))?0:parseInt($(cdcol).css("paddingLeft")));g.cdpad+=(isNaN(parseInt($(cdcol).css("paddingRight")))?0:parseInt($(cdcol).css("paddingRight")));$(g.bDiv).before(g.cDrag);var cdheight=$(g.bDiv).height();var hdheight=$(g.hDiv).height();$(g.cDrag).css({top:-hdheight+"px"});$("thead tr:first th",g.hDiv).each(function(){var cgDiv=document.createElement("div");$(g.cDrag).append(cgDiv);if(!p.cgwidth){p.cgwidth=$(cgDiv).width()}$(cgDiv).css({height:cdheight+hdheight}).mousedown(function(e){g.dragStart("colresize",e,this)}).dblclick(function(e){g.autoResizeColumn(this)});if($.browser.msie&&$.browser.version<7){g.fixHeight($(g.gDiv).height());$(cgDiv).hover(function(){g.fixHeight();$(this).addClass("dragging")},function(){if(!g.colresize){$(this).removeClass("dragging")}})}})}if(p.striped){$("tbody tr:odd",g.bDiv).addClass("erow")}if(p.resizable&&p.height!="auto"){g.vDiv.className="vGrip";g.vDiv.id=p.id+"vGrip";$(g.vDiv).mousedown(function(e){g.dragStart("vresize",e)});if(p.slideToggleBtn){var _html="";_html+="";$(g.vDiv).html("<div class='vGrip_line'><table align='center' border='0' cellpadding='0' cellspacing='0' height='7'><tr><td align='center'><span class='slideUpBtn spiretBarHidden4'><em></em></span><span class='slideDownBtn spiretBarHidden3' style='border-left:0;'><em></em></span></td></tr></table></div>")}else{$(g.vDiv).html("<span id='dragBtn'></span>")}$(g.bDiv).after(g.vDiv);if(p.slideToggleBtn){$("#"+p.id+"vGrip .slideUpBtn").click(p.slideToggleUpHandle);$("#"+p.id+"vGrip .slideDownBtn").click(p.slideToggleDownHandle)}}if(p.resizable&&p.width!="auto"&&!p.nohresize){g.rDiv.className="hGrip";$(g.rDiv).mousedown(function(e){g.dragStart("vresize",e,true)}).html("<span></span>").css("height",$(g.gDiv).height());if($.browser.msie&&$.browser.version<7){$(g.rDiv).hover(function(){$(this).addClass("hgOver")},function(){$(this).removeClass("hgOver")})}$(g.gDiv).append(g.rDiv)}if(p.usepager){g.pDiv.className="pDiv";g.pDiv.id=p.id+"_pDiv";g.pDiv.innerHTML='<div class="pDiv2 common_over_page align_right" style="padding-top:2px;padding-bottom:2px;"></div>';$(g.bDiv).after(g.pDiv);var html='<a   class="pFirst pButton common_over_page_btn"><span class="pageFirst"></span></a><a  class="pPrev pButton common_over_page_btn"><span class="pagePrev"></span></a><span class="pcontrol margin_l_10">'+p.pagetext+'<input type="text" size="4" value="1" class="common_over_page_txtbox"/>'+p.outof+'</span><a  class="pNext pButton common_over_page_btn"><span class="pageNext"></span></a><a  class="pLast pButton common_over_page_btn"><span class="pageLast"></span></a><a  class="common_over_page_btn" style="display:none"><span class="pReload pButton "><span class="ico16 refresh_16 margin_lr_5">&nbsp;</span></span></a><a href="javascript:void(0)" id="grid_go" class="common_button common_button_gray margin_lr_10">go</a><div class="pGroup"><span class="pPageStat"></span></div>';$("div",g.pDiv).html(html);$(".pReload",g.pDiv).click(function(){g.populate()});$(".pFirst",g.pDiv).click(function(){g.changePage("first")});$(".pPrev",g.pDiv).click(function(){g.changePage("prev")});$(".pNext",g.pDiv).click(function(){g.changePage("next")});$(".pLast",g.pDiv).click(function(){g.changePage("last")});$(".pcontrol input",g.pDiv).keydown(function(e){if(e.keyCode==13){g.changePage("input")}});$("#grid_go").click(function(){g.changePage("input",true)});if($.browser.msie&&$.browser.version<7){$(".pButton",g.pDiv).hover(function(){$(this).addClass("pBtnOver")},function(){$(this).removeClass("pBtnOver")})}if(p.useRpInput){$(".pDiv2",g.pDiv).prepend($.i18n("validate.grid.over_page.js")+"<input type='text' id='rpInputChange' name='rp' maxlength='3' value='"+p.rp+"' class='common_over_page_txtbox' style='width:30px;'/><span class='margin_r_10 total'>"+$.i18n("validate.grid.over_page2.js")+"0"+$.i18n("validate.grid.over_page3.js")+"</span><span class='total_page'>1</span>");$("#rpInputChange",g.pDiv).blur(function(){var _val=$(this).val();var _nval=_val.replace(/\D/g,"");if(_nval<=0){_nval=p.rp}$(this).val(_nval);$("#grid_go").click()})}if(p.searchitems){$(".pDiv2",g.pDiv).prepend("<div class='pGroup'> <div class='pSearch pButton'><span></span></div> </div>  <div class='btnseparator'></div>");$(".pSearch",g.pDiv).click(function(){$(g.sDiv).slideToggle("fast",function(){$(".sDiv:visible input:first",g.gDiv).trigger("focus")})});g.sDiv.className="sDiv";var sitems=p.searchitems;var sopt="",sel="";for(var s=0;s<sitems.length;s++){if(p.qtype==""&&sitems[s].isdefault==true){p.qtype=sitems[s].name;sel='selected="selected"'}else{sel=""}sopt+="<option value='"+sitems[s].name+"' "+sel+" >"+sitems[s].display+"&nbsp;&nbsp;</option>"}if(p.qtype==""){p.qtype=sitems[0].name}$(g.sDiv).append("<div class='sDiv2'>"+p.findtext+" <input type='text' value='"+p.query+"' size='30' name='q' class='qsbox' />  <select name='qtype'>"+sopt+"</select></div>");$("input[name=q]",g.sDiv).keydown(function(e){if(e.keyCode==13){g.doSearch()}});$("select[name=qtype]",g.sDiv).keydown(function(e){if(e.keyCode==13){g.doSearch()}});$("input[value=Clear]",g.sDiv).click(function(){$("input[name=q]",g.sDiv).val("");p.query="";g.doSearch()});$(g.bDiv).after(g.sDiv)}}$(g.pDiv,g.sDiv).append("<div style='clear:both'></div>");if(p.title){g.mDiv.className="mDiv";g.mDiv.innerHTML='<div class="ftitle">'+p.title+"</div>";$(g.gDiv).prepend(g.mDiv);if(p.showTableToggleBtn){$(g.mDiv).append('<div class="ptogtitle" title="Minimize/Maximize Table"><span></span></div>');$("div.ptogtitle",g.mDiv).click(function(){$(g.gDiv).toggleClass("hideBody");$(this).toggleClass("vsble")})}}g.cdropleft=document.createElement("span");g.cdropleft.className="cdropleft";g.cdropright=document.createElement("span");g.cdropright.className="cdropright";g.block.className="gBlock";var gh=$(g.bDiv).height();var gtop=g.bDiv.offsetTop;$(g.block).css({width:g.bDiv.style.width,height:gh,position:"relative",marginBottom:(gh*-1),zIndex:1,top:gtop,left:"0px"});$(g.block).fadeTo(0,p.blockOpacity);if($("th",g.hDiv).length){g.nDiv.className="nDiv";g.nDiv.innerHTML="<table cellpadding='0' cellspacing='0'><tbody></tbody></table>";$(g.nDiv).css({marginBottom:(gh*-1),display:"none",top:gtop}).noSelect();var cn=0;$("th div",g.hDiv).each(function(){var kcol=$("th[axis='col"+cn+"']",g.hDiv)[0];var chk='checked="checked"';if(kcol.style.display=="none"){chk=""}var _parent=$(this).parent();var ishidden="";var _isToggleHideShow=_parent.attr("isToggleHideShow");if(_isToggleHideShow=="false"){ishidden="none"}$("tbody",g.nDiv).append('<tr style="display:'+ishidden+'"><td class="ndcol1"><input type="checkbox" '+chk+' class="togCol" value="'+cn+'" /></td><td class="ndcol2">'+this.innerHTML+"</td></tr>");cn++});if($.browser.msie&&$.browser.version<7){$("tr",g.nDiv).hover(function(){$(this).addClass("ndcolover")},function(){$(this).removeClass("ndcolover")})}$("td.ndcol2",g.nDiv).click(function(){if($("input:checked",g.nDiv).length<=p.minColToggle&&$(this).prev().find("input")[0].checked){return false}return g.toggleCol($(this).prev().find("input").val())});$("input.togCol",g.nDiv).click(function(){if($("input:checked",g.nDiv).length<p.minColToggle&&this.checked==false){return false}$(this).parent().next().trigger("click")});$(g.gDiv).prepend(g.nDiv);$(g.nBtn).addClass("nBtn").html("<div></div>").attr("title",$.i18n("grid.togglefield.js")).click(function(){$(g.nBtn).addClass("set_col");$(g.nDiv).toggle();return true});if(p.showToggleBtn){$(g.gDiv).prepend(g.nBtn)}}$(g.iDiv).addClass("iDiv").css({display:"none"});$(g.bDiv).append(g.iDiv);$(g.bDiv).hover(function(){$(g.nDiv).hide();$(g.nBtn).hide().removeClass("set_col")},function(){if(g.multisel){g.multisel=false}});$(g.gDiv).hover(function(){},function(){$(g.nDiv).hide();$(g.nBtn).hide()});$(document).mousemove(function(e){g.dragMove(e)}).mouseup(function(e){g.dragEnd()}).hover(function(){},function(){g.dragEnd()});if($.browser.msie&&$.browser.version<7){$(".hDiv,.bDiv,.mDiv,.pDiv,.vGrip,.tDiv, .sDiv",g.gDiv).css({width:"100%"});$(g.gDiv).addClass("ie6");if(p.width!="auto"){$(g.gDiv).addClass("ie6fullwidthbug")}}g.rePosDrag();g.fixHeight();t.p=p;t.grid=g;$(t).attrObj("_grid",g);if(p.managerName){$("head").append("<script src='"+_ctxPath+"/ajax.do?managerName="+p.managerName+"' type='text/javascript'><\/script>")}if(p.datas&&p.autoload){g.populate()}initFlag=false;if($._autofill){var $af=$._autofill,$afg=$af.filllists;if($afg&&$afg[t.id]){$afg[t.id].rows=$afg[t.id].data;g.addData($afg[t.id]);$afg[t.id]=null}}return t};var docloaded=false;$(document).ready(function(){docloaded=true});$.fn.ajaxgrid=function(p){return $.addFlex(this[0],p)};$.fn.resizeGrid=function(h){return };$.fn.getSelectCheckbox=function(){var cNstr=this[0].className;var cNstrstr=this[0].className+"_bDiv";return $("."+cNstr).find("input[gridRowCheckBox="+cNstr+"]:checked")};$.fn.flexReload=function(p){return this.each(function(){if(this.grid&&this.p.managerName){this.grid.populate()}})};$.fn.flexOptions=function(p){return this.each(function(){if(this.grid){$.extend(this.p,p)}})};$.fn.flexToggleCol=function(cid,visible){return this.each(function(){if(this.grid){this.grid.toggleCol(cid,visible)}})};$.fn.ajaxgridLoad=function(para){return this.each(function(){if(this.grid){this.grid.populate(para)}})};$.fn.ajaxgridData=function(data){return this.each(function(){if(this.grid){this.grid.addData(data)}})};$.fn.noSelect=function(p){var prevent=(p==null)?true:p;if(prevent){return this.each(function(){if($.browser.msie||$.browser.safari){$(this).bind("selectstart",function(){return false})}else{if($.browser.mozilla){$(this).css("MozUserSelect","none");$("body").trigger("focus")}else{if($.browser.opera){$(this).bind("mousedown",function(){return false})}else{$(this).attr("unselectable","on")}}}})}else{return this.each(function(){if($.browser.msie||$.browser.safari){$(this).unbind("selectstart")}else{if($.browser.mozilla){$(this).css("MozUserSelect","inherit")}else{if($.browser.opera){$(this).unbind("mousedown")}else{$(this).removeAttr("unselectable","on")}}}})}};$.fn.flexSearch=function(p){return this.each(function(){if(this.grid&&this.p.searchitems){this.grid.doSearch()}})}})(jQuery);function getGridSetAllCheckBoxSelect123456(B,A){if($(B).prop("checked")){$(".flexigrid").find("input[gridRowCheckBox="+A+"]").not("input[type=checkbox][disabled]").prop("checked",true)}else{$(".flexigrid").find("input[gridRowCheckBox="+A+"]").prop("checked",false)}if(typeof (gridSelectAllPersonalFunction)=="function"){gridSelectAllPersonalFunction($(B).prop("checked"))}};
function MxtLayout(A){var C={id:A.id,spritHeight:A.spritHeight==null?7:A.spritHeight,borderWidth:A.borderWidth==null?1:A.borderWidth,northArea:A.northArea,southArea:A.southArea,eastArea:A.eastArea,westArea:A.westArea,centerArea:A.centerArea,successFn:A.successFn,setCallFun:A.setCallFun==null?function(){}:A.setCallFun,moveCallFun:A.moveCallFun==null?function(){}:A.moveCallFun,isFixLayout:(A.isFixLayout==null||A.isFixLayout==undefined)?true:A.isFixLayout,spiretBarN:function(){if(A.northArea){if(A.northArea.spiretBar){if(A.northArea.spiretBar.show){return A.northArea.spiretBar}}}return false}(),spiretBarS:function(){if(A.southArea){if(A.southArea.spiretBar){if(A.southArea.spiretBar.show){return A.southArea.spiretBar}}}return false}(),spiretBarE:function(){if(A.eastArea){if(A.eastArea.spiretBar){if(A.eastArea.spiretBar.show){return A.eastArea.spiretBar}}}return false}(),spiretBarW:function(){if(A.westArea){if(A.westArea.spiretBar){if(A.westArea.spiretBar.show){return A.westArea.spiretBar}}}return false}()};var B={init:function(){B.height=B.main.height();B.width=B.main.width();B._100=B.width;B._m_height=B.height-C.nHeight-C.sHeight-C.spritHeight*B._h_spritSize;B._m_top=C.nHeight+C.spritHeight*(C.northFlag==2?1:0);B._c_width=B._100-C.spritHeight*B._w_spritSize-C.eWidth-C.wWidth;B._c_left=C.wWidth+C.spritHeight*(C.westFlag==2?1:0);if(B.n){if(typeof ($("#northSp_"+C.id))!="undefined"){$("#northSp_"+C.id).remove()}var F="";var E=C.nHeight;var D=C.northBorder?1:0;if(C.northFlag==2){F="<span id='northSp_"+C.id+"' class='spiret spiret_T align_center' style='cursor:row-resize;z-index:3;width:"+B.width+"px;height:"+C.spritHeight+"px;left:0px;top:"+(C.nHeight)+"px;'><table align='center' border='0' cellpadding='0' cellspacing='0' height='100%' style='display:"+(C.spiretBarN?"table":"none")+";'><tr><td align='center'><span class='spiretBarHidden4'><em></em></span><span class='spiretBarHidden3'><em></em></span></td></tr></table></span>";E=C.northArea.height}if(B.n.attr("style")==undefined){B.n.css({height:(E-C.borderWidth*(C.northBorder?2:0))+"px"})}B.n.css({left:"0px",top:"0px","border-width":D+"px",width:B._100-C.borderWidth*(C.northBorder?2:0)+"px","z-index":"1"}).show().after(F);if(C.northFlag==2){B.northSp=$("#northSp_"+C.id);B.northSp.mousedown(function(G){if(G.target==this){B.dragStart("h",G,this,"north")}});if(C.spiretBarN.show){B.northSpBarB=$("#northSp_"+C.id+" .spiretBarHidden3");B.northSpBarT=$("#northSp_"+C.id+" .spiretBarHidden4");B.northSpBarT.css({"border-right":"0"});if(C.spiretBarN.type=="1"){B.northSpBarB.hide();B.northSpBarT.css({"border-right":""})}B.northSpBarB.click(function(){if(C.spiretBarN.type=="1"){B.northSpBarT.show();B.northSpBarB.hide()}C.spiretBarN.handlerB()});B.northSpBarT.click(function(){if(C.spiretBarN.type=="1"){B.northSpBarT.hide();B.northSpBarB.show()}C.spiretBarN.handlerT()})}}}if(B.e){if(typeof ($("#eastSp_"+C.id))!="undefined"){$("#eastSp_"+C.id).remove()}var F="";var D=C.eastBorder?1:0;if(C.eastFlag==2){F="<span class='spiret spiret_R' id='eastSp_"+C.id+"' style='cursor:e-resize;z-index:3;width:"+C.spritHeight+"px;height:"+(B._m_height+C.borderWidth*(C.eastBorder?2:0))+"px;left:"+(B.width-C.eWidth-C.spritHeight)+"px;top:"+(B._m_top)+"px;'><table valign='middle' border='0' cellpadding='0' cellspacing='0' width='100%' style='display:"+(C.spiretBarE?"table":"none")+";margin-top:"+((B._m_height-C.borderWidth*(C.eastBorder?2:0))/2-25)+"px'><tr><td><span class='spiretBarHidden'><em></em></span><span class='spiretBarHidden2'><em></em></span></td></tr></table></span>"}B.e.css({height:(B._m_height-C.borderWidth*(C.eastBorder?2:0))+"px",left:(B.width-C.eWidth)+"px",top:(B._m_top)+"px",width:(C.eWidth-C.borderWidth*(C.eastBorder?2:0))+"px","border-width":D+"px","z-index":"1"}).show().after(F);B.eastSp=$("#eastSp_"+C.id);B.eastSp.mousedown(function(G){if(G.target==this){B.dragStart("h",G,this,"east")}});if(C.spiretBarE.show){B.eastSpBarR=$("#eastSp_"+C.id+" .spiretBarHidden");B.eastSpBarL=$("#eastSp_"+C.id+" .spiretBarHidden2");if(C.spiretBarE.showItem=="L"){B.eastSpBarR.hide()}else{B.eastSpBarL.hide()}B.eastSpBarR.click(function(){B.eastSpBarR.hide();B.eastSpBarL.show();C.spiretBarE.handlerR()});B.eastSpBarL.click(function(){B.eastSpBarL.hide();B.eastSpBarR.show();C.spiretBarE.handlerL()})}}if(B.c){B.c.css({height:(B._m_height-C.borderWidth*(C.centerBorder?2:0))+"px",left:B._c_left+"px",top:(B._m_top)+"px",width:(B._c_width-C.borderWidth*(C.centerBorder?2:0))+"px","border-width":C.centerBorder?1:0+"px","z-index":"1"}).show()}if(B.w){if(typeof ($("#westSp_"+C.id))!="undefined"){$("#westSp_"+C.id).remove()}var F="";var D=C.westBorder?1:0;if(C.westFlag==2){F="<span class='spiret spiret_L' id='westSp_"+C.id+"' style='cursor:e-resize;z-index:3;width:"+C.spritHeight+"px;height:"+(B._m_height+C.borderWidth*(C.westBorder?2:0))+"px;left:"+(C.wWidth)+"px;top:"+(B._m_top)+"px;'><table border='0' cellpadding='0' cellspacing='0' width='100%' style='display:"+(C.spiretBarW?"table":"none")+";margin-top:"+((B._m_height-C.borderWidth*(C.eastBorder?2:0))/2-25)+"px'><tr><td valign='middle'><span class='spiretBarHidden hidden'><em></em></span><span class='spiretBarHidden2'><em></em></span></td></tr></table></span>"}B.w.css({height:(B._m_height-C.borderWidth*(C.westBorder?2:0))+"px",left:"0px",top:(B._m_top)+"px",width:(C.wWidth-C.borderWidth*(C.westBorder?2:0))+"px","border-width":D+"px","z-index":"1"}).show().after(F);B.westSp=$("#westSp_"+C.id);B.westSp.mousedown(function(G){if(G.target==this){B.dragStart("h",G,this,"west")}});if(C.spiretBarW.show){B.westSpBarR=$("#westSp_"+C.id+" .spiretBarHidden");B.westSpBarL=$("#westSp_"+C.id+" .spiretBarHidden2");B.westSpBarR.click(function(){B.westSpBarL.show();B.westSpBarR.hide();C.spiretBarW.handlerR()});B.westSpBarL.click(function(){B.westSpBarR.show();B.westSpBarL.hide();C.spiretBarW.handlerL()})}}if(B.s){if(typeof ($("#southSp_"+C.id))!="undefined"){$("#southSp_"+C.id).remove()}var F="";var D=C.southBorder?1:0;if(C.southFlag==2){F="<span id='southSp_"+C.id+"' upordown='down' class='spiret spiret_T' style='cursor:row-resize;z-index:3;width:"+B.width+"px;height:"+C.spritHeight+"px;left:0px;top:"+(B.height-C.sHeight-C.spritHeight)+"px;'><table align='center' border='0' cellpadding='0' cellspacing='0' height='100%' style='display:"+(C.spiretBarS?"table":"none")+";'><tr><td align='center'><span class='spiretBarHidden4'><em></em></span><span class='spiretBarHidden3'><em></em></span></td></tr></table></span>"}B.s.css({height:(C.sHeight-C.borderWidth*(C.southBorder?2:0))+"px",left:"0px",top:(B.height-C.sHeight)+"px",width:B._100+"px","border-width":D+"px","z-index":"1"}).show().after(F);B.southSp=$("#southSp_"+C.id);if(C.southSpritBar!=true){B.southSp.mousedown(function(G){if(G.target==this){B.dragStart("h",G,this,"south")}})}if(C.spiretBarS.show){B.southSpBarB=$("#southSp_"+C.id+" .spiretBarHidden3");B.southSpBarT=$("#southSp_"+C.id+" .spiretBarHidden4");B.southSpBarT.css({"border-right":"0"});if(C.spiretBarS.type=="1"){B.southSpBarT.hide();B.southSpBarT.css({"border-right":""})}B.southSpBarB.click(function(){if(C.spiretBarS.type=="1"){B.southSpBarB.hide();B.southSpBarT.show()}C.spiretBarS.handlerB()});B.southSpBarT.click(function(){if(C.spiretBarS.type=="1"){B.southSpBarT.hide();B.southSpBarB.show()}C.spiretBarS.handlerT()})}}},fixLayout:function(E,D,H){var F=false;if(H=="north"){var G=B.n.height()+C.borderWidth*(C.northBorder?2:0)+D;C.northArea.minHeight=C.northArea.minHeight==null?20:C.northArea.minHeight;C.northArea.maxHeight=C.northArea.maxHeight==null?100:C.northArea.maxHeight;if(G<C.northArea.minHeight){C.nHeight=C.northArea.minHeight;F=true}else{if(G>C.northArea.maxHeight){C.nHeight=C.northArea.maxHeight;F=true}else{C.nHeight=G}}B._m_height=B.height-C.nHeight-C.sHeight-C.spritHeight*B._h_spritSize;B._m_top=C.nHeight+C.spritHeight*(C.northFlag==2?1:0);B.n.css({height:(C.nHeight-C.borderWidth*(C.northBorder?2:0))+"px"});if(F){B.northSp.css({top:C.nHeight+"px"})}if(B.e!=null){B.e.css({height:B._m_height-C.borderWidth*(C.eastBorder?2:0),top:B._m_top});B.eastSp.css({height:(B._m_height+C.borderWidth*(C.eastBorder?2:0))+"px",top:B._m_top})}if(B.c!=null){B.c.css({height:B._m_height-C.borderWidth*(C.centerBorder?2:0),top:B._m_top})}if(B.w!=null){B.w.css({height:B._m_height-C.borderWidth*(C.westBorder?2:0),top:B._m_top});B.westSp.css({height:(B._m_height+C.borderWidth*(C.westBorder?2:0))+"px",top:B._m_top})}}else{if(H=="south"){var G=B.s.height()+C.borderWidth*(C.southBorder?2:0)-D;C.southArea.minHeight=C.southArea.minHeight==null?20:C.southArea.minHeight;C.southArea.maxHeight=C.southArea.maxHeight==null?100:C.southArea.maxHeight;if(G<C.southArea.minHeight){C.sHeight=C.southArea.minHeight;F=true}else{if(G>C.southArea.maxHeight){C.sHeight=C.southArea.maxHeight;F=true}else{C.sHeight=G}}B._m_height=B.height-C.nHeight-C.sHeight-C.spritHeight*B._h_spritSize;B._m_top=C.nHeight+C.spritHeight*(C.northFlag==2?1:0);B.s.css({height:(C.sHeight-C.borderWidth*(C.southBorder?2:0))+"px",top:(B.height-C.sHeight)+"px"});if(F){B.southSp.css({top:(B.height-C.sHeight-C.spritHeight)+"px"})}if(B.e!=null){B.e.css({height:(B._m_height-C.borderWidth*(C.eastBorder?2:0))+"px",top:B._m_top+"px"});B.eastSp.css({height:(B._m_height+C.borderWidth*(C.eastBorder?2:0))+"px",top:B._m_top+"px"})}if(B.c!=null){B.c.css({height:B._m_height-C.borderWidth*(C.centerBorder?2:0),top:B._m_top})}if(B.w!=null){B.w.css({height:B._m_height-C.borderWidth*(C.westBorder?2:0),top:B._m_top});B.westSp.css({height:(B._m_height+C.borderWidth*(C.westBorder?2:0))+"px",top:B._m_top})}}else{if(H=="west"){var G=B.w.width()+C.borderWidth*(C.westBorder?2:0)+E;C.westArea.minWidth=C.westArea.minWidth==null?20:C.westArea.minWidth;C.westArea.maxWidth=C.westArea.maxWidth==null?250:C.westArea.maxWidth;if(G<C.westArea.minWidth){C.wWidth=C.westArea.minWidth;F=true}else{if(G>C.westArea.maxWidth){C.wWidth=C.westArea.maxWidth;F=true}else{C.wWidth=G}}B._c_width=B._100-C.spritHeight*B._w_spritSize-C.eWidth-C.wWidth;B._c_left=C.wWidth+C.spritHeight*(C.westFlag==2?1:0);B.w.css({width:C.wWidth-C.borderWidth*(C.westBorder?2:0)});if(F){B.westSp.css({left:C.wWidth+"px"})}B.c.css({width:(B._c_width-C.borderWidth*(C.centerBorder?2:0))+"px",left:B._c_left+"px"})}else{if(H=="east"){var G=B.e.width()+C.borderWidth*(C.eastBorder?2:0)-E;C.eastArea.minWidth=C.eastArea.minWidth==null?20:C.eastArea.minWidth;C.eastArea.maxWidth=C.eastArea.maxWidth==null?250:C.eastArea.maxWidth;if(G<C.eastArea.minWidth){C.eWidth=C.eastArea.minWidth;F=true}else{if(G>C.eastArea.maxWidth){C.eWidth=C.eastArea.maxWidth;F=true}else{C.eWidth=G}}B._c_width=B._100-C.spritHeight*B._w_spritSize-C.eWidth-C.wWidth;B._c_left=C.wWidth+C.spritHeight*(C.westFlag==2?1:0);B.e.css({width:C.eWidth-C.borderWidth*(C.eastBorder?2:0),left:(B.width-C.eWidth)+"px"});if(F){B.eastSp.css({left:(B.width-C.eWidth-C.spritHeight)+"px"})}B.c.css({width:(B._c_width-C.borderWidth*(C.centerBorder?2:0))+"px",left:B._c_left+"px"})}}}}},dragStart:function(G,F,E,H){if(G=="h"){var D=false;if(E){D=true;$("body").css("cursor","row-resize")}C.move=E;this.hresize={t:parseInt(E.style.top),l:parseInt(E.style.left),sy:F.pageY,sx:F.pageX,hgo:D,direct:H}}$("<div class='layout_mask'></div>").css({position:"absolute",background:"#ffffff",width:$("#"+C.id).width()+"px",height:$("#"+C.id).height()+"px","z-index":2,top:0,left:0,"-moz-opacity":0,opacity:0}).prependTo($("body"));$("body").noSelect()},dragMove:function(G){if(this.hresize){var E=this.hresize;var H=G.pageY;var F=H-E.sy;if(E.hgo){var D=G.pageX;this.hresize.xdiff=D-E.sx;this.hresize.ydiff=H-E.sy;if(this.hresize.direct=="north"||this.hresize.direct=="south"){$(C.move).css({top:E.t+this.hresize.ydiff})}else{$(C.move).css({left:E.l+this.hresize.xdiff})}}E=null}},dragEnd:function(){if(this.hresize){this.fixLayout(this.hresize.xdiff,this.hresize.ydiff,this.hresize.direct);C.setCallFun({offsetX:this.hresize.xdiff,offsetY:this.hresize.ydiff});this.hresize=false}C.move=null;var D=$(".layout_mask");if(D.size()>0){D.remove()}$("body").css("cursor","default");$("body").noSelect(false)}};if(C.isFixLayout){$("html").css({height:"100%",overflow:"hidden"});$("body").css({height:"100%",overflow:"hidden",padding:"0px",margin:"0px",border:"0px"})}B.main=$("#"+C.id);B.main.css({overflow:"hidden",position:"relative",padding:"0px",margin:"0px",border:"0px"});if(C.isFixLayout){B.main.css({height:"100%"})}B.n=C.northArea==null?null:$("#"+C.northArea.id,B.main);B.e=C.eastArea==null?null:$("#"+C.eastArea.id,B.main);B.c=C.centerArea==null?null:$("#"+C.centerArea.id,B.main);B.w=C.westArea==null?null:$("#"+C.westArea.id,B.main);B.s=C.southArea==null?null:$("#"+C.southArea.id,B.main);B._h_spritSize=0;C.northFlag=0;C.nHeight=0;C.northBorder=false;if(C.northArea!=null){C.nHeight=C.northArea.height==null?50:C.northArea.height;C.northFlag=1;if(C.northArea.sprit==null||C.northArea.sprit==true){B._h_spritSize+=1;C.northFlag=2}if(C.northArea.border==null||C.northArea.border==true){C.northBorder=true}}C.southFlag=0;C.sHeight=0;C.southBorder=false;if(C.southArea!=null){C.sHeight=C.southArea.height==null?50:C.southArea.height;C.southFlag=1;if(C.southArea.sprit==null||C.southArea.sprit==true){B._h_spritSize+=1;C.southFlag=2}if(C.southArea.border==null||C.southArea.border==true){C.southBorder=true}}B._w_spritSize=0;C.eastFlag=0;C.eWidth=0;C.eastBorder=false;if(C.eastArea!=null){C.eWidth=C.eastArea.width==null?200:C.eastArea.width;C.eastFlag=1;if(C.eastArea.sprit==null||C.eastArea.sprit==true){B._w_spritSize+=1;C.eastFlag=2}if(C.eastArea.border==null||C.eastArea.border==true){C.eastBorder=true}}C.westFlag=0;C.wWidth=0;C.westBorder=false;if(C.westArea!=null){C.wWidth=C.westArea.width==null?200:C.westArea.width;C.westFlag=1;if(C.westArea.sprit==null||C.westArea.sprit==true){B._w_spritSize+=1;C.westFlag=2}if(C.westArea.border==null||C.westArea.border==true){C.westBorder=true}}C.centerBorder=false;if(C.centerArea!=null){if(C.centerArea.border!=null&&C.centerArea.border==true){C.centerBorder=true}}B.init();if(C.successFn!=null){C.successFn()}this.params=C;this.methods=B;$(document).mousemove(function(D){B.dragMove(D)}).mouseup(function(D){B.dragEnd()}).hover(function(){},function(){B.dragEnd()});$(window).resize(function(){B.init()})}MxtLayout.prototype.setEast=function(C){if(C==undefined){return }var A=this.params;var F=this.methods;if(F.e){var K=parseInt(F.e.width());var D=parseInt(F.e.css("left"));var B=K-C;F.e.width(C);A.eWidth=C;var J=D+B;F.e.css({left:J})}if(F.eastSp){var I=parseInt(F.eastSp.css("left"));var H=I+B;F.eastSp.css({left:H})}if(F.c){var E=parseInt(F.c.width());var G=E+B;F.c.width(G)}A.setCallFun({offsetX:B})};MxtLayout.prototype.setWest=function(D){if(D==undefined){return }var A=this.params;var F=this.methods;if(F.w){this._clearScroll({obj:F.w,mode:"hidden"});var J=parseInt(F.w.width());var B=J-D;F.w.width(D);A.wWidth=D;this._clearScroll({obj:F.w,mode:"show"})}if(F.westSp){var C=parseInt(F.westSp.css("left"));var H=C-B;F.westSp.css({left:H})}if(F.c){var G=parseInt(F.c.width());var I=G+B;var K=parseInt(F.c.css("left"));var E=K-B;F.c.width(I);F.c.css({left:E})}A.setCallFun({offsetX:B})};MxtLayout.prototype.setSouth=function(S){if(S==undefined){return }var K=this.params;var N=this.methods;if(N.s){var R=parseInt(N.s.height());var L=parseInt(N.s.css("top"));var H=R-S;var O=L+H;N.s.height(S);K.sHeight=S;N.s.css({top:O})}if(N.southSp){var C=parseInt(N.southSp.css("top"));var A=C+H;N.southSp.css({top:A})}if(N.c){var B=parseInt(N.c.height());var F=B+H;N.c.height(F)}if(N.w){var D=parseInt(N.w.height());var M=D+H;N.w.height(M)}if(N.e){var E=parseInt(N.e.height());var J=E+H;N.e.height(J)}if(N.westSp){var P=parseInt(N.westSp.height());var Q=P+H;N.westSp.css({height:Q})}if(N.eastSp){var I=parseInt(N.eastSp.height());var G=I+H;N.eastSp.css({height:G})}K.setCallFun({offsetY:H})};MxtLayout.prototype.setNorth=function(Z){if(Z==undefined){return }var R=this.params;var U=this.methods;if(U.n){var E=U.n.height();var M=E-Z;U.n.height(Z);R.nHeight=Z}if(U.northSp){var L=parseInt(U.northSp.css("top"));var A=L-M;U.northSp.css({top:A})}if(U.c){var B=U.c.height();var J=B+M;U.c.height(J)}if(U.c){var T=parseInt(U.c.css("top"));var a=T-M;U.c.css({top:a})}if(U.w){var D=U.w.height();var V=parseInt(U.w.css("top"));var S=D+M;var I=V-M;U.w.height(S);U.w.css({top:I})}if(U.westSp){var W=U.westSp.height();var Q=parseInt(U.westSp.css("top"));var Y=W+M;var N=Q-M;U.westSp.height(Y);U.westSp.css({top:N})}if(U.e){var F=U.e.height();var X=parseInt(U.e.css("top"));var P=F+M;var G=X-M;U.e.height(P);U.e.css({top:G})}if(U.eastSp){var O=U.eastSp.height();var H=parseInt(U.eastSp.css("top"));var K=O+M;var C=H-M;U.eastSp.height(K);U.eastSp.css({top:C})}R.setCallFun({offsetY:M})};MxtLayout.prototype._clearScroll=function(A){if(A.mode=="hidden"){A.obj.css("overflow","hidden")}else{A.obj.css("overflow","")}};MxtLayout.prototype.setEastSp=function(A){var C=this.params;var B=this.methods;if(A){C.eastFlag=2}else{C.eastFlag=1}B.init()};MxtLayout.prototype.setWestSp=function(A){var C=this.params;var B=this.methods;if(A){C.westFlag=2}else{C.westFlag=1}B.init()};MxtLayout.prototype.setSouthSp=function(A){var C=this.params;var B=this.methods;if(A){C.southFlag=2}else{C.southFlag=1}B.init()};MxtLayout.prototype.setNorthSp=function(A){var C=this.params;var B=this.methods;if(A){C.northFlag=2}else{C.northFlag=1}B.init()};function MxtLayoutIe6(A){this.init()}MxtLayoutIe6.prototype.init=function(){this.layout=$(".stadic_layout");if(this.layout.length==0){return }this.type="";this.layout_head=$(".stadic_layout_head");if(this.layout_head.length!=0){this.type+="h"}this.layout_body=$(".stadic_layout_body");if(this.layout_body.length!=0){this.type+="_b"}this.layout_footer=$(".stadic_layout_footer");if(this.layout_footer.length!=0){this.type+="_f"}this.layout_left=$(".stadic_layout_left");if(this.layout_left.length!=0){this.type+="_l"}this.layout_right=$(".stadic_layout_right");if(this.layout_right.length!=0){this.type+="_r"}this.layoutBorder=this.layout.eq(0);this.layoutBorder.css("overflow","hidden");this.height=$(this.layoutBorder).height();this.width=$(this.layoutBorder).width();if($("html")[0].style.height!="100%"){if(this.layoutBorder.parent()[0].tagName=="BODY"){$("html").css({height:"100%",overflow:"hidden"});$("body").css({height:"100%",overflow:"hidden",padding:"0px",margin:"0px",border:"0px"});this.height=$(this.layoutBorder).height();this.width=$(this.layoutBorder).width()}else{this.height=$(this.layoutBorder).parent().height();this.width=$(this.layoutBorder).parent().width()}}if(this.type=="h_b"){this.header=this.layout_head.eq(0);this.height=this.height-this.header.height();this.layout_body.eq(0).height(this.height)}if(this.type=="h_b_f"){this.header=this.layout_head.eq(0);this.footer=this.layout_footer.eq(0);this.height=this.height-this.header.height()-this.footer.height();this.layout_body.eq(0).height(this.height)}};$(document).ready(function(){if($.browser.msie){if($.browser.version=="6.0"){new MxtLayoutIe6()}}});(function(A){A.extend({init_stadic_layout:function(){A("html").css({height:"100%",overflow:"hidden"});A("body").css({height:"100%",overflow:"hidden",padding:"0px",margin:"0px",border:"0px"})}});A.fn.noSelect=function(C){var B=(C==null)?true:C;if(B){return this.each(function(){if(A.browser.msie||A.browser.safari){A(this).bind("selectstart",function(){return false})}else{if(A.browser.mozilla){A(this).css("MozUserSelect","none");A("body").trigger("focus")}else{if(A.browser.opera){A(this).bind("mousedown",function(){return false})}else{A(this).attr("unselectable","on")}}}})}else{return this.each(function(){if(A.browser.msie||A.browser.safari){A(this).unbind("selectstart")}else{if(A.browser.mozilla){A(this).css("MozUserSelect","inherit")}else{if(A.browser.opera){A(this).unbind("mousedown")}else{A(this).removeAttr("unselectable","on")}}}})}}})(jQuery);
function MxtMenuBar(A){this.allMenus=[];this.menuStrBuffer=[];this.maxMenu=A.maxMenu=null?4:A.maxMenu;this.render=A.render}MxtMenuBar.prototype.add=function(A){this.allMenus[this.allMenus.length]=A};MxtMenuBar.prototype.show=function(B){if(this.allMenus.length>0){this.menuStrBuffer=[];this.menuStrBuffer.push("<div class='common_menu_box clearfix'>");this.menuStrBuffer.push("<ul class='common_menu'>");this.maxMenu=this.allMenus.length>this.maxMenu?this.maxMenu:this.allMenus.length;for(var A=0;A<this.maxMenu;A++){var B=this.allMenus[A];if(B&&B.isShow&&B.isShowForSecurity){B.toString(this.menuStrBuffer)}}if(this.allMenus.length>this.maxMenu){this.getMoreMenu(this.menuStrBuffer)}this.menuStrBuffer.push("</ul>");this.menuStrBuffer.push("</div>")}if(this.render==undefined){document.write(this.menuStrBuffer.join(""))}else{$("#"+this.render).append(this.menuStrBuffer.join(""))}this.menuStrBuffer=[];$("ul.common_menu").superfish()};MxtMenuBar.prototype.enabled=function(C){if(C){var A=C.id+"_a";var B="";B+="<a href='javascript:void(0);'  id='"+C.id+"_a' onclick='"+C.click+"' >";B+="<em id='"+C.id+"_em' class='"+C.className+"'></em>";B+="<span id='"+C.id+"_span' class='menu_span'>"+C.name+"</span>";B+="</a>";$("#"+A).replaceWith(B)}};MxtMenuBar.prototype.getMoreMenu=function(B){B.push("<li>");B.push("<a href='javascript:void(0);'>");B.push("<span class='menu_span'>&nbsp;</span>");B.push("</a>");B.push("<ul>");for(var A=this.maxMenu;A<this.allMenus.length;A++){var C=this.allMenus[A];if(C&&C.isShow&&C.isShowForSecurity){C.toString(this.menuStrBuffer)}}B.push("</ul>");B.push("</li>")};function MxtMenu(A){this.id=A.id+"";this.name=A.name;this.isShow=A.isShow==null?true:A.isShow;this.isShowForSecurity=true;this.childItems=[];this.className=A.className;this.click=A.click;this.disable=A.disable}MxtMenu.prototype.toString=function(D){var E=this.name;var A=this.disable?"common_menu_dis":"";D.push("<li id='"+this.id+"' class='"+A+"'>");D.push("<a href='javascript:void(0);'  id='"+this.id+"_a' ");if(this.click!=null){D.push('onclick = "'+this.click+'"')}D.push(" >");if(this.className!=null){D.push("<em id='"+this.id+"_em' class='"+this.className+"'></em>")}D.push("<span id='"+this.id+"_span' class='menu_span'>"+E+"</span></a>");if(this.childItems.length>0){D.push("<ul>");for(var B=0;B<this.childItems.length;B++){var C=this.childItems[B];if(C&&C.isShow){C.toString(D)}}D.push("</ul>")}D.push("</li>");return D};MxtMenu.prototype.add=function(A){this.childItems[this.childItems.length]=A;A.parentMenu=this;A.index=this.childItems.length-1;if(A.isShow){this.isShowForSecurity=true}};function MxtMenuItem(A){this.id=A.uId+"";this.name=A.name;this.action=A.action;this.target=A.target;this.icon=A.icon;this.description=A.description;this.parentMenu=null;this.subMenu=null;this.isShow=A.isShow==null?true:A.isShow;this.disable=A.disable}MxtMenuItem.prototype.toString=function(B){var C=this.name;var A=this.disable?"common_menu_dis":"";B.push("<li class='"+A+"'>");if(this.action==null){this.action="javascript:void(0);"}B.push("<a href='"+this.action+"'>");B.push(this.name);B.push("</a>");if(this.subMenu!=null){B.push("<ul>");this.subMenu.toString(B);B.push("</ul>")}B.push("</li>");return B};MxtMenuItem.prototype.add=function(A){A.parentMenu=this;this.subMenu=A};function MxtSubMenu(A){this.id=A.id;this.name=A.name;this.isShow=A.isShow==null?true:A.isShow;this.subChildItems=[];this.parentMenu=null}MxtSubMenu.prototype.add=function(A){this.subChildItems[this.subChildItems.length]=A;A.parentMenu=this};MxtSubMenu.prototype.toString=function(B){if(this.isShow){if(this.subChildItems.length>0){for(var A=0;A<this.subChildItems.length;A++){var C=this.subChildItems[A];C.toString(B)}}}return B};function MxtSubMenuItem(A){this.id=0;this.uId=A.uId+"";this.name=A.name;this.action=A.action;this.target=A.target;this.icon=A.icon;this.description=A.description;this.parentMenu=null;this.isShow=A.isShow==null?true:A.isShow;this.index=null;this.disable=A.disable}MxtSubMenuItem.prototype.toString=function(B){if(this.isShow){var A=this.disable?"common_menu_dis":"";B.push("<li class='"+A+"'>");if(this.action==null){this.action="javascript:void(0);"}B.push("<a href='"+this.action+"'>");B.push(this.name);B.push("</a>");B.push("</li>")}return B};(function(B){B.fn.superfish=function(J){var F=B.fn.superfish,I=F.c,E=B(['<span class="',I.arrowClass,'"> &#187;</span>'].join("")),H=function(){var K=B(this),L=C(K);clearTimeout(L.sfTimer);if(!K.hasClass("common_menu_dis")){K.showSuperfishUl().siblings().hideSuperfishUl()}},D=function(){var K=B(this),M=C(K),L=F.op;clearTimeout(M.sfTimer);M.sfTimer=setTimeout(function(){L.retainPath=(B.inArray(K[0],L.$path)>-1);K.hideSuperfishUl();if(L.$path.length&&K.parents(["li.",L.hoverClass].join("")).length<1){H.call(L.$path)}},L.delay)},C=function(K){var L=K.parents(["ul.",I.menuClass,":first"].join(""))[0];F.op=F.o[L.serial];return L},G=function(K){K.addClass(I.anchorClass).append(E.clone())};return this.each(function(){var K=this.serial=F.o.length;var M=B.extend({},F.defaults,J);M.$path=B("li."+M.pathClass,this).slice(0,M.pathLevels).each(function(){B(this).addClass([M.hoverClass,I.bcClass].join(" ")).filter("li:has(ul)").removeClass(M.pathClass)});F.o[K]=F.op=M;B("li:has(ul)",this)[(B.fn.hoverIntent&&!M.disableHI)?"hoverIntent":"hover"](H,D).each(function(){if(M.autoArrows){G(B(">a:first-child",this))}}).not("."+I.bcClass).hideSuperfishUl();var L=B("a",this);L.each(function(N){var O=L.eq(N).parents("li");L.eq(N).focus(function(){H.call(O)}).blur(function(){D.call(O)})});M.onInit.call(this)}).each(function(){var K=[I.menuClass];if(F.op.dropShadows&&!(B.browser.msie&&B.browser.version<7)){K.push(I.shadowClass)}B(this).addClass(K.join(" "))})};var A=B.fn.superfish;A.o=[];A.op={};A.IE7fix=function(){var C=A.op;if(B.browser.msie&&B.browser.version>6&&C.dropShadows&&C.animation.opacity!=undefined){this.toggleClass(A.c.shadowClass+"-off")}};A.c={bcClass:"common_menu_breadcrumb",menuClass:"common_menu_js-enabled",anchorClass:"common_menu_with-ul",arrowClass:"common_menu_sub-indicator",shadowClass:"common_menu_shadow"};A.defaults={hoverClass:"sfHover",pathClass:"overideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},speed:"normal",autoArrows:true,dropShadows:true,disableHI:false,onInit:function(){},onBeforeShow:function(){},onShow:function(){},onHide:function(){}};B.fn.extend({hideSuperfishUl:function(){var E=A.op,D=(E.retainPath===true)?E.$path:"";E.retainPath=false;var C=B(["li.",E.hoverClass].join(""),this).add(this).not(D).removeClass(E.hoverClass).find(">ul").hide().css("visibility","hidden");E.onHide.call(C);return this},showSuperfishUl:function(){var E=A.op,D=A.c.shadowClass+"-off",C=this.addClass(E.hoverClass).find(">ul:hidden").css("visibility","visible");A.IE7fix.call(C);E.onBeforeShow.call(C);C.animate(E.animation,E.speed,function(){A.IE7fix.call(C);E.onShow.call(C)});return this}})})(jQuery);function commonMenuSimple(D,V){var C=D.id?D.id:"menuSimple_"+Math.floor(Math.random()*1000000000);var L=D.data?D.data:[];var F=D.width?D.width:150;var W=D.height?D.height:"";var H=D.event?D.event:"click";var G=D.direction?D.direction:"BL";var N=D.offsetLeft?D.offsetLeft:0;var E=D.offsetTop?D.offsetTop:0;var I=D.mRow?D.mRow:false;if(V==null){var Q=$("body").data("isMenuSimple");if(Q!=C){$("#"+Q).remove();$("#"+Q+"_iframe_mask").remove();$("body").data("isMenuSimple",C)}}else{var Q=$(V).data("isMenuSimple");if(Q!=C){$("#"+Q).remove();$("#"+Q+"_iframe_mask").remove();$(V).data("isMenuSimple",C)}}if($("#"+C).size()!=0){$("#"+C).remove();$("#"+C+"_iframe_mask").remove()}var B="";if(V==null){var R=D.left?D.left:alert("ERROR:$.menuSimple\u7f3a\u5c11\u5fc5\u987b\u53c2\u6570left");var O=D.top?D.top:alert("ERROR:$.menuSimple\u7f3a\u5c11\u5fc5\u987b\u53c2\u6570top")}else{if($(V).size()>0){var R=function(){switch(G){case"BL":return $(V).offset().left+N;break;case"BR":return $(V).offset().left+$(V).width()-F-12+N;break}}();var O=function(){return $(V).offset().top+$(V).height()+5+E}()}}if(W!=""){var S="height:"+W+"px;overflow-y:auto;"}B+='<div id="'+C+'" class="menu_simple_box" style="z-index:20001;left:'+R+"px;top:"+O+"px;"+S+'"><div class="menu_simple">';var K="";I!=true?K=" text_overflow":null;for(var P=0;P<L.length;P++){if(L[P].isShow==false){continue}if(L[P].type=="line"){B+='<div class="line"></div>'}else{L[P].id!=null?"":L[P].id="menuSimple_item"+Math.floor(Math.random()*1000000000);var U="";L[P].className!=null?U="<span class='ico16 margin_r_5 "+L[P].className+"'></span>":null;var A="";L[P].customAttr!=null?A=L[P].customAttr:null;var M="";L[P].disabled==true?M="disabled":null;var J="";_name=$("<div>"+L[P].name+"</div>").text();B+='<a id="'+L[P].id+"\" title='"+J+"'"+A+" class='"+M+" "+K+"'>"+U+L[P].name+"</a>"}}B+="</div></div>";B+='<iframe id="'+C+'_iframe_mask" frameborder="0"></iframe>';$("body").append(B);$("#"+C+"_iframe_mask").css({display:"none","z-index":20000,position:"absolute",top:O+"px",left:R+"px",width:$("#"+C).width()+"px",height:$("#"+C).height()+"px"});if(V==null){$("#"+C).show();$("#"+C+"_iframe_mask").show()}if(F!=150){$("#"+C).find("a").width(F);$("#"+C).find(".line").width(F+10)}$("#"+C+" .menu_simple").children().each(function(X){if(L[X].type!="line"&&L[X].handle){$(this).click(function(){if(L[X].disabled!=true){L[X].handle({id:L[X].id,name:L[X].name,obj:$(this)})}})}});$(V).unbind().bind(H,function(){setTimeout(function(){if($(V).attr("disable")!="disable"){var X=function(){switch(G){case"BL":return $(V).offset().left+N;break;case"BR":return $(V).offset().left+$(V).width()-F-12+N;break}}();var Y=function(){return $(V).offset().top+$(V).height()+5+E}();$("#"+C).css({left:X+"px",top:Y+"px"});$("#"+C).show();$("#"+C+"_iframe_mask").css({width:F+"px",top:Y+"px",left:X+"px"});$("#"+C+"_iframe_mask").show()}},100)});var T=true;$(V).mouseleave(function(){setTimeout(function(){if(T){if(W!=""){$("#"+C).scrollTop(0)}$("#"+C).hide();$("#"+C+"_iframe_mask").hide()}},100)});$("#"+C).click(function(){if(W!=""){$("#"+C).scrollTop(0)}$(this).hide();$("#"+C+"_iframe_mask").hide()}).mouseleave(function(){if(W!=""){$("#"+C).scrollTop(0)}$(this).hide();$("#"+C+"_iframe_mask").hide();T=true}).mouseenter(function(){T=false})}$.fn.menuSimple=function(A){commonMenuSimple(A,$(this).selector)};$.menuSimple=function(A){commonMenuSimple(A,null)};
$.fn.pagemenu=function(C){var B=Math.floor(Math.random()*100000000).toString()+"_menu";var S=$(this).selector;var L=C.data;var T=C.all_number;var R=C.max?C.max:20;var K=C.max_item?C.max_item:20;var A=C.item_height?C.item_height:26;var J=C.handler;var D=function(){if($.browser.msie){if($.browser.version<7){return true}}return false}();var G=false;var O="";var N="";var M="";O+='<div class="pagemenu_all"><div>'+$.i18n("doc.jsp.knowledge.all")+"("+T+")</div></div>";O+='<ul class="pagemenu">';for(var Q=0;Q<L[0].length;Q++){var F=L[0][Q];var E=L[1]["ONE_"+L[0][Q].id];O+='<li id="menu_'+Q+'" class="item'+(Q>R-1?" hidden":"")+'" fid="'+F.id+'"><span class="txt">'+F.frName+'</span><span class="'+(E!=""&&E?"":"hidden")+'"><em class="ico16 arrow_gray_r"></em></span></li>';if(E!=""&&E){N+='<div id="menu_'+Q+'_item" class="pagemenu_item">';N+="<ul>";M="";for(var P=0;P<E.length;P++){P==0?N+='<li class="line">':null;if(P%2==0){N+='<div class="'+(P<K-1?"":"hidden")+'" fid="'+E[P].id+'">'+E[P].frName+"</div>"}P==E.length-1?N+="</li>":null;P==0?M+="<li>":null;if(P%2==1){M+='<div class="'+(P<K?"":"hidden")+'" fid="'+E[P].id+'">'+E[P].frName+"</div>"}P==E.length-1?M+="</li>":null}N+=M;N+="</ul>";E.length>K?N+='<div class="pagemenu_item_more">'+$.i18n("doc.jsp.knowledge.view")+$.i18n("doc.jsp.knowledge.more")+"</div>":null;N+="</div>"}}O+="</ul>";L[0].length>R?O+='<div class="pagemenu_more">'+$.i18n("doc.jsp.knowledge.view")+$.i18n("doc.jsp.knowledge.more")+$.i18n("doc.jsp.knowledge.category")+"</div>":null;$(S).html(O);$("body").append(N);function I(){var U=$(S).find(".pagemenu li");var V=$(S).find(".pagemenu li .txt");if($(S).height()>$(window).height()-56){if(D){V.width(76);U.width(110)}else{V.width(79);U.width(110)}}else{if(D){V.width(93);U.width(127)}else{V.width(96);U.width(127)}}}I();$(window).resize(function(){I()});var H=true;$(S+" li").each(function(U){var W=$(this);var V=$("#"+$(W).attr("id")+"_item");$(this).mouseenter(function(){W.removeClass("current");W.addClass("current");W.find(".ico16").removeClass("arrow_gray_r").removeClass("arrow_white_r").addClass("arrow_white_r");var Y=W.offset().top;var X=W.offset().left+W.width();if(W.offset().top+V.height()>$(window).height()){Y=W.offset().top+W.height()-V.height()-4}V.css({left:X+"px",top:Y+"px"}).show()}).mouseleave(function(){setTimeout(function(){if(H){W.removeClass("current");W.find(".ico16").removeClass("arrow_gray_r").removeClass("arrow_white_r").addClass("arrow_gray_r");V.hide()}},50)}).click(function(){J({id:$(this).attr("fid"),frName:$(this).find(".txt").text()})});$(S+"_"+U+"_item").mouseenter(function(){H=false}).mouseleave(function(){H=true;$(this).hide();$(S+" li").removeClass("current");$(this).find("ul div.hidden").hide();$(this).find("ul").removeClass("scrollY");$(this).find("ul").height("");$(this).find(".pagemenu_item_more").text($.i18n("doc.jsp.knowledge.more")+$.i18n("doc.jsp.knowledge.category"));$(S+"_"+U).find(".ico16").removeClass("arrow_gray_r").removeClass("arrow_white_r").addClass("arrow_gray_r")});$(S+"_"+U+"_item li div").mouseenter(function(){$(this).removeClass("current");$(this).addClass("current")}).mouseleave(function(){$(this).removeClass("current")}).click(function(){J({id:$(this).attr("fid"),frName:$(this).text()})})});$(".pagemenu_more").click(function(){if($(this).data("t")){$(this).data("t",false);$(S+" .pagemenu li[class='item hidden']").hide();$(this).text($.i18n("doc.jsp.knowledge.view")+$.i18n("doc.jsp.knowledge.more")+$.i18n("doc.jsp.knowledge.category"));I()}else{$(this).data("t",true);$(S+" .pagemenu li").show();$(this).text($.i18n("doc.jsp.knowledge.less")+$.i18n("doc.jsp.knowledge.category"));I()}});$(".pagemenu_item_more").click(function(){if(!G){G=true;$(this).parent(".pagemenu_item").find("ul").addClass("scrollY");$(this).parent(".pagemenu_item").find("ul").height(A*K/2);$(this).parent(".pagemenu_item").find("ul div").show();$(this).text($.i18n("doc.jsp.knowledge.view")+$.i18n("doc.jsp.knowledge.less"))}else{G=false;$(this).parent(".pagemenu_item").find("ul").removeClass("scrollY");$(this).parent(".pagemenu_item").find("ul").height("");$(this).parent(".pagemenu_item").find("ul div.hidden").hide();$(this).text($.i18n("doc.jsp.knowledge.view")+$.i18n("doc.jsp.knowledge.more"))}});return this};
function insertScript(C){if($("#script_people").size()==0){$("head").append("<div id='script_people' class='hidden'></div><script src='"+_ctxPath+"/ajax.do?managerName=peopleCardManager,orgManager'><\/script>").append("<script type='text/javascript' src='"+_ctxPath+"/common/collaboration/collFacade.js'><\/script>").append("<script type='text/javascript' src='"+_ctxPath+"/apps_res/webmail/js/webmail.js'><\/script>").append("<script type='text/javascript' src='"+_ctxPath+"/apps_res/sms/js/sms.js'><\/script>").append("<script>var dialog;<\/script>")}var E=C.memberId;var D=new peopleCardManager();var A=C;var B=D.showPeoPleCardMini(E);A.data=B;return A}function insertScriptP(){if($("#script_people").size()==0){$("head").append("<div id='script_people' class='hidden'></div><script src='"+_ctxPath+"/ajax.do?managerName=peopleCardManager,orgManager'><\/script>")}}function createPanel(P){var M=getA8Top();var G=0;while($(M.document).find("#main").length==0&&G<5){M=M.v3x.getParentWindow().getA8Top();G++}var F=false;var D=$.ctx.CurrentUser;if(D==null||D==undefined){D=getCtpTop().$.ctx.CurrentUser}var H=D.id;var L=P.data.emailaddress;if(P.memberId==H){F=true}else{F=false}var K=false;if(!P.id){K=true}var B=$("#miniCrad");var N="";if(P.accountShortName&&P.accountShortName!=""&&P.accountShortName!="null"&&P.accountShortName!="undefined"){N="("+P.accountShortName+")"}var J="<div class='left'style='width:90px;'><div class=' align_center'><span class='people_img relative display_inline-block  over_hidden margin_t_5'><img id='memberimg' src='"+P.data.imgurl+"' width='70'height='70'></span></div><div class=' align_center'>";if(!F){J=J+"<a class='common_button common_button_gray'id='addcorrelation'href='javascript:void(0)'>"+$.i18n("people.add.correlation")+"</a>"}J=J+"</div></div><form name='peoplecardminiform'id='peoplecardminiform'method='post'><div style='height:127px;' class='over_hidden adapt_w font_size12 form_area people_msg'><table cellpadding='0'cellspacing='0'width='100%'class='padding_5 margin_l_10'><caption class='align_left font_bold font_size14'><label id='name'/><div class='cut_string margin_5'>"+P.data.name+N+"</div></caption><tr><td width='100%'colspan='2'class='font_bold'style='font-size:14px;'><label id='orgDepartmentId'/><div class='cut_string'>"+P.data.orgDepartmentId+"</div></td></tr><tr><th nowrap='nowrap'>"+$.i18n("org.account_form.telephone.label")+":</th><td width='400'><label id='officenumber'>"+P.data.officenumber+"</label></td></tr><tr><th nowrap='nowrap'>"+$.i18n("member.mobile")+":</th><td><label id='telnumber'>"+P.data.telnumber+"</label></td></tr><tr><th nowrap='nowrap'>"+$.i18n("member.email")+":</th><td><label  id='emailaddress'>"+P.data.emailaddress+"</label></td></tr></table></div></form><ul class='font_size12 align_center card_operate border_t clear'>";J=J+"<li class='margin_t_5 left'class='left'><a class='img-button'href='javascript:void(0)' id='sendcollaboration'><em class='ico16 collaboration_16'></em>"+$.i18n("people.send.collaborative")+"</a></li>";if(!F){J=J+"<li class='margin_t_5 left'><a class='img-button'href='javascript:void(0)' id='sendmsg'><em class='ico16 communication_16'></em>"+$.i18n("people.send.msg")+"</a></li>"}if(L!=""){J=J+"<li class='margin_t_5 left'><a class='img-button'href='javascript:void(0)' id='sendemail'><em class='ico16 email_16'></em>"+$.i18n("people.send.email")+"</a></li>"}J=J+"<li class='margin_t_5 left'><a class='img-button'href='javascript:void(0)' id='sendSMS'><em class='ico16 info_16'></em>"+$.i18n("people.send.SMS")+"</a></li></ul>";if(B.length==0){var A="<div class='cardmini h100b hidden' id='miniCrad'></div>";B=$(A);B.append($(J));$("body").append(B)}else{B.html($(J))}$("#addcorrelation").unbind().bind("click",function(){dialog=$.dialog({id:"url",url:_ctxPath+"/relateMember.do?method=addRelativePeople&receiverId="+P.data.id,width:420,height:200,targetWindow:getCtpTop(),title:$.i18n("peoplecard.addrelpeple.js")})});$("#sendemail").unbind().bind("click",function(){if($("#emailaddress").html()!=""){sendMail($("#emailaddress").html())}});$("#sendcollaboration").unbind().bind("click",function(){appToColl4DialogMode("peopleCard",P.data.id)});$("#sendmsg").unbind().bind("click",function(){M.sendUCMessage(P.data.name,P.data.id)});$("#sendSMS").unbind().bind("click",function(){sendSMS(P.data.id)});var C=$.ctx.resources;if(C==null||C==undefined){C=getCtpTop().$.ctx.resources}try{if(!C.contains("F01_newColl")){$("#sendcollaboration").hide()}if(!C.contains("F12_mailcreate")){$("#sendemail").hide()}}catch(I){}if(!D.canSendSMS){$("#sendSMS").hide()}var E=$.ctx.plugins;if(E==null||E==undefined){E=getCtpTop().$.ctx.plugins}if(D.admin||!E.contains("uc")){$("#sendmsg").hide()}var O=$.dialog({id:"dialog_cardMini",width:330,height:161,type:"panel",htmlId:"miniCrad",targetId:P.id,left:P.left,top:P.top,shadow:false,panelParam:{show:K,margins:false,inside:K}});return O}function createPanelWithOutButton(P){var M=getA8Top();var G=0;while($(M.document).find("#main").length==0&&G<5){M=getA8Top().v3x.getParentWindow().getA8Top();G++}var F=false;var D=$.ctx.CurrentUser;if(D==null||D==undefined){D=getCtpTop().$.ctx.CurrentUser}var H=D.id;var L=P.data.emailaddress;if(P.memberId==H){F=true}else{F=false}var K=false;if(!P.id){K=true}var B=$("#miniCrad");var N="";if(P.accountShortName&&P.accountShortName!=""&&P.accountShortName!="null"&&P.accountShortName!="undefined"){N="("+P.accountShortName+")"}var J="<div class='left'style='width:90px;'><div class=' align_center'><span class='people_img relative display_inline-block  over_hidden margin_t_5'><img id='memberimg' src='"+P.data.imgurl+"' width='70'height='70'></span></div><div class=' align_center'>";J=J+"</div></div><form name='peoplecardminiform'id='peoplecardminiform'method='post'><div style='height:127px;' class='over_hidden adapt_w font_size12 form_area people_msg'><table cellpadding='0'cellspacing='0'width='100%'class='padding_5 margin_l_10'><caption class='align_left font_bold font_size14'><label id='name'/><div class='cut_string margin_5'>"+P.data.name+N+"</div></caption><tr><td width='100%'colspan='2'class='font_bold'style='font-size:14px;'><label id='orgDepartmentId'/><div class='cut_string'>"+P.data.orgDepartmentId+"</div></td></tr><tr><th nowrap='nowrap'>"+$.i18n("org.account_form.telephone.label")+":</th><td width='400'><label id='officenumber'/>"+P.data.officenumber+"</td></tr><tr><th nowrap='nowrap'>"+$.i18n("member.mobile")+":</th><td><label id='telnumber'/>"+P.data.telnumber+"</td></tr><tr><th nowrap='nowrap'>"+$.i18n("member.email")+":</th><td><label  id='emailaddress'/>"+P.data.emailaddress+"</td></tr></table></div></form><ul class='font_size12 align_center card_operate border_t clear'>";J=J+"</ul>";if(B.length==0){var A="<div class='cardmini h100b hidden' id='miniCrad'></div>";B=$(A);B.append($(J));$("body").append(B)}else{B.html($(J))}$("#addcorrelation").unbind().bind("click",function(){dialog=$.dialog({id:"url",url:_ctxPath+"/relateMember.do?method=addRelativePeople&receiverId="+P.data.id,width:420,height:200,targetWindow:getCtpTop(),title:$.i18n("peoplecard.addrelpeple.js")})});$("#sendemail").unbind().bind("click",function(){if($("#emailaddress").html()!=""){sendMail($("#emailaddress").html())}});$("#sendcollaboration").unbind().bind("click",function(){appToColl4DialogMode("peopleCard",P.data.id)});$("#sendmsg").unbind().bind("click",function(){M.sendUCMessage(P.data.name,P.data.id)});$("#sendSMS").unbind().bind("click",function(){sendSMS(P.data.id)});var C=$.ctx.resources;if(C==null||C==undefined){C=getCtpTop().$.ctx.resources}try{if(!C.contains("F01_newColl")){$("#sendcollaboration").hide()}if(!C.contains("F12_mailcreate")){$("#sendemail").hide()}}catch(I){}if(!D.canSendSMS){$("#sendSMS").hide()}var E=$.ctx.plugins;if(E==null||E==undefined){E=getCtpTop().$.ctx.plugins}if(D.admin||!E.contains("uc")){$("#sendmsg").hide()}var O=$.dialog({id:"dialog_cardMini",width:330,height:161,type:"panel",htmlId:"miniCrad",targetId:P.id,left:P.left,top:P.top,shadow:false,panelParam:{show:K,margins:false,inside:K}});return O}function PeopleCard(C){var E=new orgManager();var D=$.ctx.CurrentUser;if(D==null||D==undefined){D=getCtpTop().$.ctx.CurrentUser}if(!E.canShowPeopleCard(D.id,C.memberId)){return }var B=_ctxPath+"/organization/peopleCard.do?method=showPeoPleCard&type=withbutton&memberId="+C.memberId;var A=$.dialog({url:B,width:500,height:350,title:"\u4eba\u5458\u4fe1\u606f",targetWindow:getCtpTop(),targetWindow:C.targetWindow==undefined?getCtpTop():C.targetWindow,top:C.top,left:C.left,buttons:[{text:"\u5173\u95ed",handler:function(){A.close()}}]});return A}function PeopleCardWithOutButton(C){var E=new orgManager();var D=$.ctx.CurrentUser;if(D==null||D==undefined){D=getCtpTop().$.ctx.CurrentUser}if(!E.canShowPeopleCard(D.id,C.memberId)){return }var B=_ctxPath+"/organization/peopleCard.do?method=showPeoPleCard&type=withoutbutton&memberId="+C.memberId;var A=$.dialog({url:B,width:500,height:350,title:"\u4eba\u5458\u4fe1\u606f",targetWindow:getCtpTop(),targetWindow:C.targetWindow==undefined?getCtpTop():C.targetWindow,top:C.top,left:C.left,buttons:[{text:"\u5173\u95ed",handler:function(){A.close()}}]});return A}function PeopleCardMini_flash(C){var E=new orgManager();var D=$.ctx.CurrentUser;if(D==null||D==undefined){D=getCtpTop().$.ctx.CurrentUser}if(!E.canShowPeopleCard(D.id,C.memberId)){return }this.memberId=C.memberId;this.data=C.data;this.left=C.left;this.top=C.top;this.accountShortName=C.accountShortName;this.id=null;var B=this;var A=createPanel(B);return A}function PeopleCardMini_flashWithOutButton(C){var E=new orgManager();var D=$.ctx.CurrentUser;if(D==null||D==undefined){D=getCtpTop().$.ctx.CurrentUser}if(!E.canShowPeopleCard(D.id,C.memberId)){return }this.memberId=C.memberId;this.data=C.data;this.left=C.left;this.top=C.top;this.accountShortName=C.accountShortName;this.id=null;var B=this;var A=createPanelWithOutButton(B);return A}function PeopleCardMini(D,F){var G=new orgManager();var E=$.ctx.CurrentUser;if(E==null||E==undefined){E=getCtpTop().$.ctx.CurrentUser}if(!G.canShowPeopleCard(E.id,D.memberId)){return }this.memberId=D.memberId;this.obj=F;this.data=D.data;this.id=F.attr("id");var C;var B=this;var A=true;this.obj.bind({mouseenter:function(){C=createPanel(B);$("#"+C.id).unbind().mouseenter(function(){A=false}).mouseleave(function(){C.hideDialog()})},mouseleave:function(){setTimeout(function(){if(A){try{C.hideDialog()}catch(H){}}},200)}});return C}function PeopleCardMiniWithOutButton(D,F){var G=new orgManager();var E=$.ctx.CurrentUser;if(E==null||E==undefined){E=getCtpTop().$.ctx.CurrentUser}if(!G.canShowPeopleCard(E.id,D.memberId)){return }this.memberId=D.memberId;this.obj=F;this.data=D.data;this.id=F.attr("id");var C;var B=this;var A=true;this.obj.bind({mouseenter:function(){C=createPanelWithOutButton(B);$("#"+C.id).unbind().mouseenter(function(){A=false}).mouseleave(function(){C.hideDialog()})},mouseleave:function(){setTimeout(function(){if(A){try{C.hideDialog()}catch(H){}}},200)}});return C};
function ifClose(B,E,C,A,D){$(document).bind("mouseover",function(G){var F=G.target;if(F.nodeType==3){F=F.parentNode}var H=G.clientX>B&&G.clientX<E&&G.clientY<A&&G.clientY>C;if(!H){D();$(document).unbind("mouseover")}})}function MxtPeopleSquare(A){this.id=A.id?A.id:Math.floor(Math.random()*100000000);this.width=A.width==undefined?500:A.width;this.height=A.height==undefined?500:A.height;this.imgH=A.imgH==undefined?50:A.imgH;this.imgW=A.imgW==undefined?50:A.imgW;this.step1_MimgH=A.step1_MimgH==undefined?84:A.step1_MimgH;this.step1_MimgW=A.step1_MimgW==undefined?84:A.step1_MimgW;this.step2_MimgH=A.step1_MimgH==undefined?60:A.step2_MimgH;this.step2_MimgW=A.step1_MimgW==undefined?60:A.step2_MimgW;this.defaultPeople=A.defaultPeople;this.squareR=A.squareR==undefined?200:A.squareR;this.peopleItems=A.peopleItems;this.currentStepInt=1;this.currentStep="step"+this.currentStepInt;this.sliderMax=A.sliderMax==undefined?50:A.sliderMax;this.squareStep=A.squareStep==undefined?10:A.squareStep;this.sliderHandle=A.sliderHandle;this.parentId=A.parentId;this.over=A.mouseOver;this.out=A.mouseOut;this.margin="auto";this.left=0;var C=$("#"+this.parentId).height()/this.height;if(C<1){this.left=($(".layout_center").width()-this.width*C)/2/C;this.margin=0;if($.browser.mozilla){var B=-$(".layout_center").width()*(1-C)/2;var D=-$(".layout_center").height()*(1-C)/2;$("#"+this.parentId).css({"-moz-transform":"scale("+C+")",left:B,top:D});$("#"+this.parentId).attr("zoomAttr",C)}else{$("#"+this.parentId).css({zoom:C})}}this.sinMath=[[[0],[1]],[[0,0],[1,-1]],[[0,0.866,-0.866],[1,-0.5,-0.5]],[[0,1,0,-1],[1,0,-1,0]],[[0,0.951,0.588,-0.588,-0.951],[1,0.309,-0.809,-0.809,0.309]],[[0,0.866,0.866,0,-0.866,-0.866],[1,0.5,-0.5,-1,-0.5,0.5]],[[0,0.782,0.975,0.434,-0.434,-0.975,-0.782],[1,0.623,-0.223,-0.901,-0.901,-0.223,0.623]],[[0,0.707,1,0.707,0,-0.707,-1,-0.707],[1,0.707,0,-0.707,-1,-0.707,0,0.707]],[[0,0.643,0.985,0.866,0.342,-0.342,-0.866,-0.985,-0.642],[1,0.766,0.174,-0.5,-0.94,-0.94,-0.5,0.174,0.766]],[[1.05,0.809,0.309,-0.309,-0.78,-0.96,-0.78,-0.309,0.309,0.809],[0,-0.588,-0.98,-0.951,-0.55,0,0.55,0.951,0.98,0.588]],[[1,0.809,0.309,-0.309,-0.809,-1,-0.809,-0.309,0.309,0.809],[0,-0.588,-0.951,-0.951,-0.588,0,0.588,0.951,0.951,0.588]],[[1,1,0.6,0.05,-0.55,-0.89,-0.9,-0.55,0.05,0.6],[0.35,-0.25,-0.75,-0.95,-0.72,-0.25,0.35,0.85,1.03,0.85]]];this.initSquare()}MxtPeopleSquare.prototype.initSquare=function(){var A=this;this.canvasDiv=$("<div id='"+this.id+"' style='width:"+this.width+"px;height:"+this.height+"px;left:"+this.left+"px;margin:"+this.margin+"' class='relative canvasbg'></div>");this.myDiv=$("<div id='"+this.id+"_center' class='absolute myDiv' title='"+this.defaultPeople.defaultName+"'></div>");this.myImgDiv=$("<div class='myImgDiv' style='width:"+this.imgW+"px; height:"+this.imgH+"px;'><img  src='"+this.defaultPeople.defaultSrc+"' width='100%' height='100%'></div>");this.myName=$("<span class='myName'>"+this.defaultPeople.defaultName+"</span>");this.myDiv.css({top:(this.width-146)/2,left:(this.height-147)/2});this.myDiv.append(this.myImgDiv);this.myDiv.append(this.myName);this.canvasDiv.append(this.myDiv);this.canvasDiv.prependTo($("#"+this.parentId));$("#"+this.id+"_center").bind("click",function(){A.defaultPeople.click(this.id)});$(".myImgDiv").bind({mouseenter:function(){$(this).animate({width:84,height:84,"margin-top":30},{queue:false})},mouseleave:function(){$(this).stop();$(this).animate({width:54,height:54,"margin-top":40},{queue:false})}});if(this.peopleItems!=undefined&&this.peopleItems.step1&&this.peopleItems.step1.length>0){this.addItems(this.peopleItems.step1,"step1")}};MxtPeopleSquare.prototype.setAnimate=function(A){this.currentStep=A;if(this.currentStep=="step2"){this.canvasDiv.removeClass("canvasbg").addClass("canvasbg2")}else{this.canvasDiv.removeClass("canvasbg2").addClass("canvasbg")}if($("#"+this.currentStep+"_canvasbg").size()==0){this.addItems(this.peopleItems[this.currentStep],this.currentStep)}else{if(this.currentStep=="step2"){$("#step2_canvasbg .canvasImgDiv").each(function(){var B=$(this);$(this).animate({top:B.attr("top"),left:B.attr("left"),opacity:1})})}}};MxtPeopleSquare.prototype.updateItems=function(B,A,I,H){var G=this;var F=this.peopleItems[B];if(F==undefined){return }var E=F.length;var L=this.currentStep=="step2"&&E==10?E:E-1;for(var C=0;C<F.length;C++){var D=$("#"+F[C].id);var K=A/2-H*this.sinMath[L][1][C];var J=I/2-H*this.sinMath[L][0][C];D.attr("left",K-this.imgW/2).attr("top",J-this.imgH/2)}$("#step1_canvasbg .canvasImgDiv").each(function(){var M=$(this);$(this).animate({top:M.attr("top"),left:M.attr("left"),opacity:1});$(this).find(".canvasImg").animate({width:G.imgW,height:G.imgH})});if(this.currentStep!="step2"){$("#step2_canvasbg .canvasImgDiv").animate({top:(this.width-146)/2+53,left:(this.height-147)/2+50,opacity:-0.5})}};MxtPeopleSquare.prototype.addItems=function(H,B){if(H==undefined){return }var G=H.length;this.canvasMainBgDiv=$("<div id='"+B+"_canvasbg' style='width:"+this.width+"px;height:"+this.height+"px;' class='canvasMainbg'></div>");this.canvasMainBgDiv.appendTo(this.canvasDiv);for(var D=0;D<H.length;D++){var J=this;var I=H[D];var F=$("<div id='"+I.id+"'  class='absolute canvasImgDiv "+B+"' title='"+I.name+"'></div>");var A=$("<div class='canvasImg' style='width:"+this.imgW+"px; height:"+this.imgW+"px'><img  src='"+I.src+"' width='100%' height='100%'></div>");var E=B=="step2"?D+11:D+1;if(E<=3){n="<span class='font_bold valign_m' style='font-size:22px;'>"+E+"</span>"}else{n="<span class='font_bold valign_m margin_r_5 font_size14'>"+E+"</span>"}var K=$("<span class='canvasName'>"+n+I.name+"</span>");A.appendTo(F);var O=B=="step2"&&G==10?G:G;K.appendTo(F);var N=this.width/2-this.squareR*this.sinMath[O-1][1][D];var M=this.height/2-this.squareR*this.sinMath[O-1][0][D];F.css({top:(this.width-146)/2+53,left:(this.height-147)/2+50,opacity:0});F.sin=this.sinMath[O-1][0][D];F.con=this.sinMath[O-1][1][D];F.appendTo(this.canvasMainBgDiv);I.left=N-this.imgW/2;I.top=M-this.imgH/2;$("#"+I.id).animate({left:I.left,top:I.top,opacity:1},500).attr("left",I.left).attr("top",I.top);var C=(this[this.currentStep+"_MimgW"]-this.imgW)/2;var L=(this[J.currentStep+"_MimgH"]-this.imgH)/2;$("#"+I.id).unbind().bind({mouseenter:function(){var P=$(this);P.animate({left:parseFloat(P.css("left"))-C,top:parseFloat(P.css("top"))-L},{queue:false,duration:500,complete:function(){J.over(P.attr("id"),J[J.currentStep+"_MimgW"])}});P.find(".canvasImg").animate({width:J[J.currentStep+"_MimgW"],height:J[J.currentStep+"_MimgH"]},{queue:false,duration:500})},mouseleave:function(){var P=$(this);P.stop();P.find(".canvasImg").stop();P.animate({left:P.attr("left"),top:P.attr("top")},{queue:false});P.find(".canvasImg").animate({width:J.imgW,height:J.imgH},{queue:false});J.out(P.attr("id"),J[J.currentStep+"_MimgW"])}})}};
var plist=null;var styleData=null;var printDefaultSelect=null;var notPrintDefaultSelect=null;var otherPrarams=null;var contentType=null;var viewState=null;var isFormPrintFlag=false;function printList(A,B){if(!A){return }plist=A;styleData=B;if(arguments[2]!=null){printDefaultSelect=arguments[2]}else{printDefaultSelect=null}if(arguments[3]!=null){notPrintDefaultSelect=arguments[3]}else{notPrintDefaultSelect=null}if(arguments[4]!=null){contentType=arguments[4]}else{contentType=null}if(arguments[5]!=null){viewState=arguments[5]}else{viewState=null}if(arguments[6]!=null){otherPrarams=arguments[6]}else{otherPrarams=null}printButton()}function printButton(){var A=_ctxPath+"/common/print/print.jsp?jsessionid="+_sessionid;if(contentType){A+="&contentType="+contentType}if(viewState){A+="&viewState="+viewState}window.open(A)}function getParentWindow(A){A=A||window;if(A.dialogArguments){return A.dialogArguments}else{return A.opener||A}}function printLoad(){var E=getParentWindow();var B=document.getElementById("context");var H=E.plist;var C=H.size();for(var F=0;F<C;F++){var K=H.get(F);if(typeof (K.dataHtml)==="undefined"||typeof (K.dataHtml)===undefined){B.innerHTML+="<p></p>"}else{B.innerHTML+="<p>"+K.dataHtml+"</p>"}}var D=E.styleData;setStyle(D);var G=document.getElementById("checkOption");var A=E.plist;var J=H.size();var I=0;for(var F=0;F<J;F++){var K=A.get(F);if(K.dataName!=null&&K.dataName!=""){G.innerHTML+="<label for='dataNameBox"+F+"' class='margin_r_10 hand'><input class='radio_com' type=checkbox checked name='dataNameBoxes' id=dataNameBox"+F+" onclick='printMain(this)'><font style='font-size:12px' color='black'>"+K.dataName+"</font></label>&nbsp;&nbsp;";I++}}if(I>0){G.innerHTML+="<font style='font-size:12px' color='black'><label for='printall' class='margin_r_10 hand'><input class='radio_com' type=checkbox id ='printall' checked name=cboxs onclick=printAll(this)>"+$.i18n("print.printall.label.js")+"</label></font>"}if(E.notPrintDefaultSelect!=null){for(var F=0;F<E.notPrintDefaultSelect.length;F++){if(document.getElementById("dataNameBox"+E.notPrintDefaultSelect[F])!=null){document.getElementById("dataNameBox"+E.notPrintDefaultSelect[F]).checked=false}}}document.close();var B=document.getElementById("context");creatDataHtml(H,B);disabledLink()}function printMain(C){var B=getParentWindow();var D=B.plist;var A=document.getElementById("context");creatDataHtml(D,A);checkCount(C,D);disabledLink();initBodyHeight()}function cleanSpecial(E){var A=E.indexOf("<DIV>");if(A==-1){return E}var C=E.substr(0,A-1);var D=E.substr(A);var B=D.indexOf("</DIV>");var F=D.substr(B+6);return cleanSpecial(C+F)}function creatDataHtml(H,F){var E=H.size();var D=new StringBuffer();D.append("");for(var C=0;C<E;C++){var G=H.get(C);if(G.dataName!=null&&G.dataName!=""){var A=document.getElementById("dataNameBox"+C);if(A.checked){if(typeof (G.dataHtml)==="undefined"||typeof (G.dataHtml)===undefined){D.append("<p></p>")}else{D.append("<p>"+G.dataHtml+"</p>")}}else{var B=document.getElementById("printall");B.checked=false}}if(G.dataName==""){if(typeof (G.dataHtml)==="undefined"||typeof (G.dataHtml)===undefined){D.append("<p></p>")}else{D.append("<p>"+G.dataHtml+"</p>")}}}$(F).html(D.toString());if(contentType==20){replaceFormCompField();initFormContent(true)}}function replaceFormCompField(){var G=null;var A=$("span[id$='_span']",$("#context"));var B=getParentWindow().otherPrarams;if(B){if(B.formObj){G=B.formObj}}for(var C=0;C<A.length;C++){var E=$(A[C]);var F=E.attr("fieldVal");if(F==undefined){return true}else{F=$.parseJSON(F)}var D=E.attr("id").split("_")[0];if(F.inputType=="attachment"||F.inputType=="document"||F.inputType=="image"){if(20==contentType&&G!=null){E.html(B[getRecordIdByJqueryField(E)+"_"+D])}E.find(".ico16").each(function(){if($(this).hasClass("affix_del_16")||$(this).hasClass("affix_16")||$(this).hasClass("associated_document_16")||$(this).hasClass("insert_pic_16")){$(this).hide()}if($(this).hasClass("collection_16")){$(this).attr("title","")}})}}}function checkCount(G,H){var B=H.size();if(G.checked==false){var E=0;for(var C=0;C<B;C++){var D=H.get(C);if(D.dataName!=null&&D.dataName!=""){var A=document.getElementById("dataNameBox"+C);if(A.checked==false){E++}}}if(E==B){alert("\u6253\u5370\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a");if(G.id=="printall"){var F=parent.getParentWindow();if(F.printDefaultSelect!=null){if(document.getElementById("dataNameBox"+F.printDefaultSelect[0])!=null){document.getElementById("dataNameBox"+F.printDefaultSelect[0]).checked=true}else{document.getElementById("dataNameBox0").checked=true}}else{document.getElementById("dataNameBox0").checked=true}}else{G.checked=true}printMain(G);return false}}}function PrintFragment(A,B){this.dataName=A;this.dataHtml=B}function disabledLink(){var K=document.body.getElementsByTagName("a");var T=document.body.getElementsByTagName("span");var B=document.body.getElementsByTagName("u");var G=document.body.getElementsByTagName("table");var C=document.body.getElementsByTagName("INPUT");var J=document.body.getElementsByTagName("img");var X=document.body.getElementsByTagName("select");var H=document.body.getElementsByTagName("TEXTAREA");var O=document.body.getElementsByTagName("td");var I=document.body.getElementsByTagName("tr");var A=document.body.getElementsByTagName("OBJECT");var L=$(".xdRepeatingSection");var S="border-left:0px;border-top:0px;border-right:0px;border-bottom:0px solid #ff0000";for(var P=0;P<K.length;P++){K[P].target="_self";K[P].style.color="#000000";K[P].onclick="";K[P].href="###";K[P].style.textDecoration="none";K[P].style.cursor="default"}for(var P=0;P<T.length;P++){T[P].onmouseout="";T[P].onmouseover="";T[P].onclick="";T[P].style.cursor="default"}for(var P=0;P<B.length;P++){B[P].onclick=function(){}}for(var P=0;P<G.length;P++){G[P].onclick=""}for(var P=C.length-1;P>=0;P--){if(C[P].type=="checkbox"){if(C[P].parentNode.parentNode.id=="checkOption"||C[P].id=="printall"){continue}}else{if(C[P].type=="text"){if(C[P].id!="print8"){var Q=C[P].style.cssText;var E="WORD-WRAP: break-word;TABLE-LAYOUT: fixed;word-break:break-all";if(Q==""){Q=E}else{Q=Q+";"+E}C[P].outerHTML='<span id="'+C[P].id+'" class="'+C[P].className+'" style="'+Q+'">'+C[P].value.escapeSameWidthSpace()+"</span>";continue}}}var V="print1 print2 print3 print4 print5 print6 print7 print8 dataNameBox0 dataNameBox1 dataNameBox2 dataNameBox3 dataNameBox4 dataNameBox5 printall";if(V.indexOf(C[P].id)==-1){C[P].disabled="disabled";C[P].onkeypress="";C[P].onchange="";C[P].onclick="";C[P].onmouseout="";C[P].onmouseover="";C[P].onfocus="";C[P].onblur="";if(!v3x.isMSIE){C[P].disabled="disabled"}}}for(var P=0;P<J.length;P++){J[P].onkeypress="";J[P].onchange="";J[P].onclick="";J[P].style.cursor="default";J[P].alt="";J[P].title="";try{var N=J[P].src.toString();if(N.indexOf("form/image/selecetUser.gif")!=-1||N.indexOf("form/image/date.gif")!=-1||N.indexOf("form/image/add.gif")!=-1||N.indexOf("form/image/addEmpty.gif")!=-1||N.indexOf("form/image/delete.gif")!=-1||N.indexOf("handwrite.gif")!=-1||N.indexOf("seeyon/apps_res/v3xmain/images/message/16/attachment.gif")!=-1||N.indexOf("seeyon/apps_res/form/image/quoteform.gif")!=-1){J[P].outerHTML="&nbsp;&nbsp;&nbsp;";P--}if(N.indexOf("handwrite.gif")!=-1){for(var W=0;W<A.length;W++){if(A[W].innerHTML.indexOf("Enabled")!=-1){A[W].Enabled=false}}}}catch(R){}}for(var M=X.length-1;M>=0;M--){var Q=X[M].style.cssText;try{var D=X[M].parentNode.childNodes;for(var U=0;U<D.length;U++){if(D[U].id==X[M].id+"_autocomplete"){Q=D[U].style.cssText;break}}}catch(R){}X[M].parentNode.outerHTML='<span class="'+X[M].className+'" style="'+Q+'">'+X[M].options[X[M].selectedIndex].text+"</span>"}for(var P=0;P<H.length;P++){try{var F="overflow-y:visible;overflow-x:visible;";var Q=H[P].style.cssText;if(Q==""){Q=F}else{Q=Q+";"+F}H[P].style.cssText=Q;H[P].onclick="";H[P].onkeypress="";H[P].onchange="";H[P].onmouseout="";H[P].onmouseover="";H[P].onfocus="";H[P].onblur=""}catch(R){}H[P].readOnly="readOnly"}for(var P=0;P<O.length;P++){O[P].onclick=""}for(var P=0;P<I.length;P++){I[P].onclick="";$(I[P]).unbind("click").attr("onclick","")}L.each(function(){this.onclick="";$(this).unbind("click").attr("onclick","")})}function printInnerLoad(){var D=document.getElementById("context");var F=parent.getParentWindow();var G=F.plist;var C=G.size();for(var B=0;B<C;B++){var E=G.get(B);if(typeof (E.dataHtml)==="undefined"||typeof (E.dataHtml)===undefined){D.innerHTML+="<p></p>"}else{D.innerHTML+="<p>"+E.dataHtml+"</p>"}}var A=F.styleData;if(!A){setStyle(A)}}function setStyle(A){if(A.size()>0){var B=document.getElementById("linkList");if(B==null){return }for(var C=0;C<A.size();C++){var D=document.createElement("link");D.setAttribute("rel","stylesheet");D.setAttribute("href",A.get(C));D.setAttribute("type","text/css");B.appendChild(D)}}}function printAll(C){var A=document.getElementsByName("dataNameBoxes");if(C.checked){for(var B=0;B<A.length;B++){A[B].checked=true}printMain(C)}else{for(var B=0;B<A.length;B++){A[B].checked=false}printMain(C)}}function onbeforeprint(){document.getElementById("checkOption").style.display="none"}function onafterprint(){document.getElementById("checkOption").style.display=""};
function MxtProgressBar(A){if(A==undefined){A={}}this.id=A.id?A.id:Math.floor(Math.random()*100000000);this.text=A.text?A.text:"";this.progress=A.progress?A.progress:"";this.width=A.width?A.width:600;this.height=A.height?A.height:70;this.isMode=A.isMode==undefined?true:A.isMode;this.buttons=A.buttons;if(this.buttons!=null){this.height+=30}this.borderSize=1;this.init()}MxtProgressBar.prototype.init=function(){var D=this.id+"_mask";var G=document.body.clientWidth;var B=(document.documentElement.scrollHeight>document.documentElement.clientHeight?document.documentElement.scrollHeight:document.documentElement.clientHeight);if(typeof ($("#"+D)[0])=="undefined"&&this.isMode==true){$("body").prepend("<div id='"+D+"' class='mask' style='width:"+G+"px;height:"+B+"px;'>&nbsp;</div>")}if(typeof ($("#"+this.id)[0])!="undefined"){$("#"+this.id).remove()}var A="";if(this.progress==""){var I=(G-66)/2;var H=(document.documentElement.clientHeight-66)/2;A+="<div id='"+this.id+"' class='common_loading_progress_box absolute clearfix' style='left:"+(I+document.documentElement.scrollLeft)+"px;top:"+(H+document.documentElement.scrollTop)+"px;'></div>";if(this.text!=""&&this.text!=undefined){A+="<div id='"+this.id+"_text' class='absolute clearfix' style='width:auto;overflow:hidden;border:0px #286fbf solid;background:#f8f8f8;z-index:1001;font-size:12px;padding:5px;left:"+(I+document.documentElement.scrollLeft-76)+"px;top:"+(H+document.documentElement.scrollTop+66)+"px;'>"+this.text+"</div>"}}else{var I=(G-(this.width+5))/2;var H=(document.documentElement.clientHeight-(this.height+5))/2;A+="<div id='"+this.id+"' class='common_progress_box absolute clearfix' style='left:"+((I<0?0:I)+document.documentElement.scrollLeft)+"px;top:"+((H<0?0:H)+document.documentElement.scrollTop)+"px;'>";A+="<div id='"+this.id+"_shadow' class='common_progress_shadow absolute' style='width:"+(this.width+this.borderSize*2)+"px;height:"+(this.height+this.borderSize*2)+"px;'>&nbsp;</div>";A+="<div class='common_progress_strip absolute padding_5' style='width:"+(this.width-10)+"px;height:"+(this.height-10)+"px;'>";if(this.text!=""){A+="<dl id='"+this.id+"_title' class='common_progress_strip_title margin_b_5 margin_t_5 '>"+this.text+"</dl>"}A+="<dl id='"+this.id+"_text' class='common_progress_strip_per margin_l_10 right margin_r_5'>"+this.progress+"%</dl>";A+="<dl class='common_progress_strip_content'>";A+="<dt id='"+this.id+"_progress' class='common_progress_strip_bg' style='width:"+this.progress+"%'></dt>";A+="</dl>";A+="<div class='padding_10'><table class='common_right'><tr><td class='clearfix' id='"+this.id+"_buttons'>";A+="</td></tr></table></div>";A+="</div>";A+="</div>"}$("body").prepend(A);if(this.buttons!=null){for(var C=0;C<this.buttons.length;C++){var E=this.buttons[C];$("<a id='"+E.id+"' href='javascript:void(0)' class='common_button common_button_gray margin_r_10'>"+E.text+"</a>\n").click(E.handler).appendTo($("#"+this.id+"_buttons"))}}var F=$("#"+this.id+"_text").width();$("#"+this.id+"_text").css("left",I+document.documentElement.scrollLeft-((F-56)/2)+"px")};MxtProgressBar.prototype.setProgress=function(A){$("#"+this.id+"_progress").css("width",A+"%");$("#"+this.id+"_text").html(A+"%")};MxtProgressBar.prototype.setTitle=function(A){$("#"+this.id+"_title").html(A)};MxtProgressBar.prototype.close=function(){$("#"+this.id+"_mask").remove();$("#"+this.id).remove();if(this.text!=""&&this.text!=undefined){$("#"+this.id+"_text").remove()}};MxtProgressBar.prototype.start=function(){$("#"+this.id+"_mask").show();$("#"+this.id).show();if(this.text!=""&&this.text!=undefined){$("#"+this.id+"_text").show()}};
jQuery.fn.projectList=function(){var A=$(this).selector;$(A+" .btn_ico").click(function(){var D=$(this).parents("tbody").index()-1;var H=$(this).parents("tr").attr("class");var F=$(this).parents("tr").index();var G=$(this).parents("tr").attr("lv");var E=C(1);var I;function C(J){return $(A+" tbody:eq("+D+") tr:eq("+(F+J)+")")[0]}if(E){I=$(C(1)).css("display");B(1)}function B(K){if(K){E=C(K)}if(E){var J=$(E).attr("lv")?parseInt($(E).attr("lv")):0;if(J>G){if(I=="none"){if(J==parseInt(G)+1){$(E).fadeIn("fast")}}else{$(E).fadeOut("fast")}B(K+1)}}}})};
(function(B){B.tiny=B.tiny||{};B.tiny.scrollbar={options:{axis:"y",wheel:40,scroll:true,lockscroll:true,size:"auto",sizethumb:"auto"}};B.fn.tinyscrollbar=function(C){var D=B.extend({},B.tiny.scrollbar.options,C);this.each(function(){B(this).data("tsb",new A(B(this),D))});return this};B.fn.tinyscrollbar_update=function(C){return B(this).data("tsb").update(C)};function A(K,U){var Q=this,H=K,R={obj:B(".viewport",K)},T={obj:B(".overview",K)},X={obj:B(".scrollbar",K)},O={obj:B(".track",X.obj)},L={obj:B(".thumb",X.obj)},P=U.axis==="x",N=P?"left":"top",F=P?"Width":"Height",J=0,C={start:0,now:0},M={},W=("ontouchstart" in document.documentElement)?true:false;function Y(){Q.update();I();return Q}this.update=function(Z){R[U.axis]=R.obj[0]["offset"+F];T[U.axis]=T.obj[0]["scroll"+F];T.ratio=R[U.axis]/T[U.axis];X.obj.toggleClass("disable",T.ratio>=1);O[U.axis]=U.size==="auto"?R[U.axis]:U.size;L[U.axis]=Math.min(O[U.axis],Math.max(0,(U.sizethumb==="auto"?(O[U.axis]*T.ratio):U.sizethumb)));X.ratio=U.sizethumb==="auto"?(T[U.axis]/O[U.axis]):(T[U.axis]-R[U.axis])/(O[U.axis]-L[U.axis]);J=(Z==="relative"&&T.ratio<=1)?Math.min((T[U.axis]-R[U.axis]),Math.max(0,J)):0;J=(Z==="bottom"&&T.ratio<=1)?(T[U.axis]-R[U.axis]):isNaN(parseInt(Z,10))?J:parseInt(Z,10);E()};function E(){var Z=F.toLowerCase();L.obj.css(N,J/X.ratio);T.obj.css(N,-J);M.start=L.obj.offset()[N];X.obj.css(Z,O[U.axis]);O.obj.css(Z,O[U.axis]);L.obj.css(Z,L[U.axis])}function I(){if(!W){L.obj.bind("mousedown",S);O.obj.bind("mouseup",G)}else{R.obj[0].ontouchstart=function(Z){if(1===Z.touches.length){S(Z.touches[0]);Z.stopPropagation()}}}if(U.scroll&&window.addEventListener){H[0].addEventListener("DOMMouseScroll",D,false);H[0].addEventListener("mousewheel",D,false)}else{if(U.scroll){H[0].onmousewheel=D}}}function S(Z){var a=parseInt(L.obj.css(N),10);M.start=P?Z.pageX:Z.pageY;C.start=a=="auto"?0:a;if(!W){B(document).bind("mousemove",G);B(document).bind("mouseup",V);L.obj.bind("mouseup",V)}else{document.ontouchmove=function(b){b.preventDefault();G(b.touches[0])};document.ontouchend=V}}function D(b){if(T.ratio<1){var Z=b||window.event,a=Z.wheelDelta?Z.wheelDelta/120:-Z.detail/3;J-=a*U.wheel;J=Math.min((T[U.axis]-R[U.axis]),Math.max(0,J));L.obj.css(N,J/X.ratio);T.obj.css(N,-J);if(U.lockscroll||(J!==(T[U.axis]-R[U.axis])&&J!==0)){Z=B.event.fix(Z);Z.preventDefault()}}}function G(Z){if(T.ratio<1){if(!W){C.now=Math.min((O[U.axis]-L[U.axis]),Math.max(0,(C.start+((P?Z.pageX:Z.pageY)-M.start))))}else{C.now=Math.min((O[U.axis]-L[U.axis]),Math.max(0,(C.start+(M.start-(P?Z.pageX:Z.pageY)))))}J=C.now*X.ratio;T.obj.css(N,-J);L.obj.css(N,C.now)}}function V(){B(document).unbind("mousemove",G);B(document).unbind("mouseup",V);L.obj.unbind("mouseup",V);document.ontouchmove=document.ontouchend=null}return Y()}}(jQuery));
var Bord=({base:function(B){var A=B.find("option:selected");if(A.length==0){$.alert("\u8bf7\u9009\u62e9");return false}return A},add:function(){with(this){var addList=base(addObj);if(addList==false){return false}for(var i=0;i<addList.length;i++){if(maxLength!=false&&(i>maxLength-1||removeObj.find("option").length>=maxLength)){$.alert("\u6700\u591a\u53ea\u80fd\u9009\u62e9"+maxLength+"\u6761");return }if(isKeep==true){if(!addObj.find($(addList[i])).hasClass("color_gray")){removeObj.append($(addList[i]).clone(true))}else{$.alert("\u9009\u62e9\u91cd\u590d");return false}addObj.find($(addList[i])).addClass("color_gray")}else{addObj.find($(addList[i])).remove();removeObj.append($(addList[i]).clone(true))}}}return true},remove:function(){with(this){var removeList=base(removeObj);if(removeList==false){return false}for(var i=0;i<removeList.length;i++){removeObj.find($(removeList[i])).remove();var selectId=$(removeList[i]).attr("type");if(isKeep==true){var val=$(removeList[i]).val();$("#"+selectId).find("option[value='"+val+"']").removeClass("color_gray")}else{$("#"+selectId).append(removeList[i])}}}return true},moveT:function(F){var E=this.base(F);for(var B=0;B<E.length;B++){var C=$(E[B]);var D=F.find("option").eq(B);var A=C.prev("option");if(C.attr("value")!=D.attr("value")){C.after(A)}}},moveB:function(H){var G=this.base(H);var E=G.length;var B=H.find("option").length;for(var C=0;C<G.length;C++){var D=$(G[E-C-1]);var F=H.find("option").eq(B-C-1);var A=D.next("option");if(D.attr("value")!=F.attr("value")){D.before(A)}}},refreash:function(){with(this){var options=removeObj.find("option");$.each(options,function(i,n){var selectId=$(n).attr("type");var val=$(n).val();if(isKeep==true){$("#"+selectId).find("option[value='"+val+"']").addClass("color_gray")}else{$("#"+selectId).find("option[value='"+val+"']").remove()}})}}});function setBord(A){this.maxLength=A.maxLength;this.isKeep=A.isKeep;this.addObj=A.addObj;this.removeObj=A.removeObj;if(A.dbbinds){$.each(A.dbbinds,function(B,C){$(B).bind("dblclick",C)})}}setBord.prototype=Bord;
function MxtTab(A){this.id=A.id;this.width=A.width?A.width:null;this.height=A.height?A.height:null;this.parentId=A.parentId?A.parentId:null;this.refreashTab=A.refreashTab?A.refreashTab:false;this.hideTabHeight=A.hideTabHeight?A.hideTabHeight:false;this.init()}MxtTab.prototype.init=function(){this.tabs_head=$("#"+this.id+"_head");this.tabs_body=$("#"+this.id+"_body");var B=document.body.clientWidth;var C=document.documentElement.clientHeight;if(this.width==null){this.width=B-2}if(this.height==null){this.height=C-this.tabs_head.height()-2}if(this.parentId!=null){this.width=$("#"+this.parentId).width()-2;this.height=$("#"+this.parentId).height()-this.tabs_head.height()-2}if(this.hideTabHeight){this.height=this.height-this.tabs_head.height()}this.tabs_head.css("width",this.width);this.tabs_body.css({width:this.width,height:this.height});this.tabs=$("#"+this.id+"_head a");var A=this;this.tabs.each(function(D){var E=$(this).attr("tgt");$("#"+E).css("height",A.height);if($("#"+E)[0]){if(D!=0&&$("#"+E)[0].tagName.toLowerCase()=="iframe"&&A.tabs_body.find("iframe").size()!=1){if(!$("#"+E).attr("hSrc")){$("#"+E).attr("hSrc",$("#"+E).attr("src"))}$("#"+E).attr("src","")}}$(this).click(function(){if($("#"+E)[0]){$(this).parent().addClass("current").siblings().removeClass("current");$("#"+E).removeClass("hidden").addClass("show").siblings().removeClass("show").addClass("hidden");if(($("#"+E).attr("src")==""||A.refreashTab)&&$("#"+E)[0].tagName.toLowerCase()=="iframe"&&A.tabs_body.find("iframe").size()!=1){$("#"+E).attr("src",$("#"+E).attr("hSrc"))}}})})};MxtTab.prototype.disabled=function(A){this.tabs.each(function(B){var C=$(this).attr("tgt");if(C==A){$(this).addClass("disable").unbind("click")}})};MxtTab.prototype.enable=function(A){this.tabs.each(function(B){var C=$(this).attr("tgt");if(C==A){$(this).removeClass("disable").click(function(){$(this).parent().addClass("current").siblings().removeClass("current");$("#"+C).removeClass("hidden").addClass("show").siblings().removeClass("show").addClass("hidden")})}})};MxtTab.prototype.setCurrent=function(B){var A=this;this.tabs.each(function(C){var D=$(this).attr("tgt");if(D==B){$(this).parent().addClass("current").siblings().removeClass("current");$("#"+D).removeClass("hidden").addClass("show").siblings().removeClass("show").addClass("hidden");if($("#"+D)[0]){if($("#"+D)[0].tagName.toLowerCase()=="iframe"&&A.tabs_body.find("iframe").size()!=1){var E=$("#"+D);var F=E.attr("src");E.attr("src","");E.attr("src",F)}}}})};MxtTab.prototype.setMouseOver=function(){var A=this;this.tabs.each(function(B){var C=$(this).attr("tgt");if($("#"+C)[0]){if(B!=0&&$("#"+C)[0].tagName.toLowerCase()=="iframe"&&A.tabs_body.find("iframe").size()!=1){$("#"+C).attr("hSrc",$("#"+C).attr("src"));$("#"+C).attr("src","")}}$(this).unbind("click").mouseover(function(){if($("#"+C)[0]){$(this).parent().addClass("current").siblings().removeClass("current");$("#"+C).removeClass("hidden").addClass("show").siblings().removeClass("show").addClass("hidden");if($("#"+C).attr("src")==""&&$("#"+C)[0].tagName.toLowerCase()=="iframe"&&A.tabs_body.find("iframe").size()!=1){$("#"+C).attr("src",$("#"+C).attr("hSrc"))}}})})};MxtTab.prototype.setClick=function(){var A=this;this.tabs.each(function(B){var C=$(this).attr("tgt");if($("#"+C)[0]){if(B!=0&&$("#"+C)[0].tagName.toLowerCase()=="iframe"&&A.tabs_body.find("iframe").size()!=1){$("#"+C).attr("hSrc",$("#"+C).attr("src"));$("#"+C).attr("src","")}}$(this).unbind("mouseover").click(function(){if($("#"+C)[0]){$(this).parent().addClass("current").siblings().removeClass("current");$("#"+C).removeClass("hidden").addClass("show").siblings().removeClass("show").addClass("hidden");if($("#"+C).attr("src")==""&&$("#"+C)[0].tagName.toLowerCase()=="iframe"&&A.tabs_body.find("iframe").size()!=1){$("#"+C).attr("src",$("#"+C).attr("hSrc"))}}})})};MxtTab.prototype.resetSize=function(A){if(this.width==null){this.width=_client_width-2}if(this.height==null){this.height=_client_height-this.tabs_head.height()-2}if(this.parentId!=null){this.width=$("#"+this.parentId).width()-2;this.height=$("#"+this.parentId).height()-this.tabs_head.height()-2}if(this.hideTabHeight){this.height=this.height-this.tabs_head.height();alert(this.height)}var A=A;if(A==null){A=[]}if(A.width!=null){this.width=A.width}if(A.height!=null){this.height=A.height}this.tabs_head.css("width",this.width);this.tabs_body.css({width:this.width,height:this.height});this.tabs_body.children().css({width:this.width,height:this.height})};
function MxtTimeLine(A){this.id=A.id!=undefined?A.id:Math.floor(Math.random()*100000000);this.height=A.height==undefined?500:A.height;this.render=A.render;this.timeStep=A.timeStep==undefined?["8:00","18:00"]:A.timeStep;this.date=A.date;if(this.date==undefined){var B=new Date();this.date[0]=B.getFullYear();this.date[1]=B.getMonth()+1;this.date[2]=B.getDate()}this.autoHeight=0;this.dateHeight=20;this.editHeight=10;this.boxPadding=10;this.isHasMaxEvent=false;this.hideFlag=true;this.items=A.items;this.action=A.action;this.searchClick=A.searchClick==undefined?function(){}:A.searchClick;this.editClick=A.editClick==undefined?function(){}:A.editClick;this.maxClick=A.maxClick==undefined?function(){}:A.maxClick;this.MonHead=[31,28,31,30,31,30,31,31,30,31,30,31];this.scaleArray=new Object();this.scaleHourArray=new Object();this.initTimeLine();this.initType()}MxtTimeLine.prototype.initTimeLine=function(){this.isHasMax();if(this.isHasMaxEvent){this.boxPadding=25}this.timeLineHeight=this.height-this.dateHeight-this.editHeight-this.boxPadding-this.autoHeight;this.time_line_box=$("<div class='time_line_box' id='"+this.id+"_box' style='padding-bottom:"+this.boxPadding+"px'></div>");this.time_line_edit=$("<div class='clearfix'><span id='"+this.id+"_editor' class='ico16 editor_16 left'></span><span id='"+this.id+"_maximize' class='ico16 maximize_16 right'></span> </div>");this.time_line_edit_div=$("<div class='time_line_edit hidden over_hidden'></div>");this.time_line_date=$("<div class='time_line_date' style='height:30px;letter-spacing:1px;'><span id='"+this.id+"_date'>"+(this.date[1].length==1?"0"+this.date[1]:this.date[1])+"-"+(this.date[2].length==1?"0"+this.date[2]:this.date[2])+"</span></div>");this.time_line_date_set=$("<div id='"+this.id+"_time_line_date_set' class='hidden' style='height:20px'></div>");this.time_line_date_set_mouth=$("<select class='left "+this.id+"_time_line_date_set_mouth' id='"+this.id+"_time_line_date_set_mouth'></select>");this.time_line_date_set_day=$("<select class='left "+this.id+"_time_line_date_set_day' id='"+this.id+"_time_line_date_set_day'></select>");this.time_line_date_set_ok=$("<a class='tooltip_close font_size12 right margin_r_10 margin_t_5 hand color_blue'>"+$.i18n("common.button.ok.label")+"</a>");this.time_line_date_set_cancel=$("<a class='tooltip_close font_size12 right margin_t_5 hand color_blue'>"+$.i18n("common.button.cancel.label")+"</a>");this.time_line_date_set.append(this.time_line_date_set_mouth);this.time_line_date_set.append("<span class='left font_size12' style='margin-top:2px;margin-right:10px;'>"+$.i18n("calendar_month")+"</span>");this.time_line_date_set.append(this.time_line_date_set_day);this.time_line_date_set.append("<span class='left font_size12 ' style='margin-top:2px;margin-right:2px;'>"+$.i18n("calendar_day")+"</span>");this.time_line_date_set.append(this.time_line_date_set_cancel);this.time_line_date_set.append(this.time_line_date_set_ok);this.time_line_date.append(this.time_line_date_set);this.time_line_edit_div.append(this.time_line_edit);$("body").append(this.time_line_edit_div);this.time_line_box.append(this.time_line_date);this.time_line_main=$("<div class='time_line_main relative' style='height:"+this.timeLineHeight+"px' id='"+this.id+"_main'></div>");this.timeStepInt=parseInt(this.timeStep[1],10)-parseInt(this.timeStep[0],10);this.subTime=this.timeLineHeight/(this.timeStepInt*2);for(var E=0;E<this.timeStepInt*2;E++){if(E==0){var C=$("<div class='time_hour_scale absolute'></div>");C.css({top:E*this.subTime-1});this.time_line_main.append(C);var B=$("<div class='time_hour absolute clearfix'><div class='time_hour_number' style='width:13px;'>"+(parseInt(this.timeStep[0],10)+E/2)+"</div><div class='time_hour_number_00' style='width:17px;'>:00</div></div>");B.css({top:(E*this.subTime-6)-7});this.time_line_main.append(B);this.scaleArray[parseInt(this.timeStep[0],10)+E/2]=E*this.subTime;this.scaleHourArray[parseInt(this.timeStep[0],10)+E/2]=B}else{if(E%2==0){var C=$("<div class='time_hour_scale absolute'></div>");C.css({top:E*this.subTime-1});this.time_line_main.append(C);var B=$("<div class='time_hour absolute clearfix'><div class='time_hour_number'>"+(parseInt(this.timeStep[0],10)+E/2)+"</div><div class='time_hour_number_00'>00</div></div>");B.css({top:(E*this.subTime-6)-7});this.time_line_main.append(B);this.scaleArray[parseInt(this.timeStep[0],10)+E/2]=E*this.subTime;this.scaleHourArray[parseInt(this.timeStep[0],10)+E/2]=B}else{var G=$("<div class='time_harf_hour_scale absolute'></div>");G.css({top:E*this.subTime});this.time_line_main.append(G)}}}var G=$("<div class='time_hour_scale absolute'></div>");G.css({top:this.timeStepInt*2*this.subTime-1});var B=$("<div class='time_hour absolute clearfix'><div class='time_hour_number'>"+parseInt(this.timeStep[1],10)+"</div><div class='time_hour_number_00'>00</div></div>");B.css({top:(this.timeStepInt*2*this.subTime-6)-7});this.time_line_main.append(B);this.scaleArray[parseInt(this.timeStep[1],10)]=this.timeStepInt*2*this.subTime;this.scaleHourArray[parseInt(this.timeStep[1],10)]=B;this.time_line_main.append(G);this.time_line_box.append(this.time_line_main);if(this.render==undefined){$("body").append(this.time_line_box)}else{$("#"+this.render).append(this.time_line_box)}this.year=this.date[0];this.month=parseInt(this.date[1],10);this.day=this.date[2];for(var F=1;F<13;F++){this.time_line_date_set_mouth.append($("<option "+(F==this.month?"selected":"")+">"+F+"</option>"))}this.changeDate(parseInt(this.year,10),parseInt(this.month,10));var A=this;$("#"+this.id+"_editor").click(this.editClick);$("#"+this.id+"_maximize").click(this.maxClick);this.time_line_date_set_ok.click(this.searchClick);this.time_line_date_set_mouth.change(function(){A.changeDate(parseInt(A.date[0],10),parseInt($(this).val(),10))});var D=true;this.time_line_box.mouseenter(function(){var H=$(this).offset();A.time_line_edit_div.css({left:H.left,top:H.top-16}).show();D=true}).mouseleave(function(){setTimeout(function(){if(D){A.time_line_edit_div.hide()}},10)});this.time_line_edit_div.mouseenter(function(){$("#"+A.id+"_time_line_date_set_tooltip").hide();$(this).show();D=false}).mouseleave(function(){$(this).hide();D=true});this.time_line_date.click(function(){if(A.setDateTooltip==undefined){var H=A.time_line_date.offset().left-230;var I=A.time_line_date.offset().top;A.setDateTooltip=$.tooltip({id:A.id+"_time_line_date_set_tooltip",width:230,openAuto:false,openPoint:[H,I],htmlID:A.id+"_time_line_date_set",direction:"RT",z_index:900})}$("#"+A.id+"_time_line_date_set").show();A.setDateTooltip.show();if($.browser.msie){if($.browser.version=="8.0"||$.browser.version=="7.0"||$.browser.version=="9.0"){$("."+A.id+"_time_line_date_set_mouth").val(parseInt(A.month,10));$("."+A.id+"_time_line_date_set_day").val(parseInt(A.day,10))}}})};MxtTimeLine.prototype.isHasMax=function(){for(var B=0;B<this.items.length;B++){var A=this.items[B];var D=parseInt(A.dateTime,10);var C=A.childItems;if(D==parseInt(this.timeStep[1],10)&&C.length>0){this.isHasMaxEvent=true}}};MxtTimeLine.prototype.initType=function(){var Q=this;if(this.items&&this.items.length>0){for(var H=0;H<this.items.length;H++){var K=this.items[H];var I=K.type;var B=parseInt(K.dateTime,10);var L=K.childItems;if(B<parseInt(this.timeStep[0],10)||B>parseInt(this.timeStep[1],10)){continue}var C=$("<span class='time_line_icon "+I+"'></span>");C.css({top:this.scaleArray[B]+5});(function(S,R){S.mouseenter(function(){$(this).addClass(R+"_over")}).mouseleave(function(){$(this).removeClass(R+"_over")})})(C,I);this.time_line_main.append(C);var F="<div id='"+this.id+"_contentDiv"+H+"' class='"+this.id+"_time_dialog hidden'><ul class='time_dialog'>";for(var G=0;G<L.length;G++){var P=L[G];if(G==0){F+="<li style='border:0px;padding-top:0px;' onclick="+this.action+"('"+P.id+"','"+(P.type==undefined?I:P.type)+"')>"}else{if(G==(L.length-1)){F+="<li style='padding-bottom:0px' onclick="+this.action+"('"+P.id+"','"+(P.type==undefined?I:P.type)+"')>"}else{F+="<li onclick="+this.action+"('"+P.id+"','"+(P.type==undefined?I:P.type)+"')>"}}F+="<div class='title'><em class='time_type_icon "+P.type+"_ico  margin_r_5' style='position: static;display: inline-block;'></em><span style='display:inline-block;line-height:16px;height:16px;vertical-align:2px;'>"+P.title+"</span></div>";F+="<div class='content'>"+P.content+"</div>";F+="<div class='clearfix'>";var N=90;var D=90;var A="";if(P.type=="task"){D=200;N=0;A="display:none;"}else{if(P.type=="meeting"){D=200;N=0;A="display:none;"}else{if(P.type=="plan"){D=220;N=0;A="display:none;"}else{if(P.type=="event"){D=200;N=0;A="display:none;"}else{if(P.type=="collaboration"){N=70;D=130}else{if(P.type=="edoc"){N=130;D=70}}}}}}if(P.account!=undefined){F+="<span class='left account' style='"+A+"width:"+N+"px; text-align:left;font-size:12px;' title='"+P.account+"'>"+P.account+"</span>"}if(P.type=="meeting"){F+="<span class='right' style='width:"+D+"px; text-align:right;font-size:12px;'>";if(P.account!=undefined){F+="<span class='margin_r_10'>"+P.account+"</span>"}F+=P.dateTime+"</span></div>"}else{F+="<span class='right' style='width:"+D+"px; text-align:right;font-size:12px;'>"+P.dateTime+"</span></div>"}F+="</li>"}F+="</ul>";F+="</div>";C.append($(F));var E=C.offset().left-260-6;var J=C.offset().top-8;var M=Q.id+"_contentDiv"+H;var O=Q.id+"_tooltip_"+H;(function(W,R,T,Y,V,X){var S;var U;$(W).mouseenter(function(){$("#"+Y).removeClass("hidden");if(U==undefined){U=$.tooltip({id:R,width:260,openAuto:false,openPoint:[V,X],htmlID:Y,direction:"RT",z_index:900})}(function(Z,a){$("#"+Z).mouseenter(function(){a.hideFlag=false;$(this).show()}).mouseleave(function(){a.hideFlag=true;$(this).hide()})})(R,T);S=setTimeout(function(){T.hideFlag=true;$("div.tooltip").hide();$("#"+R).show();if($.browser.msie){if($.browser.version=="6.0"){var a=$("#"+R).find(".time_dialog").eq(0);var Z=a.height();if(Z>300){a.height(300)}}}},500)}).mouseleave(function(){clearTimeout(S);setTimeout(function(){if(T.hideFlag){U.hide();$("#"+Y).addClass("hidden");T.hideFlag=false}},100)})})(C,O,Q,M,E,J)}}};MxtTimeLine.prototype.clearLine=function(){this.scaleArray=new Object();this.scaleHourArray=new Object();this.boxPadding=10;this.isHasMaxEvent=false;this.setDateTooltip=undefined;$("#"+this.id+"_editor").remove();$("#"+this.id+"_maximize").remove();$("#"+this.id+"_box").remove();$("#"+this.id+"_time_line_date_set").remove();$("#"+this.id+"_time_line_date_set_tooltip").remove();$("."+this.id+"_time_dialog").remove()};MxtTimeLine.prototype.reset=function(A){this.timeStep=A.timeStep==undefined?this.timeStep:A.timeStep;this.date=A.date==undefined?this.date:A.date;this.autoHeight=A.autoHeight==undefined?this.autoHeight:A.autoHeight;this.editClick=A.editClick==undefined?this.editClick:A.editClick;this.maxClick=A.maxClick==undefined?this.maxClick:A.maxClick;this.items=A.items==undefined?this.items:A.items;this.clearLine();this.initTimeLine();this.initType()};MxtTimeLine.prototype.getDate=function(){var B=this.date[0];var D=$("#"+this.id+"_time_line_date_set_mouth").val();var A=$("#"+this.id+"_time_line_date_set_day").val();var E=this.timeStep[0];var C=this.timeStep[1];return{year:B,mounth:D,day:A,fromTime:E,toTime:C}};MxtTimeLine.prototype.setTimeLineDate=function(A){this.year=A.year;this.mounth=A.mounth;this.day=A.day;if(this.mounth==undefined){this.mounth=A.date.getMonth()+1}if(this.day==undefined){this.day=A.date.getDate()}$("#"+this.id+"_date").empty().html(this.mounth+"-"+this.day);$("#"+this.id+"_time_line_date_set_mouth").empty();for(var B=1;B<13;B++){$("#"+this.id+"_time_line_date_set_mouth").append($("<option "+(B==this.mounth?"selected":"")+">"+B+"</option>"))}this.changeDate(parseInt(this.year,10),parseInt(this.mounth,10))};MxtTimeLine.prototype.changeDate=function(B,A){var C=this.MonHead[A-1];if(A==2&&this.IsPinYear(B)){C++}this.writeDay(C)};MxtTimeLine.prototype.writeDay=function(C){var B="";for(var A=1;A<(C+1);A++){B+="<option "+(A==parseInt(this.day,10)?"selected":"")+" value='"+A+"'> "+A+"</option>"}$("#"+this.id+"_time_line_date_set_day").replaceWith("<select class='left "+this.id+"_time_line_date_set_day' id='"+this.id+"_time_line_date_set_day'>"+B+"</select>")};MxtTimeLine.prototype.IsPinYear=function(A){return(0==A%4&&(A%100!=0||A%400==0))};MxtTimeLine.prototype.getDateObj=function(A){var I=this.items;var E=null;if(I&&I.length>0){for(var C=0;C<I.length;C++){var G=I[C];var D=G.childItems;if(D&&D.length>0){for(var B=0;B<D.length;B++){var F=D[B];var H=F.id;if(H&&H==A){E=F;break}}}}}return E};
function WebFXMenuBar(A){this.allMenuBottons=[];this.menuStrBuffer=[];this.render=A.render;this.contextPath=A.contextPath==null?"":A.contextPath;this.searchHtml=A.searchHtml;this.top=A.top==null?0:A.top;this.left=A.left==null?0:A.left;this.borderTop=0;if(A.borderTop==true){this.borderTop=1}this.borderBottom=0;if(A.borderBottom==true){this.borderBottom=1}this.borderRight=0;if(A.borderRight==true){this.borderRight=1}this.borderLeft=0;if(A.borderLeft==true){this.borderLeft=1}this.id=A.id?A.id:Math.floor(Math.random()*100000000);this.type=A.type;this.items=A.items;this.disabledItemArr=[];this.hideIdArray=[]}WebFXMenuBar.prototype.add=function(A){this.allMenuBottons[this.allMenuBottons.length]=A};WebFXMenuBar.prototype.show=function(){if(this.allMenuBottons.length>0){this.menuStrBuffer=[];this.menuStrBuffer.push("<div class='common_toolbar_box clearfix' style='_display:inline; border-top-width:"+this.borderTop+"px;border-bottom-width:"+this.borderBottom+"px;border-left-width:"+this.borderLeft+"px;border-right-width:"+this.borderRight+"px;border-color:#b6b6b6;border-style:solid;'>");this.menuStrBuffer.push("<div id='toolbar_"+this.id+"' class='toolbar_l clearfix'>");this.menuStrBuffer.push("</div>");if(this.searchHtml!=null){this.menuStrBuffer.push("<div class='toolbar_r clearfix'>");this.menuStrBuffer.push($("#"+this.searchHtml).html());this.menuStrBuffer.push("</div>");$("#"+this.searchHtml).remove()}this.menuStrBuffer.push("</div>")}if(this.render==undefined){document.write(this.menuStrBuffer.join(""))}else{$("#"+this.render).append(this.menuStrBuffer.join(""))}var D=$("#toolbar_"+this.id);for(var B=0;B<this.allMenuBottons.length;B++){var C=this.allMenuBottons[B];C.toObj(D);if(B!=(this.allMenuBottons.length-1)){C.toSeparate(D)}}var A=this;$(".sub_ico").each(function(){var E=this.id;A.initDisabledItem(E);$("#"+this.id+"_a").mouseover(function(){A.showMoreMenu(E)}).mouseout(function(){A.hideMoreMenu()})});this.menuStrBuffer=[]};WebFXMenuBar.prototype.hideMoreMenu=function(B){this.hiddenFlag=true;var A=this;setTimeout(function(){A.hideMoreMenuAction(B)},200)};WebFXMenuBar.prototype.hideMoreMenuAction=function(){if(this.hiddenFlag==true){$("#toolbar_more").remove();$("#toolbar_more_iframe").remove()}};WebFXMenuBar.prototype.getPosition=function(D){if(this.top==0&&this.left==0){var C=document.getElementById(D+"_a");var A=C.getBoundingClientRect().left+"px";var B=C.getBoundingClientRect().top+C.clientHeight+"px";return{position:"absolute",top:B,left:A,width:185,"z-index":500}}else{return{position:"absolute",top:this.top,left:this.left,width:185,"z-index":500}}};WebFXMenuBar.prototype.initDisabledItem=function(G){if(G){var C=this.getMenuButton(G);var A=C.subMenu;var E=A.allItems;var B=this.hideIdArray.join(",");for(var D=0;D<E.length;D++){var F=E[D];if(F.disabled!=undefined&&F.disabled==true){this.disabledItemArr.push(F.id)}}}};WebFXMenuBar.prototype.showMoreMenu=function(C){if(C){this.hiddenFlag=false;var K=this.getMenuButton(C);var G=K.subMenu;if($("#toolbar_more").length>0){$("#toolbar_more").remove();$("#toolbar_more_iframe").remove()}var M=this.getPosition(C);$("<div id='toolbar_more' style='background:#ffffff;z-index:10' class='common_order_menu_box clearfix'><ul id='toolbar_more_ul' class='common_order_menu'></ul></div>").css(M).appendTo($("body"));var I=$("#toolbar_more_ul");var N=this;$("#toolbar_more").mouseover(function(){N.hiddenFlag=false}).mouseout(function(){N.hiddenFlag=true;N.hideMoreMenu()});var F=G.allItems;var L=this.hideIdArray.join(",");for(var H=0;H<F.length;H++){var E=F[H];if(L.indexOf(E.id)!=-1){continue}$('<li><a href="javascript:void(0)" id="'+E.id+'_a" class="order_menuitem">'+E.name+"</a></li>").appendTo(I);$("#"+E.id+"_a").attr("value",E.value);if(this.disabledItemArr.indexOf(E.id)==-1){$("#"+E.id+"_a").click(E.click);$("#"+E.id+"_a").click(function(){setTimeout(function(){$("#toolbar_more").remove();$("#toolbar_more_iframe").remove()},100)})}else{$("#"+E.id+"_a").css({color:"#D2D2D2"})}}$("<iframe id='toolbar_more_iframe' src='about:blank' class='absolute' frameborder='0' style='z-index:9'></iframe>").css({top:$("#toolbar_more").css("top"),left:$("#toolbar_more").css("left"),width:$("#toolbar_more").width(),height:$("#toolbar_more").height()}).appendTo($("body"));var J=document.getElementById(C+"_a");var A=parseInt(J.getBoundingClientRect().top)+parseInt(J.clientHeight);var B=$("#toolbar_more").height();var D=parseInt($("body").height());if((A+B)>D){$("#toolbar_more").height(D-A-$(J).height()).css({overflow:"auto"}).addClass("border_all");$("#toolbar_more_ul").css("border","0");$("#toolbar_more_iframe").height(D-A-$(J).height())}}};WebFXMenuBar.prototype.disabledAll=function(){var A=this;$.each(this.allMenuBottons,function(){var B=$(this).attr("id");A.disabled(B)})};WebFXMenuBar.prototype.selected=function(C){var A=this;if(C){var B=C+"_a";$("#"+B).addClass("selected")}};WebFXMenuBar.prototype.unselected=function(C){var A=this;if(C){var B=C+"_a";$("#"+B).removeClass("selected")}else{$("#toolbar_"+this.id+" a").removeClass("selected")}};WebFXMenuBar.prototype.disabled=function(D){var A=this;if(D){var B=D+"_a";$("#"+B).addClass("common_menu_dis");var C="";$("#"+B).mouseover(function(){$(".common_order_menu_box").addClass("hidden");$("#toolbar_more_iframe").remove()});$("#"+B).unbind("click");this.disabledItemArr.push(D)}};WebFXMenuBar.prototype.enabledAll=function(){var A=this;$.each(this.allMenuBottons,function(){var B=$(this).attr("id");A.enabled(B)})};WebFXMenuBar.prototype.enabled=function(G){var B=this;if(G){var E=G+"_a";$("#"+E).removeClass("common_menu_dis");$("#"+E).mouseover(function(){if($("#"+E+" .sub_ico").length!=0){$(".common_order_menu_box").removeClass("hidden")}});var C=this.getMenuButton(G);if(C){$("#"+E).unbind("click").click(C.click)}if(this.disabledItemArr.length>0){var F=[];for(var D=0;D<this.disabledItemArr.length;D++){var A=this.disabledItemArr[D];if(A!=G){F.push(A)}}this.disabledItemArr=F}$("#"+E).attr("style","")}};WebFXMenuBar.prototype.hideBtn=function(E){var B=this;if(E){this.hideIdArray.push(E);var C=E+"_a";var A=$("#"+C);if(A.length>0){A.hide();var D=A.next();if(D.hasClass("seperate")){D.hide()}}}};WebFXMenuBar.prototype.showBtn=function(H){var B=this;if(H){if(this.hideIdArray.length>0){var G=[];for(var E=0;E<this.hideIdArray.length;E++){var D=this.hideIdArray[E];if(D!=H){G.push(D)}}this.hideIdArray=G}var C=H+"_a";var A=$("#"+C);A.show();var F=A.next();if(F.hasClass("seperate")){F.show()}}};WebFXMenuBar.prototype.getMenuButton=function(C){if(C&&this.allMenuBottons.length>0){for(var B=0;B<this.allMenuBottons.length;B++){var A=this.allMenuBottons[B];if(A.id==C){return A}}}};function WebFXMenuButton(A){this.id=A.id;this.name=A.name;this.click=A.click;this.className=A.className;this.subMenu=A.subMenu;this.selected=A.selected;this.type=A.type;this.text=A.text;this.items=A.items;this.onchange=A.onchange;this.disabled=A.disabled;this.value=A.value}WebFXMenuButton.prototype.toObj=function(D){var A=[];var C=this.name;if(this.type=="select"){var B=this.text;A.push("<select id='"+this.id+"'");if(this.disabled==true){A.push(" disabled='true'")}A.push("class='valign_m "+this.className+"' ><option value='"+this.value+"'>"+B+"</option>");if(this.items!=null){$.each(this.items,function(E,F){A.push("<option value='"+F.value+"'>"+F.text+"</option>")})}A.push("</select>");$(A.join("")).appendTo(D);$("#"+this.id).bind("change",this.onchange)}else{A.push("<a href='javascript:void(0)' id='"+this.id+"_a' ");if(this.selected!=undefined&&this.selected==true){A.push(" class='selected'")}A.push(" >");if(this.className!=null){A.push("<em id='"+this.id+"_em' class='"+this.className+"'></em>")}A.push("<span id='"+this.id+"_span' class='menu_span'>"+C+"</span>");if(this.subMenu!=null){A.push("<em id='"+this.id+"'  class='sub_ico' style='margin-right:-5px;margin-left:5px;'></em>")}A.push("</a>");$(A.join("")).click(this.click).appendTo(D)}};WebFXMenuButton.prototype.toSeparate=function(B){var A="seperate margin_lr_5";if(this.className&&this.className.indexOf("hidden")!=-1){A="seperate margin_lr_5 hidden"}$("<em class='"+A+"'></em>").appendTo(B)};function WebFXMenu(){this.allItems=[]}WebFXMenu.prototype.add=function(A){this.allItems[this.allItems.length]=A};function WebFXMenuItem(A){this.id=A.id;this.name=A.name;this.click=A.click;this.className=A.className;this.value=A.value;this.disabled=A.disabled};
function MxtToolTip(A){this.id=A.id?A.id:"toolTip_"+Math.floor(Math.random()*1000000000);this.width=A.width?A.width:200;this.event=A.event?A.event:null;this.targetId=A.targetId?A.targetId:null;this.openPoint=A.openPoint?A.openPoint:[];this.openAuto=A.openAuto?A.openAuto:false;this.direction=A.direction?A.direction:"TL";this.showHtmlID=A.htmlID?A.htmlID:null;this.showMsg=A.msg?A.msg:null;this.targetWindow=A.targetWindow==null?window:A.targetWindow;this.z_index=A.z_index==null?5000:A.z_index;this.left=0;this.top=0;this.init()}MxtToolTip.prototype.init=function(){var B=this;var A="";A+="<div id='"+this.id+"' class='tooltip' style='display:none; position: absolute; width: "+this.width+"px;z-index:"+this.z_index+"'>";A+="<div class='tooltip_border'>";A+="<span><em class='tooltip_em' style=''></em></span>";A+="<div class='tooltip_text'></div>";A+="</div>";A+="</div>";$(this.targetWindow.document).find("body").append(A);if(this.showHtmlID!=null){$("#"+this.showHtmlID).wrap("<div id='"+this.id+"_area'></div>");$(this.targetWindow.document).find("#"+this.id+" .tooltip_text").append($("#"+this.showHtmlID).clone(true));$("#"+this.id+"_area").empty()}else{if(this.showMsg!=null){$(this.targetWindow.document).find("#"+this.id+" .tooltip_text").html(this.showMsg)}else{$(this.targetWindow.document).find("#"+this.id+" .tooltip_text").html($("#"+this.targetId).attr("tooltip"))}}this.setPoint(this.left,this.top);if(this.openAuto==true){this.show()}var B=this;$(this.targetWindow.document).find("#"+this.id+" .tooltip_close").click(function(){B.hide()})};MxtToolTip.prototype.getPD=function(){var E;var B;var D=$(this.targetWindow.document).find("#"+this.id).width();var F=$(this.targetWindow.document).find("#"+this.id).height();var C=$(this.targetWindow).width();var A=$(this.targetWindow).height();if(this.event){E=$("#"+this.targetId).offset().left;B=$("#"+this.targetId).offset().top+$("#"+this.targetId).height()}else{E=this.openPoint[0];B=this.openPoint[1]}if((this.direction.substr(0,1)=="T")||(this.direction.substr(0,1)=="B")){if(E+D>C){this.direction=this.direction.substr(0,1)+"R";this.left=E-D}else{this.left=E}if(B+F>A-5){this.direction="B"+this.direction.substr(1);this.top=B-F}else{this.top=B+5}}else{if(E+D>C){this.direction="R"+this.direction.substr(1);this.left=E-D}else{this.left=E}if(B+F>A){this.direction=this.direction.substr(0,1)+"B";this.top=B-F}else{this.top=B}}this.setDirection(this.direction)};MxtToolTip.prototype.setPoint=function(A,B){this.left=A;this.top=B;this.getPD();$(this.targetWindow.document).find("#"+this.id).css({left:this.left+"px",top:this.top+"px"})};MxtToolTip.prototype.setDirection=function(B){var C=$(this.targetWindow.document).find("#"+this.id+" .tooltip_em");var A="";switch(B){case"TL":A="0 -166px";C.css({left:"",top:"-5px",right:"",bottom:""});break;case"TR":A="0 -166px";C.css({left:"",top:"-5px",right:"10px",bottom:""});break;case"BL":A="0 -160px";C.css({left:"",top:"",right:"",bottom:"-5px"});break;case"BR":A="0 -160px";C.css({left:"",top:"",right:"10px",bottom:"-5px"});break;case"LT":A="-22px -160px";C.css({left:"-5px",top:"",right:"",bottom:"",width:"6px",height:"11px"});break;case"LB":A="-22px -160px";C.css({left:"-5px",top:"",right:"",bottom:"10px",width:"6px",height:"11px"});break;case"RT":A="-16px -160px";C.css({left:"",top:"",right:"-5px",bottom:"",width:"6px",height:"11px"});break;case"RB":A="-16px -160px";C.css({left:"",top:"",right:"-5px",bottom:"10px",width:"6px",height:"11px"});break}C.css({"background-position":A})};MxtToolTip.prototype.setHtml=function(A){if(A.id){if(this.showHtmlID!=null){$(this.targetWindow.document).find("#"+this.showHtmlID).clone(true).appendTo("#"+this.id+"_area");$("#"+this.showHtmlID).unwrap()}this.showHtmlID=A.id;$("#"+this.showHtmlID).wrap("<div id='"+this.showHtmlID+"_area'></div>");$(this.targetWindow.document).find("#"+this.id+" .tooltip_text").empty().append($("#"+this.showHtmlID).clone(true));$("#"+this.showHtmlID+"_area").empty()}if(A.text){$(this.targetWindow.document).find("#"+this.id+" .tooltip_text").html(A.text)}};MxtToolTip.prototype.close=function(){$(this.targetWindow.document).find("#"+this.showHtmlID).clone(true).appendTo("#"+this.id+"_area");$("#"+this.showHtmlID).unwrap();$(this.targetWindow.document).find("#"+this.id).remove()};MxtToolTip.prototype.show=function(){$(this.targetWindow.document).find("#"+this.id).show()};MxtToolTip.prototype.hide=function(){$(this.targetWindow.document).find("#"+this.id).hide()};function MxtTip(A){this.settings={id:"MxtTip"+Math.floor(Math.random()*100000000),targetId:null,top:0,left:0,keepTime:2000,autoShow:true,offsetTop:0,offsetLeft:0,checkPosition:true,color:"#FFF",background:"#85C93A",content:"\u6211\u9700\u8981\u4f60\u7ed9\u6211\u6307\u5b9a\u5185\u5bb9,\u4eb2~",beforeShowCallBack:function(){},callBack:function(){}};$.extend(this.settings,A);this.myObj;this.init()}MxtTip.prototype.init=function(){var G=this;var A="";A+="<div id='"+G.settings.id+"' class='MxtTip' style='display:none;position:absolute;z-index:10000;left:0;top:0; background:"+G.settings.background+";color:"+G.settings.color+";'><div class='MxtTip_content' style='padding: 5px 10px;font-size:12px;'>"+G.settings.content+"</div></div>";$("body").append(A);G.myObj=$("#"+G.settings.id);if(G.settings.targetId){var F=G.myObj.width();var C=$("#"+G.settings.targetId);var E=C.width();var D,B;D=C.offset().top;B=C.offset().left*1+(E-F)/2;G.setPosition({top:D,left:B})}else{if(G.settings.top&&G.settings.left){G.setPosition({top:G.settings.top,left:G.settings.left})}}if(G.settings.autoShow){G.show()}};MxtTip.prototype.setPosition=function(A){var D=this;var C=A.top*1+D.settings.offsetTop;var B=A.left*1+D.settings.offsetLeft;if(D.settings.checkPosition){C=C>=0?C:0;B=B>=0?B:0}D.myObj.css({top:C+"px",left:B+"px"})};MxtTip.prototype.show=function(){var A=this;A.settings.beforeShowCallBack();A.myObj.fadeIn("fast");setTimeout(function(){A.close()},A.settings.keepTime)};MxtTip.prototype.close=function(){var A=this;A.myObj.fadeOut("fast",function(){A.myObj.remove();A.settings.callBack()})};
(function($){var settings={},roots={},caches={},zId=0,_consts={event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_setting={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:true,dblClickExpand:true,expandSpeed:"fast",fontCss:{},nameIsHTML:false,selectedMulti:true,showIcon:true,showLine:true,showTitle:true},data:{key:{children:"children",name:"name",title:"",url:"url"},simpleData:{enable:false,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:false,leaf:false}},async:{enable:false,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_initRoot=function(setting){var r=data.getRoot(setting);if(!r){r={};data.setRoot(setting,r)}r.children=[];r.expandTriggerFlag=false;r.curSelectedList=[];r.noSelection=true;r.createdNodes=[]},_initCache=function(setting){var c=data.getCache(setting);if(!c){c={};data.setCache(setting,c)}c.nodes=[];c.doms=[]},_bindEvent=function(setting){var o=setting.treeObj,c=consts.event;o.unbind(c.NODECREATED);o.bind(c.NODECREATED,function(event,treeId,node){tools.apply(setting.callback.onNodeCreated,[event,treeId,node])});o.unbind(c.CLICK);o.bind(c.CLICK,function(event,srcEvent,treeId,node,clickFlag){tools.apply(setting.callback.onClick,[srcEvent,treeId,node,clickFlag])});o.unbind(c.EXPAND);o.bind(c.EXPAND,function(event,treeId,node){tools.apply(setting.callback.onExpand,[event,treeId,node])});o.unbind(c.COLLAPSE);o.bind(c.COLLAPSE,function(event,treeId,node){tools.apply(setting.callback.onCollapse,[event,treeId,node])});o.unbind(c.ASYNC_SUCCESS);o.bind(c.ASYNC_SUCCESS,function(event,treeId,node,msg){tools.apply(setting.callback.onAsyncSuccess,[event,treeId,node,msg])});o.unbind(c.ASYNC_ERROR);o.bind(c.ASYNC_ERROR,function(event,treeId,node,XMLHttpRequest,textStatus,errorThrown){tools.apply(setting.callback.onAsyncError,[event,treeId,node,XMLHttpRequest,textStatus,errorThrown])})},_eventProxy=function(event){var target=event.target,setting=settings[event.data.treeId],tId="",node=null,nodeEventType="",treeEventType="",nodeEventCallback=null,treeEventCallback=null,tmp=null;if(tools.eqs(event.type,"mousedown")){treeEventType="mousedown"}else{if(tools.eqs(event.type,"mouseup")){treeEventType="mouseup"}else{if(tools.eqs(event.type,"contextmenu")){treeEventType="contextmenu"}else{if(tools.eqs(event.type,"click")){if(tools.eqs(target.tagName,"span")&&target.getAttribute("treeNode"+consts.id.SWITCH)!==null){tId=target.parentNode.id;nodeEventType="switchNode"}else{tmp=tools.getMDom(setting,target,[{tagName:"a",attrName:"treeNode"+consts.id.A}]);if(tmp){tId=tmp.parentNode.id;nodeEventType="clickNode"}}}else{if(tools.eqs(event.type,"dblclick")){treeEventType="dblclick";tmp=tools.getMDom(setting,target,[{tagName:"a",attrName:"treeNode"+consts.id.A}]);if(tmp){tId=tmp.parentNode.id;nodeEventType="switchNode"}}}}}}if(treeEventType.length>0&&tId.length==0){tmp=tools.getMDom(setting,target,[{tagName:"a",attrName:"treeNode"+consts.id.A}]);if(tmp){tId=tmp.parentNode.id}}if(tId.length>0){node=data.getNodeCache(setting,tId);switch(nodeEventType){case"switchNode":if(!node.isParent){nodeEventType=""}else{if(tools.eqs(event.type,"click")||(tools.eqs(event.type,"dblclick")&&tools.apply(setting.view.dblClickExpand,[setting.treeId,node],setting.view.dblClickExpand))){nodeEventCallback=handler.onSwitchNode}else{nodeEventType=""}}break;case"clickNode":nodeEventCallback=handler.onClickNode;break}}switch(treeEventType){case"mousedown":treeEventCallback=handler.onZTreeMousedown;break;case"mouseup":treeEventCallback=handler.onZTreeMouseup;break;case"dblclick":treeEventCallback=handler.onZTreeDblclick;break;case"contextmenu":treeEventCallback=handler.onZTreeContextmenu;break}var proxyResult={stop:false,node:node,nodeEventType:nodeEventType,nodeEventCallback:nodeEventCallback,treeEventType:treeEventType,treeEventCallback:treeEventCallback};return proxyResult},_initNode=function(setting,level,n,parentNode,isFirstNode,isLastNode,openFlag){if(!n){return }var childKey=setting.data.key.children;n.level=level;n.tId=setting.treeId+"_"+(++zId);n.parentTId=parentNode?parentNode.tId:null;if(n[childKey]&&n[childKey].length>0){if(typeof n.open=="string"){n.open=tools.eqs(n.open,"true")}n.open=!!n.open;n.isParent=true;n.zAsync=true}else{n.open=false;if(typeof n.isParent=="string"){n.isParent=tools.eqs(n.isParent,"true")}n.isParent=!!n.isParent;n.zAsync=!n.isParent}n.isFirstNode=isFirstNode;n.isLastNode=isLastNode;n.getParentNode=function(){return data.getNodeCache(setting,n.parentTId)};n.getPreNode=function(){return data.getPreNode(setting,n)};n.getNextNode=function(){return data.getNextNode(setting,n)};n.isAjaxing=false;data.fixPIdKeyValue(setting,n)},_init={bind:[_bindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(setting,node){data.getCache(setting).nodes[node.tId]=node},addAfterA:function(afterA){_init.afterA.push(afterA)},addBeforeA:function(beforeA){_init.beforeA.push(beforeA)},addInnerAfterA:function(innerAfterA){_init.innerAfterA.push(innerAfterA)},addInnerBeforeA:function(innerBeforeA){_init.innerBeforeA.push(innerBeforeA)},addInitBind:function(bindEvent){_init.bind.push(bindEvent)},addInitCache:function(initCache){_init.caches.push(initCache)},addInitNode:function(initNode){_init.nodes.push(initNode)},addInitProxy:function(initProxy){_init.proxys.push(initProxy)},addInitRoot:function(initRoot){_init.roots.push(initRoot)},addNodesData:function(setting,parentNode,nodes){var childKey=setting.data.key.children;if(!parentNode[childKey]){parentNode[childKey]=[]}if(parentNode[childKey].length>0){parentNode[childKey][parentNode[childKey].length-1].isLastNode=false;view.setNodeLineIcos(setting,parentNode[childKey][parentNode[childKey].length-1])}parentNode.isParent=true;parentNode[childKey]=parentNode[childKey].concat(nodes)},addSelectedNode:function(setting,node){var root=data.getRoot(setting);if(!data.isSelectedNode(setting,node)){root.curSelectedList.push(node)}},addCreatedNode:function(setting,node){if(!!setting.callback.onNodeCreated||!!setting.view.addDiyDom){var root=data.getRoot(setting);root.createdNodes.push(node)}},addZTreeTools:function(zTreeTools){_init.zTreeTools.push(zTreeTools)},exSetting:function(s){$.extend(true,_setting,s)},fixPIdKeyValue:function(setting,node){if(setting.data.simpleData.enable){node[setting.data.simpleData.pIdKey]=node.parentTId?node.getParentNode()[setting.data.simpleData.idKey]:setting.data.simpleData.rootPId}},getAfterA:function(setting,node,array){for(var i=0,j=_init.afterA.length;i<j;i++){_init.afterA[i].apply(this,arguments)}},getBeforeA:function(setting,node,array){for(var i=0,j=_init.beforeA.length;i<j;i++){_init.beforeA[i].apply(this,arguments)}},getInnerAfterA:function(setting,node,array){for(var i=0,j=_init.innerAfterA.length;i<j;i++){_init.innerAfterA[i].apply(this,arguments)}},getInnerBeforeA:function(setting,node,array){for(var i=0,j=_init.innerBeforeA.length;i<j;i++){_init.innerBeforeA[i].apply(this,arguments)}},getCache:function(setting){return caches[setting.treeId]},getNextNode:function(setting,node){if(!node){return null}var childKey=setting.data.key.children,p=node.parentTId?node.getParentNode():data.getRoot(setting);if(node.isLastNode){return null}else{if(node.isFirstNode){return p[childKey][1]}else{for(var i=1,l=p[childKey].length-1;i<l;i++){if(p[childKey][i]===node){return p[childKey][i+1]}}}}return null},getNodeByParam:function(setting,nodes,key,value){if(!nodes||!key){return null}var childKey=setting.data.key.children;for(var i=0,l=nodes.length;i<l;i++){if(nodes[i][key]==value){return nodes[i]}var tmp=data.getNodeByParam(setting,nodes[i][childKey],key,value);if(tmp){return tmp}}return null},getNodeCache:function(setting,tId){if(!tId){return null}var n=caches[setting.treeId].nodes[tId];return n?n:null},getNodes:function(setting){return data.getRoot(setting)[setting.data.key.children]},getNodesByParam:function(setting,nodes,key,value){if(!nodes||!key){return[]}var childKey=setting.data.key.children,result=[];for(var i=0,l=nodes.length;i<l;i++){if(nodes[i][key]==value){result.push(nodes[i])}result=result.concat(data.getNodesByParam(setting,nodes[i][childKey],key,value))}return result},getNodesByParamFuzzy:function(setting,nodes,key,value){if(!nodes||!key){return[]}var childKey=setting.data.key.children,result=[];for(var i=0,l=nodes.length;i<l;i++){if(typeof nodes[i][key]=="string"&&nodes[i][key].indexOf(value)>-1){result.push(nodes[i])}result=result.concat(data.getNodesByParamFuzzy(setting,nodes[i][childKey],key,value))}return result},getNodesByFilter:function(setting,nodes,filter,isSingle){if(!nodes){return(isSingle?null:[])}var childKey=setting.data.key.children,result=isSingle?null:[];for(var i=0,l=nodes.length;i<l;i++){if(tools.apply(filter,[nodes[i]],false)){if(isSingle){return nodes[i]}result.push(nodes[i])}var tmpResult=data.getNodesByFilter(setting,nodes[i][childKey],filter,isSingle);if(isSingle&&!!tmpResult){return tmpResult}result=isSingle?tmpResult:result.concat(tmpResult)}return result},getPreNode:function(setting,node){if(!node){return null}var childKey=setting.data.key.children,p=node.parentTId?node.getParentNode():data.getRoot(setting);if(node.isFirstNode){return null}else{if(node.isLastNode){return p[childKey][p[childKey].length-2]}else{for(var i=1,l=p[childKey].length-1;i<l;i++){if(p[childKey][i]===node){return p[childKey][i-1]}}}}return null},getRoot:function(setting){return setting?roots[setting.treeId]:null},getSetting:function(treeId){return settings[treeId]},getSettings:function(){return settings},getTitleKey:function(setting){return setting.data.key.title===""?setting.data.key.name:setting.data.key.title},getZTreeTools:function(treeId){var r=this.getRoot(this.getSetting(treeId));return r?r.treeTools:null},initCache:function(setting){for(var i=0,j=_init.caches.length;i<j;i++){_init.caches[i].apply(this,arguments)}},initNode:function(setting,level,node,parentNode,preNode,nextNode){for(var i=0,j=_init.nodes.length;i<j;i++){_init.nodes[i].apply(this,arguments)}},initRoot:function(setting){for(var i=0,j=_init.roots.length;i<j;i++){_init.roots[i].apply(this,arguments)}},isSelectedNode:function(setting,node){var root=data.getRoot(setting);for(var i=0,j=root.curSelectedList.length;i<j;i++){if(node===root.curSelectedList[i]){return true}}return false},removeNodeCache:function(setting,node){var childKey=setting.data.key.children;if(node[childKey]){for(var i=0,l=node[childKey].length;i<l;i++){arguments.callee(setting,node[childKey][i])}}delete data.getCache(setting).nodes[node.tId]},removeSelectedNode:function(setting,node){var root=data.getRoot(setting);for(var i=0,j=root.curSelectedList.length;i<j;i++){if(node===root.curSelectedList[i]||!data.getNodeCache(setting,root.curSelectedList[i].tId)){root.curSelectedList.splice(i,1);i--;j--}}},setCache:function(setting,cache){caches[setting.treeId]=cache},setRoot:function(setting,root){roots[setting.treeId]=root},setZTreeTools:function(setting,zTreeTools){for(var i=0,j=_init.zTreeTools.length;i<j;i++){_init.zTreeTools[i].apply(this,arguments)}},transformToArrayFormat:function(setting,nodes){if(!nodes){return[]}var childKey=setting.data.key.children,r=[];if(tools.isArray(nodes)){for(var i=0,l=nodes.length;i<l;i++){r.push(nodes[i]);if(nodes[i][childKey]){r=r.concat(data.transformToArrayFormat(setting,nodes[i][childKey]))}}}else{r.push(nodes);if(nodes[childKey]){r=r.concat(data.transformToArrayFormat(setting,nodes[childKey]))}}return r},transformTozTreeFormat:function(setting,sNodes){var i,l,key=setting.data.simpleData.idKey,parentKey=setting.data.simpleData.pIdKey,childKey=setting.data.key.children;if(!key||key==""||!sNodes){return[]}if(tools.isArray(sNodes)){var r=[];var tmpMap=[];for(i=0,l=sNodes.length;i<l;i++){tmpMap[sNodes[i][key]]=sNodes[i]}for(i=0,l=sNodes.length;i<l;i++){if(tmpMap[sNodes[i][parentKey]]&&sNodes[i][key]!=sNodes[i][parentKey]){if(!tmpMap[sNodes[i][parentKey]][childKey]){tmpMap[sNodes[i][parentKey]][childKey]=[]}tmpMap[sNodes[i][parentKey]][childKey].push(sNodes[i])}else{r.push(sNodes[i])}}return r}else{return[sNodes]}}},event={bindEvent:function(setting){for(var i=0,j=_init.bind.length;i<j;i++){_init.bind[i].apply(this,arguments)}},bindTree:function(setting){var eventParam={treeId:setting.treeId},o=setting.treeObj;o.unbind("click",event.proxy);o.bind("click",eventParam,event.proxy);o.unbind("dblclick",event.proxy);o.bind("dblclick",eventParam,event.proxy);o.unbind("mouseover",event.proxy);o.bind("mouseover",eventParam,event.proxy);o.unbind("mouseout",event.proxy);o.bind("mouseout",eventParam,event.proxy);o.unbind("mousedown",event.proxy);o.bind("mousedown",eventParam,event.proxy);o.unbind("mouseup",event.proxy);o.bind("mouseup",eventParam,event.proxy);o.unbind("contextmenu",event.proxy);o.bind("contextmenu",eventParam,event.proxy)},doProxy:function(e){var results=[];for(var i=0,j=_init.proxys.length;i<j;i++){var proxyResult=_init.proxys[i].apply(this,arguments);results.push(proxyResult);if(proxyResult.stop){break}}return results},proxy:function(e){var setting=data.getSetting(e.data.treeId);if(!tools.uCanDo(setting,e)){return true}var results=event.doProxy(e),r=true,x=false;for(var i=0,l=results.length;i<l;i++){var proxyResult=results[i];if(proxyResult.nodeEventCallback){x=true;r=proxyResult.nodeEventCallback.apply(proxyResult,[e,proxyResult.node])&&r}if(proxyResult.treeEventCallback){x=true;r=proxyResult.treeEventCallback.apply(proxyResult,[e,proxyResult.node])&&r}}try{if(x&&$("input:focus").length==0){tools.noSel(setting)}}catch(e){}return r}},handler={onSwitchNode:function(event,node){var setting=settings[event.data.treeId];if(node.open){if(tools.apply(setting.callback.beforeCollapse,[setting.treeId,node],true)==false){return true}data.getRoot(setting).expandTriggerFlag=true;view.switchNode(setting,node)}else{if(tools.apply(setting.callback.beforeExpand,[setting.treeId,node],true)==false){return true}data.getRoot(setting).expandTriggerFlag=true;view.switchNode(setting,node)}return true},onClickNode:function(event,node){var setting=settings[event.data.treeId],clickFlag=((setting.view.autoCancelSelected&&event.ctrlKey)&&data.isSelectedNode(setting,node))?0:(setting.view.autoCancelSelected&&event.ctrlKey&&setting.view.selectedMulti)?2:1;if(tools.apply(setting.callback.beforeClick,[setting.treeId,node,clickFlag],true)==false){return true}if(clickFlag===0){view.cancelPreSelectedNode(setting,node)}else{view.selectNode(setting,node,clickFlag===2)}setting.treeObj.trigger(consts.event.CLICK,[event,setting.treeId,node,clickFlag]);return true},onZTreeMousedown:function(event,node){var setting=settings[event.data.treeId];if(tools.apply(setting.callback.beforeMouseDown,[setting.treeId,node],true)){tools.apply(setting.callback.onMouseDown,[event,setting.treeId,node])}return true},onZTreeMouseup:function(event,node){var setting=settings[event.data.treeId];if(tools.apply(setting.callback.beforeMouseUp,[setting.treeId,node],true)){tools.apply(setting.callback.onMouseUp,[event,setting.treeId,node])}return true},onZTreeDblclick:function(event,node){var setting=settings[event.data.treeId];if(tools.apply(setting.callback.beforeDblClick,[setting.treeId,node],true)){tools.apply(setting.callback.onDblClick,[event,setting.treeId,node])}return true},onZTreeContextmenu:function(event,node){var setting=settings[event.data.treeId];if(tools.apply(setting.callback.beforeRightClick,[setting.treeId,node],true)){tools.apply(setting.callback.onRightClick,[event,setting.treeId,node])}return(typeof setting.callback.onRightClick)!="function"}},tools={apply:function(fun,param,defaultValue){if((typeof fun)=="function"){return fun.apply(zt,param?param:[])}return defaultValue},canAsync:function(setting,node){var childKey=setting.data.key.children;return(setting.async.enable&&node&&node.isParent&&!(node.zAsync||(node[childKey]&&node[childKey].length>0)))},clone:function(jsonObj){var buf;if(jsonObj instanceof Array){buf=[];var i=jsonObj.length;while(i--){buf[i]=arguments.callee(jsonObj[i])}return buf}else{if(typeof jsonObj=="function"){return jsonObj}else{if(jsonObj instanceof Object){buf={};for(var k in jsonObj){buf[k]=arguments.callee(jsonObj[k])}return buf}else{return jsonObj}}}},eqs:function(str1,str2){return str1.toLowerCase()===str2.toLowerCase()},isArray:function(arr){return Object.prototype.toString.apply(arr)==="[object Array]"},getMDom:function(setting,curDom,targetExpr){if(!curDom){return null}while(curDom&&curDom.id!==setting.treeId){for(var i=0,l=targetExpr.length;curDom.tagName&&i<l;i++){if(tools.eqs(curDom.tagName,targetExpr[i].tagName)&&curDom.getAttribute(targetExpr[i].attrName)!==null){return curDom}}curDom=curDom.parentNode}return null},noSel:function(setting){var r=data.getRoot(setting);if(r.noSelection){try{window.getSelection?window.getSelection().removeAllRanges():document.selection.empty()}catch(e){}}},uCanDo:function(setting,e){return true}},view={addNodes:function(setting,parentNode,newNodes,isSilent){if(setting.data.keep.leaf&&parentNode&&!parentNode.isParent){return }if(!tools.isArray(newNodes)){newNodes=[newNodes]}if(setting.data.simpleData.enable){newNodes=data.transformTozTreeFormat(setting,newNodes)}if(parentNode){var target_switchObj=$("#"+parentNode.tId+consts.id.SWITCH),target_icoObj=$("#"+parentNode.tId+consts.id.ICON),target_ulObj=$("#"+parentNode.tId+consts.id.UL);if(!parentNode.open){view.replaceSwitchClass(parentNode,target_switchObj,consts.folder.CLOSE);view.replaceIcoClass(parentNode,target_icoObj,consts.folder.CLOSE);parentNode.open=false;target_ulObj.css({display:"none"})}data.addNodesData(setting,parentNode,newNodes);view.createNodes(setting,parentNode.level+1,newNodes,parentNode);if(!isSilent){view.expandCollapseParentNode(setting,parentNode,true)}}else{data.addNodesData(setting,data.getRoot(setting),newNodes);view.createNodes(setting,0,newNodes,null)}},appendNodes:function(setting,level,nodes,parentNode,initFlag,openFlag){if(!nodes){return[]}var html=[],childKey=setting.data.key.children,nameKey=setting.data.key.name,titleKey=data.getTitleKey(setting);for(var i=0,l=nodes.length;i<l;i++){var node=nodes[i],tmpPNode=(parentNode)?parentNode:data.getRoot(setting),tmpPChild=tmpPNode[childKey],isFirstNode=((tmpPChild.length==nodes.length)&&(i==0)),isLastNode=(i==(nodes.length-1));if(initFlag){data.initNode(setting,level,node,parentNode,isFirstNode,isLastNode,openFlag);data.addNodeCache(setting,node)}var childHtml=[];if(node[childKey]&&node[childKey].length>0){childHtml=view.appendNodes(setting,level+1,node[childKey],node,initFlag,openFlag&&node.open)}if(openFlag){var url=view.makeNodeUrl(setting,node),fontcss=view.makeNodeFontCss(setting,node),fontStyle=[];for(var f in fontcss){fontStyle.push(f,":",fontcss[f],";")}html.push("<li id='",node.tId,"' class='level",node.level,"' tabindex='0' hidefocus='true' treenode>","<span id='",node.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(setting,node),"' treeNode",consts.id.SWITCH,"></span>");data.getBeforeA(setting,node,html);html.push("<a id='",node.tId,consts.id.A,"' class='level",node.level,"' treeNode",consts.id.A,' onclick="',(node.click||""),'" ',((url!=null&&url.length>0)?"href='"+url+"'":"")," target='",view.makeNodeTarget(node),"' style='",fontStyle.join(""),"'");if(tools.apply(setting.view.showTitle,[setting.treeId,node],setting.view.showTitle)&&node[titleKey]){html.push("title='",node[titleKey].replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'")}html.push(">");data.getInnerBeforeA(setting,node,html);var name=setting.view.nameIsHTML?node[nameKey]:node[nameKey].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");html.push("<span id='",node.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(setting,node),"' style='",view.makeNodeIcoStyle(setting,node),"'></span><span id='",node.tId,consts.id.SPAN,"'>",name,"</span>");data.getInnerAfterA(setting,node,html);html.push("</a>");data.getAfterA(setting,node,html);if(node.isParent&&node.open){view.makeUlHtml(setting,node,html,childHtml.join(""))}html.push("</li>");data.addCreatedNode(setting,node)}}return html},appendParentULDom:function(setting,node){var html=[],nObj=$("#"+node.tId),ulObj=$("#"+node.tId+consts.id.UL),childKey=setting.data.key.children,childHtml=view.appendNodes(setting,node.level+1,node[childKey],node,false,true);view.makeUlHtml(setting,node,html,childHtml.join(""));if(!nObj.get(0)&&!!node.parentTId){view.appendParentULDom(setting,node.getParentNode());nObj=$("#"+node.tId)}if(ulObj.get(0)){ulObj.remove()}nObj.append(html.join(""));view.createNodeCallback(setting)},asyncNode:function(setting,node,isSilent,callback){var i,l;if(node&&!node.isParent){tools.apply(callback);return false}else{if(node&&node.isAjaxing){return false}else{if(tools.apply(setting.callback.beforeAsync,[setting.treeId,node],true)==false){tools.apply(callback);return false}}}if(node){node.isAjaxing=true;var icoObj=$("#"+node.tId+consts.id.ICON);icoObj.attr({style:"","class":"button ico_loading"})}var isJson=(setting.async.contentType=="application/json"),tmpParam=isJson?"{":"",jTemp="";for(i=0,l=setting.async.autoParam.length;node&&i<l;i++){var pKey=setting.async.autoParam[i].split("="),spKey=pKey;if(pKey.length>1){spKey=pKey[1];pKey=pKey[0]}if(isJson){jTemp=(typeof node[pKey]=="string")?'"':"";tmpParam+='"'+spKey+('":'+jTemp+node[pKey]).replace(/'/g,"\\'")+jTemp+","}else{tmpParam+=spKey+("="+node[pKey]).replace(/&/g,"%26")+"&"}}if(tools.isArray(setting.async.otherParam)){for(i=0,l=setting.async.otherParam.length;i<l;i+=2){if(isJson){jTemp=(typeof setting.async.otherParam[i+1]=="string")?'"':"";tmpParam+='"'+setting.async.otherParam[i]+('":'+jTemp+setting.async.otherParam[i+1]).replace(/'/g,"\\'")+jTemp+","}else{tmpParam+=setting.async.otherParam[i]+("="+setting.async.otherParam[i+1]).replace(/&/g,"%26")+"&"}}}else{for(var p in setting.async.otherParam){if(isJson){jTemp=(typeof setting.async.otherParam[p]=="string")?'"':"";tmpParam+='"'+p+('":'+jTemp+setting.async.otherParam[p]).replace(/'/g,"\\'")+jTemp+","}else{tmpParam+=p+("="+setting.async.otherParam[p]).replace(/&/g,"%26")+"&"}}}if(tmpParam.length>1){tmpParam=tmpParam.substring(0,tmpParam.length-1)}if(isJson){tmpParam+="}"}$.ajax({contentType:setting.async.contentType,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:tmpParam,dataType:setting.async.dataType,success:function(msg){var newNodes=[];try{if(!msg||msg.length==0){newNodes=[]}else{if(typeof msg=="string"){newNodes=eval("("+msg+")")}else{newNodes=msg}}}catch(err){}if(node){node.isAjaxing=null;node.zAsync=true}view.setNodeLineIcos(setting,node);if(newNodes&&newNodes!=""){newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes);view.addNodes(setting,node,!!newNodes?tools.clone(newNodes):[],!!isSilent)}else{view.addNodes(setting,node,[],!!isSilent)}setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]);tools.apply(callback)},error:function(XMLHttpRequest,textStatus,errorThrown){if(node){node.isAjaxing=null}view.setNodeLineIcos(setting,node);setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,XMLHttpRequest,textStatus,errorThrown])}});return true},cancelPreSelectedNode:function(setting,node){var list=data.getRoot(setting).curSelectedList;for(var i=0,j=list.length-1;j>=i;j--){if(!node||node===list[j]){$("#"+list[j].tId+consts.id.A).removeClass(consts.node.CURSELECTED);view.setNodeName(setting,list[j]);if(node){data.removeSelectedNode(setting,node);break}}}if(!node){data.getRoot(setting).curSelectedList=[]}},createNodeCallback:function(setting){if(!!setting.callback.onNodeCreated||!!setting.view.addDiyDom){var root=data.getRoot(setting);while(root.createdNodes.length>0){var node=root.createdNodes.shift();tools.apply(setting.view.addDiyDom,[setting.treeId,node]);if(!!setting.callback.onNodeCreated){setting.treeObj.trigger(consts.event.NODECREATED,[setting.treeId,node])}}}},createNodes:function(setting,level,nodes,parentNode){if(!nodes||nodes.length==0){return }var root=data.getRoot(setting),childKey=setting.data.key.children,openFlag=!parentNode||parentNode.open||!!$("#"+parentNode[childKey][0].tId).get(0);root.createdNodes=[];var zTreeHtml=view.appendNodes(setting,level,nodes,parentNode,true,openFlag);if(!parentNode){setting.treeObj.append(zTreeHtml.join(""))}else{var ulObj=$("#"+parentNode.tId+consts.id.UL);if(ulObj.get(0)){ulObj.append(zTreeHtml.join(""))}}view.createNodeCallback(setting)},expandCollapseNode:function(setting,node,expandFlag,animateFlag,callback){var root=data.getRoot(setting),childKey=setting.data.key.children;if(!node){tools.apply(callback,[]);return }if(root.expandTriggerFlag){var _callback=callback;callback=function(){if(_callback){_callback()}if(node.open){setting.treeObj.trigger(consts.event.EXPAND,[setting.treeId,node])}else{setting.treeObj.trigger(consts.event.COLLAPSE,[setting.treeId,node])}};root.expandTriggerFlag=false}if(node.open==expandFlag){tools.apply(callback,[]);return }if(!node.open&&node.isParent&&((!$("#"+node.tId+consts.id.UL).get(0))||(node[childKey]&&node[childKey].length>0&&!$("#"+node[childKey][0].tId).get(0)))){view.appendParentULDom(setting,node)}var ulObj=$("#"+node.tId+consts.id.UL),switchObj=$("#"+node.tId+consts.id.SWITCH),icoObj=$("#"+node.tId+consts.id.ICON);if(node.isParent){node.open=!node.open;if(node.iconOpen&&node.iconClose){icoObj.attr("style",view.makeNodeIcoStyle(setting,node))}if(node.open){view.replaceSwitchClass(node,switchObj,consts.folder.OPEN);view.replaceIcoClass(node,icoObj,consts.folder.OPEN);if(animateFlag==false||setting.view.expandSpeed==""){ulObj.show();tools.apply(callback,[])}else{if(node[childKey]&&node[childKey].length>0){ulObj.slideDown(setting.view.expandSpeed,callback)}else{ulObj.show();tools.apply(callback,[])}}}else{view.replaceSwitchClass(node,switchObj,consts.folder.CLOSE);view.replaceIcoClass(node,icoObj,consts.folder.CLOSE);if(animateFlag==false||setting.view.expandSpeed==""||!(node[childKey]&&node[childKey].length>0)){ulObj.hide();tools.apply(callback,[])}else{ulObj.slideUp(setting.view.expandSpeed,callback)}}}else{tools.apply(callback,[])}},expandCollapseParentNode:function(setting,node,expandFlag,animateFlag,callback){if(!node){return }if(!node.parentTId){view.expandCollapseNode(setting,node,expandFlag,animateFlag,callback);return }else{view.expandCollapseNode(setting,node,expandFlag,animateFlag)}if(node.parentTId){view.expandCollapseParentNode(setting,node.getParentNode(),expandFlag,animateFlag,callback)}},expandCollapseSonNode:function(setting,node,expandFlag,animateFlag,callback){var root=data.getRoot(setting),childKey=setting.data.key.children,treeNodes=(node)?node[childKey]:root[childKey],selfAnimateSign=(node)?false:animateFlag,expandTriggerFlag=data.getRoot(setting).expandTriggerFlag;data.getRoot(setting).expandTriggerFlag=false;if(treeNodes){for(var i=0,l=treeNodes.length;i<l;i++){if(treeNodes[i]){view.expandCollapseSonNode(setting,treeNodes[i],expandFlag,selfAnimateSign)}}}data.getRoot(setting).expandTriggerFlag=expandTriggerFlag;view.expandCollapseNode(setting,node,expandFlag,animateFlag,callback)},makeNodeFontCss:function(setting,node){var fontCss=tools.apply(setting.view.fontCss,[setting.treeId,node],setting.view.fontCss);return(fontCss&&((typeof fontCss)!="function"))?fontCss:{}},makeNodeIcoClass:function(setting,node){var icoCss=["ico"];if(!node.isAjaxing){icoCss[0]=(node.iconSkin?node.iconSkin+"_":"")+icoCss[0];if(node.isParent){icoCss.push(node.open?consts.folder.OPEN:consts.folder.CLOSE)}else{icoCss.push(consts.folder.DOCU)}}return"button "+icoCss.join("_")},makeNodeIcoStyle:function(setting,node){var icoStyle=[];if(!node.isAjaxing){var icon=(node.isParent&&node.iconOpen&&node.iconClose)?(node.open?node.iconOpen:node.iconClose):node.icon;if(icon){icoStyle.push("background:url(",icon,") 0 0 no-repeat;")}if(setting.view.showIcon==false||!tools.apply(setting.view.showIcon,[setting.treeId,node],true)){icoStyle.push("width:0px;height:0px;")}}return icoStyle.join("")},makeNodeLineClass:function(setting,node){var lineClass=[];if(setting.view.showLine){if(node.level==0&&node.isFirstNode&&node.isLastNode){lineClass.push(consts.line.ROOT)}else{if(node.level==0&&node.isFirstNode){lineClass.push(consts.line.ROOTS)}else{if(node.isLastNode){lineClass.push(consts.line.BOTTOM)}else{lineClass.push(consts.line.CENTER)}}}}else{lineClass.push(consts.line.NOLINE)}if(node.isParent){lineClass.push(node.open?consts.folder.OPEN:consts.folder.CLOSE)}else{lineClass.push(consts.folder.DOCU)}return view.makeNodeLineClassEx(node)+lineClass.join("_")},makeNodeLineClassEx:function(node){return"button level"+node.level+" switch "},makeNodeTarget:function(node){return(node.target||"_blank")},makeNodeUrl:function(setting,node){var urlKey=setting.data.key.url;return node[urlKey]?node[urlKey]:null},makeUlHtml:function(setting,node,html,content){html.push("<ul id='",node.tId,consts.id.UL,"' class='level",node.level," ",view.makeUlLineClass(setting,node),"' style='display:",(node.open?"block":"none"),"'>");html.push(content);html.push("</ul>")},makeUlLineClass:function(setting,node){return((setting.view.showLine&&!node.isLastNode)?consts.line.LINE:"")},removeChildNodes:function(setting,node){if(!node){return }var childKey=setting.data.key.children,nodes=node[childKey];if(!nodes){return }for(var i=0,l=nodes.length;i<l;i++){data.removeNodeCache(setting,nodes[i])}data.removeSelectedNode(setting);delete node[childKey];if(!setting.data.keep.parent){node.isParent=false;node.open=false;var tmp_switchObj=$("#"+node.tId+consts.id.SWITCH),tmp_icoObj=$("#"+node.tId+consts.id.ICON);view.replaceSwitchClass(node,tmp_switchObj,consts.folder.DOCU);view.replaceIcoClass(node,tmp_icoObj,consts.folder.DOCU);$("#"+node.tId+consts.id.UL).remove()}else{$("#"+node.tId+consts.id.UL).empty()}},removeNode:function(setting,node){var root=data.getRoot(setting),childKey=setting.data.key.children,parentNode=(node.parentTId)?node.getParentNode():root;node.isFirstNode=false;node.isLastNode=false;node.getPreNode=function(){return null};node.getNextNode=function(){return null};$("#"+node.tId).remove();data.removeNodeCache(setting,node);data.removeSelectedNode(setting,node);for(var i=0,l=parentNode[childKey].length;i<l;i++){if(parentNode[childKey][i].tId==node.tId){parentNode[childKey].splice(i,1);break}}var tmp_ulObj,tmp_switchObj,tmp_icoObj;if(!setting.data.keep.parent&&parentNode[childKey].length<1){parentNode.isParent=false;parentNode.open=false;tmp_ulObj=$("#"+parentNode.tId+consts.id.UL);tmp_switchObj=$("#"+parentNode.tId+consts.id.SWITCH);tmp_icoObj=$("#"+parentNode.tId+consts.id.ICON);view.replaceSwitchClass(parentNode,tmp_switchObj,consts.folder.DOCU);view.replaceIcoClass(parentNode,tmp_icoObj,consts.folder.DOCU);tmp_ulObj.css("display","none")}else{if(setting.view.showLine&&parentNode[childKey].length>0){var newLast=parentNode[childKey][parentNode[childKey].length-1];newLast.isLastNode=true;newLast.isFirstNode=(parentNode[childKey].length==1);tmp_ulObj=$("#"+newLast.tId+consts.id.UL);tmp_switchObj=$("#"+newLast.tId+consts.id.SWITCH);tmp_icoObj=$("#"+newLast.tId+consts.id.ICON);if(parentNode==root){if(parentNode[childKey].length==1){view.replaceSwitchClass(newLast,tmp_switchObj,consts.line.ROOT)}else{var tmp_first_switchObj=$("#"+parentNode[childKey][0].tId+consts.id.SWITCH);view.replaceSwitchClass(parentNode[childKey][0],tmp_first_switchObj,consts.line.ROOTS);view.replaceSwitchClass(newLast,tmp_switchObj,consts.line.BOTTOM)}}else{view.replaceSwitchClass(newLast,tmp_switchObj,consts.line.BOTTOM)}tmp_ulObj.removeClass(consts.line.LINE)}}},replaceIcoClass:function(node,obj,newName){if(!obj||node.isAjaxing){return }var tmpName=obj.attr("class");if(tmpName==undefined){return }var tmpList=tmpName.split("_");switch(newName){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:tmpList[tmpList.length-1]=newName;break}obj.attr("class",tmpList.join("_"))},replaceSwitchClass:function(node,obj,newName){if(!obj){return }var tmpName=obj.attr("class");if(tmpName==undefined){return }var tmpList=tmpName.split("_");switch(newName){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:tmpList[0]=view.makeNodeLineClassEx(node)+newName;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:tmpList[1]=newName;break}obj.attr("class",tmpList.join("_"));if(newName!==consts.folder.DOCU){obj.removeAttr("disabled")}else{obj.attr("disabled","disabled")}},selectNode:function(setting,node,addFlag){if(!addFlag){view.cancelPreSelectedNode(setting)}$("#"+node.tId+consts.id.A).addClass(consts.node.CURSELECTED);data.addSelectedNode(setting,node)},setNodeFontCss:function(setting,treeNode){var aObj=$("#"+treeNode.tId+consts.id.A),fontCss=view.makeNodeFontCss(setting,treeNode);if(fontCss){aObj.css(fontCss)}},setNodeLineIcos:function(setting,node){if(!node){return }var switchObj=$("#"+node.tId+consts.id.SWITCH),ulObj=$("#"+node.tId+consts.id.UL),icoObj=$("#"+node.tId+consts.id.ICON),ulLine=view.makeUlLineClass(setting,node);if(ulLine.length==0){ulObj.removeClass(consts.line.LINE)}else{ulObj.addClass(ulLine)}switchObj.attr("class",view.makeNodeLineClass(setting,node));if(node.isParent){switchObj.removeAttr("disabled")}else{switchObj.attr("disabled","disabled")}icoObj.removeAttr("style");icoObj.attr("style",view.makeNodeIcoStyle(setting,node));icoObj.attr("class",view.makeNodeIcoClass(setting,node))},setNodeName:function(setting,node){var nameKey=setting.data.key.name,titleKey=data.getTitleKey(setting),nObj=$("#"+node.tId+consts.id.SPAN);nObj.empty();if(setting.view.nameIsHTML){nObj.html(node[nameKey])}else{nObj.text(node[nameKey])}if(tools.apply(setting.view.showTitle,[setting.treeId,node],setting.view.showTitle)&&node[titleKey]){var aObj=$("#"+node.tId+consts.id.A);aObj.attr("title",node[titleKey])}},setNodeTarget:function(node){var aObj=$("#"+node.tId+consts.id.A);aObj.attr("target",view.makeNodeTarget(node))},setNodeUrl:function(setting,node){var aObj=$("#"+node.tId+consts.id.A),url=view.makeNodeUrl(setting,node);if(url==null||url.length==0){aObj.removeAttr("href")}else{aObj.attr("href",url)}},switchNode:function(setting,node){if(node.open||!tools.canAsync(setting,node)){view.expandCollapseNode(setting,node,!node.open)}else{if(setting.async.enable){if(!view.asyncNode(setting,node)){view.expandCollapseNode(setting,node,!node.open);return }}else{if(node){view.expandCollapseNode(setting,node,!node.open)}}}}};$.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data},getZTreeObj:function(treeId){var o=data.getZTreeTools(treeId);return o?o:null},init:function(obj,zSetting,zNodes){var setting=tools.clone(_setting);$.extend(true,setting,zSetting);setting.treeId=obj.attr("id");setting.treeObj=obj;setting.treeObj.empty();settings[setting.treeId]=setting;if($.browser.msie&&parseInt($.browser.version)<7){setting.view.expandSpeed=""}data.initRoot(setting);var root=data.getRoot(setting),childKey=setting.data.key.children;zNodes=zNodes?tools.clone(tools.isArray(zNodes)?zNodes:[zNodes]):[];if(setting.data.simpleData.enable){root[childKey]=data.transformTozTreeFormat(setting,zNodes)}else{root[childKey]=zNodes}data.initCache(setting);event.bindTree(setting);event.bindEvent(setting);var zTreeTools={setting:setting,addNodes:function(parentNode,newNodes,isSilent){if(!newNodes){return null}if(!parentNode){parentNode=null}if(parentNode&&!parentNode.isParent&&setting.data.keep.leaf){return null}var xNewNodes=tools.clone(tools.isArray(newNodes)?newNodes:[newNodes]);function addCallback(){view.addNodes(setting,parentNode,xNewNodes,(isSilent==true))}if(tools.canAsync(setting,parentNode)){view.asyncNode(setting,parentNode,isSilent,addCallback)}else{addCallback()}return xNewNodes},cancelSelectedNode:function(node){view.cancelPreSelectedNode(this.setting,node)},expandAll:function(expandFlag){expandFlag=!!expandFlag;view.expandCollapseSonNode(this.setting,null,expandFlag,true);return expandFlag},expandNode:function(node,expandFlag,sonSign,focus,callbackFlag){if(!node||!node.isParent){return null}if(expandFlag!==true&&expandFlag!==false){expandFlag=!node.open}callbackFlag=!!callbackFlag;if(callbackFlag&&expandFlag&&(tools.apply(setting.callback.beforeExpand,[setting.treeId,node],true)==false)){return null}else{if(callbackFlag&&!expandFlag&&(tools.apply(setting.callback.beforeCollapse,[setting.treeId,node],true)==false)){return null}}if(expandFlag&&node.parentTId){view.expandCollapseParentNode(this.setting,node.getParentNode(),expandFlag,false)}if(expandFlag===node.open&&!sonSign){return null}data.getRoot(setting).expandTriggerFlag=callbackFlag;if(sonSign){view.expandCollapseSonNode(this.setting,node,expandFlag,true,function(){if(focus!==false){$("#"+node.tId).focus().blur()}})}else{node.open=!expandFlag;view.switchNode(this.setting,node);if(focus!==false){$("#"+node.tId).focus().blur()}}return expandFlag},getNodes:function(){return data.getNodes(this.setting)},getNodeByParam:function(key,value,parentNode){if(!key){return null}return data.getNodeByParam(this.setting,parentNode?parentNode[this.setting.data.key.children]:data.getNodes(this.setting),key,value)},getNodeByTId:function(tId){return data.getNodeCache(this.setting,tId)},getNodesByParam:function(key,value,parentNode){if(!key){return null}return data.getNodesByParam(this.setting,parentNode?parentNode[this.setting.data.key.children]:data.getNodes(this.setting),key,value)},getNodesByParamFuzzy:function(key,value,parentNode){if(!key){return null}return data.getNodesByParamFuzzy(this.setting,parentNode?parentNode[this.setting.data.key.children]:data.getNodes(this.setting),key,value)},getNodesByFilter:function(filter,isSingle,parentNode){isSingle=!!isSingle;if(!filter||(typeof filter!="function")){return(isSingle?null:[])}return data.getNodesByFilter(this.setting,parentNode?parentNode[this.setting.data.key.children]:data.getNodes(this.setting),filter,isSingle)},getNodeIndex:function(node){if(!node){return null}var childKey=setting.data.key.children,parentNode=(node.parentTId)?node.getParentNode():data.getRoot(this.setting);for(var i=0,l=parentNode[childKey].length;i<l;i++){if(parentNode[childKey][i]==node){return i}}return -1},getSelectedNodes:function(){var r=[],list=data.getRoot(this.setting).curSelectedList;for(var i=0,l=list.length;i<l;i++){r.push(list[i])}return r},isSelectedNode:function(node){return data.isSelectedNode(this.setting,node)},reAsyncChildNodes:function(parentNode,reloadType,isSilent){if(!this.setting.async.enable){return }var isRoot=!parentNode;if(isRoot){parentNode=data.getRoot(this.setting)}if(reloadType=="refresh"){parentNode[this.setting.data.key.children]=[];if(isRoot){this.setting.treeObj.empty()}else{var ulObj=$("#"+parentNode.tId+consts.id.UL);ulObj.empty()}}view.asyncNode(this.setting,isRoot?null:parentNode,!!isSilent)},refresh:function(){this.setting.treeObj.empty();var root=data.getRoot(this.setting),nodes=root[this.setting.data.key.children];data.initRoot(this.setting);root[this.setting.data.key.children]=nodes;data.initCache(this.setting);view.createNodes(this.setting,0,root[this.setting.data.key.children])},removeChildNodes:function(node){if(!node){return null}var childKey=setting.data.key.children,nodes=node[childKey];view.removeChildNodes(setting,node);return nodes?nodes:null},removeNode:function(node,callbackFlag){if(!node){return }callbackFlag=!!callbackFlag;if(callbackFlag&&tools.apply(setting.callback.beforeRemove,[setting.treeId,node],true)==false){return }view.removeNode(setting,node);if(callbackFlag){this.setting.treeObj.trigger(consts.event.REMOVE,[setting.treeId,node])}},selectNode:function(node,addFlag){if(!node){return }if(tools.uCanDo(this.setting)){addFlag=setting.view.selectedMulti&&addFlag;if(node.parentTId){view.expandCollapseParentNode(this.setting,node.getParentNode(),true,false,function(){$("#"+node.tId).focus().blur()})}else{$("#"+node.tId).focus().blur()}view.selectNode(this.setting,node,addFlag)}},transformTozTreeNodes:function(simpleNodes){return data.transformTozTreeFormat(this.setting,simpleNodes)},transformToArray:function(nodes){return data.transformToArrayFormat(this.setting,nodes)},updateNode:function(node,checkTypeFlag){if(!node){return }var nObj=$("#"+node.tId);if(nObj.get(0)&&tools.uCanDo(this.setting)){view.setNodeName(this.setting,node);view.setNodeTarget(node);view.setNodeUrl(this.setting,node);view.setNodeLineIcos(this.setting,node);view.setNodeFontCss(this.setting,node)}}};root.treeTools=zTreeTools;data.setZTreeTools(setting,zTreeTools);if(root[childKey]&&root[childKey].length>0){view.createNodes(setting,0,root[childKey])}else{if(setting.async.enable&&setting.async.url&&setting.async.url!==""){view.asyncNode(setting)}}return zTreeTools}};var zt=$.fn.zTree,consts=zt.consts})(jQuery);(function(F){var X={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},L={check:{enable:false,autoCheckTrigger:false,chkStyle:X.checkbox.STYLE,nocheckInherit:false,radioType:X.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},U=function(Y){var Z=W.getRoot(Y);Z.radioCheckedList=[]},D=function(Y){},M=function(Y){var Z=Y.treeObj,a=P.event;Z.unbind(a.CHECK);Z.bind(a.CHECK,function(c,d,b){S.apply(Y.callback.onCheck,[c,d,b])})},N=function(f){var g=f.target,i=W.getSetting(f.data.treeId),c="",Z=null,a="",d="",Y=null,b=null;if(S.eqs(f.type,"mouseover")){if(i.check.enable&&S.eqs(g.tagName,"span")&&g.getAttribute("treeNode"+P.id.CHECK)!==null){c=g.parentNode.id;a="mouseoverCheck"}}else{if(S.eqs(f.type,"mouseout")){if(i.check.enable&&S.eqs(g.tagName,"span")&&g.getAttribute("treeNode"+P.id.CHECK)!==null){c=g.parentNode.id;a="mouseoutCheck"}}else{if(S.eqs(f.type,"click")){if(i.check.enable&&S.eqs(g.tagName,"span")&&g.getAttribute("treeNode"+P.id.CHECK)!==null){c=g.parentNode.id;a="checkNode"}}}}if(c.length>0){Z=W.getNodeCache(i,c);switch(a){case"checkNode":Y=K.onCheckNode;break;case"mouseoverCheck":Y=K.onMouseoverCheck;break;case"mouseoutCheck":Y=K.onMouseoutCheck;break}}var h={stop:false,node:Z,nodeEventType:a,nodeEventCallback:Y,treeEventType:d,treeEventCallback:b};return h},T=function(b,f,e,Y,d,a,c){if(!e){return }var Z=b.data.key.checked;if(typeof e[Z]=="string"){e[Z]=S.eqs(e[Z],"true")}e[Z]=!!e[Z];e.checkedOld=e[Z];e.nocheck=!!e.nocheck||(b.check.nocheckInherit&&Y&&!!Y.nocheck);e.chkDisabled=!!e.chkDisabled||(Y&&!!Y.chkDisabled);if(typeof e.halfCheck=="string"){e.halfCheck=S.eqs(e.halfCheck,"true")}e.halfCheck=!!e.halfCheck;e.check_Child_State=-1;e.check_Focus=false;e.getCheckStatus=function(){return W.getCheckStatus(b,e)};if(a){W.makeChkFlag(b,Y)}},A=function(a,c,Z){var Y=a.data.key.checked;if(a.check.enable){W.makeChkFlag(a,c);if(a.check.chkStyle==P.radio.STYLE&&a.check.radioType==P.radio.TYPE_ALL&&c[Y]){var b=W.getRoot(a);b.radioCheckedList.push(c)}Z.push("<span ID='",c.tId,P.id.CHECK,"' class='",I.makeChkClass(a,c),"' treeNode",P.id.CHECK,(c.nocheck===true?" style='display:none;'":""),"></span>")}},J=function(a,Z){Z.checkNode=function(f,e,g,d){var b=this.setting.data.key.checked;if(f.chkDisabled===true){return }if(e!==true&&e!==false){e=!f[b]}d=!!d;if(f[b]===e&&!g){return }else{if(d&&S.apply(this.setting.callback.beforeCheck,[this.setting.treeId,f],true)==false){return }}if(S.uCanDo(this.setting)&&this.setting.check.enable&&f.nocheck!==true){f[b]=e;var c=F("#"+f.tId+P.id.CHECK);if(g||this.setting.check.chkStyle===P.radio.STYLE){I.checkNodeRelation(this.setting,f)}I.setChkClass(this.setting,c,f);I.repairParentChkClassWithSelf(this.setting,f);if(d){a.treeObj.trigger(P.event.CHECK,[a.treeId,f])}}};Z.checkAllNodes=function(b){I.repairAllChk(this.setting,!!b)};Z.getCheckedNodes=function(c){var b=this.setting.data.key.children;c=(c!==false);return W.getTreeCheckedNodes(this.setting,W.getRoot(a)[b],c)};Z.getChangeCheckedNodes=function(){var b=this.setting.data.key.children;return W.getTreeChangeCheckedNodes(this.setting,W.getRoot(a)[b])};Z.setChkDisabled=function(c,b){b=!!b;I.repairSonChkDisabled(this.setting,c,b);if(!b){I.repairParentChkDisabled(this.setting,c,b)}};var Y=Z.updateNode;Z.updateNode=function(d,e){if(Y){Y.apply(Z,arguments)}if(!d||!this.setting.check.enable){return }var b=F("#"+d.tId);if(b.get(0)&&S.uCanDo(this.setting)){var c=F("#"+d.tId+P.id.CHECK);if(e==true||this.setting.check.chkStyle===P.radio.STYLE){I.checkNodeRelation(this.setting,d)}I.setChkClass(this.setting,c,d);I.repairParentChkClassWithSelf(this.setting,d)}}},O={getRadioCheckedList:function(b){var a=W.getRoot(b).radioCheckedList;for(var Z=0,Y=a.length;Z<Y;Z++){if(!W.getNodeCache(b,a[Z].tId)){a.splice(Z,1);Z--;Y--}}return a},getCheckStatus:function(Z,b){if(!Z.check.enable||b.nocheck){return null}var Y=Z.data.key.checked,a={checked:b[Y],half:b.halfCheck?b.halfCheck:(Z.check.chkStyle==P.radio.STYLE?(b.check_Child_State===2):(b[Y]?(b.check_Child_State>-1&&b.check_Child_State<2):(b.check_Child_State>0)))};return a},getTreeCheckedNodes:function(d,a,f,c){if(!a){return[]}var e=d.data.key.children,Z=d.data.key.checked;c=!c?[]:c;for(var b=0,Y=a.length;b<Y;b++){if(a[b].nocheck!==true&&a[b][Z]==f){c.push(a[b])}W.getTreeCheckedNodes(d,a[b][e],f,c)}return c},getTreeChangeCheckedNodes:function(d,a,c){if(!a){return[]}var e=d.data.key.children,Z=d.data.key.checked;c=!c?[]:c;for(var b=0,Y=a.length;b<Y;b++){if(a[b].nocheck!==true&&a[b][Z]!=a[b].checkedOld){c.push(a[b])}W.getTreeChangeCheckedNodes(d,a[b][e],c)}return c},makeChkFlag:function(h,b){if(!b){return }var a=h.data.key.children,Y=h.data.key.checked,d=-1;if(b[a]){var Z=false;for(var f=0,c=b[a].length;f<c;f++){var g=b[a][f];var e=-1;if(h.check.chkStyle==P.radio.STYLE){if(g.nocheck===true){e=g.check_Child_State}else{if(g.halfCheck===true){e=2}else{if(g.nocheck!==true&&g[Y]){e=2}else{e=g.check_Child_State>0?2:0}}}if(e==2){d=2;break}else{if(e==0){d=0}}}else{if(h.check.chkStyle==P.checkbox.STYLE){if(g.nocheck===true){e=g.check_Child_State}else{if(g.halfCheck===true){e=1}else{if(g.nocheck!==true&&g[Y]){e=(g.check_Child_State===-1||g.check_Child_State===2)?2:1}else{e=(g.check_Child_State>0)?1:0}}}if(e===1){d=1;break}else{if(e===2&&Z&&e!==d){d=1;break}else{if(d===2&&e>-1&&e<2){d=1;break}else{if(e>-1){d=e}}}}if(!Z){Z=(g.nocheck!==true)}}}}}b.check_Child_State=d}},G={},K={onCheckNode:function(c,b){if(b.chkDisabled===true){return false}var a=W.getSetting(c.data.treeId),Y=a.data.key.checked;if(S.apply(a.callback.beforeCheck,[a.treeId,b],true)==false){return true}b[Y]=!b[Y];I.checkNodeRelation(a,b);var Z=F("#"+b.tId+P.id.CHECK);I.setChkClass(a,Z,b);I.repairParentChkClassWithSelf(a,b);a.treeObj.trigger(P.event.CHECK,[a.treeId,b]);return true},onMouseoverCheck:function(b,a){if(a.chkDisabled===true){return false}var Z=W.getSetting(b.data.treeId),Y=F("#"+a.tId+P.id.CHECK);a.check_Focus=true;I.setChkClass(Z,Y,a);return true},onMouseoutCheck:function(b,a){if(a.chkDisabled===true){return false}var Z=W.getSetting(b.data.treeId),Y=F("#"+a.tId+P.id.CHECK);a.check_Focus=false;I.setChkClass(Z,Y,a);return true}},H={},E={checkNodeRelation:function(h,b){var f,d,c,a=h.data.key.children,Z=h.data.key.checked,Y=P.radio;if(h.check.chkStyle==Y.STYLE){var g=W.getRadioCheckedList(h);if(b[Z]){if(h.check.radioType==Y.TYPE_ALL){for(d=g.length-1;d>=0;d--){f=g[d];f[Z]=false;g.splice(d,1);I.setChkClass(h,F("#"+f.tId+P.id.CHECK),f);if(f.parentTId!=b.parentTId){I.repairParentChkClassWithSelf(h,f)}}g.push(b)}else{var e=(b.parentTId)?b.getParentNode():W.getRoot(h);for(d=0,c=e[a].length;d<c;d++){f=e[a][d];if(f[Z]&&f!=b){f[Z]=false;I.setChkClass(h,F("#"+f.tId+P.id.CHECK),f)}}}}else{if(h.check.radioType==Y.TYPE_ALL){for(d=0,c=g.length;d<c;d++){if(b==g[d]){g.splice(d,1);break}}}}}else{if(b[Z]&&(!b[a]||b[a].length==0||h.check.chkboxType.Y.indexOf("s")>-1)){I.setSonNodeCheckBox(h,b,true)}if(!b[Z]&&(!b[a]||b[a].length==0||h.check.chkboxType.N.indexOf("s")>-1)){I.setSonNodeCheckBox(h,b,false)}if(b[Z]&&h.check.chkboxType.Y.indexOf("p")>-1){I.setParentNodeCheckBox(h,b,true)}if(!b[Z]&&h.check.chkboxType.N.indexOf("p")>-1){I.setParentNodeCheckBox(h,b,false)}}},makeChkClass:function(Z,d){var Y=Z.data.key.checked,f=P.checkbox,b=P.radio,e="";if(d.chkDisabled===true){e=f.DISABLED}else{if(d.halfCheck){e=f.PART}else{if(Z.check.chkStyle==b.STYLE){e=(d.check_Child_State<1)?f.FULL:f.PART}else{e=d[Y]?((d.check_Child_State===2||d.check_Child_State===-1)?f.FULL:f.PART):((d.check_Child_State<1)?f.FULL:f.PART)}}}var a=Z.check.chkStyle+"_"+(d[Y]?f.TRUE:f.FALSE)+"_"+e;a=(d.check_Focus&&d.chkDisabled!==true)?a+"_"+f.FOCUS:a;return"button "+f.DEFAULT+" "+a},repairAllChk:function(c,f){if(c.check.enable&&c.check.chkStyle===P.checkbox.STYLE){var a=c.data.key.checked,e=c.data.key.children,Z=W.getRoot(c);for(var b=0,Y=Z[e].length;b<Y;b++){var d=Z[e][b];if(d.nocheck!==true){d[a]=f}I.setSonNodeCheckBox(c,d,f)}}},repairChkClass:function(Z,a){if(!a){return }W.makeChkFlag(Z,a);var Y=F("#"+a.tId+P.id.CHECK);I.setChkClass(Z,Y,a)},repairParentChkClass:function(Z,a){if(!a||!a.parentTId){return }var Y=a.getParentNode();I.repairChkClass(Z,Y);I.repairParentChkClass(Z,Y)},repairParentChkClassWithSelf:function(Y,a){if(!a){return }var Z=Y.data.key.children;if(a[Z]&&a[Z].length>0){I.repairParentChkClass(Y,a[Z][0])}else{I.repairParentChkClass(Y,a)}},repairSonChkDisabled:function(c,e,b){if(!e){return }var d=c.data.key.children;if(e.chkDisabled!=b){e.chkDisabled=b;if(e.nocheck!==true){I.repairChkClass(c,e)}}if(e[d]){for(var a=0,Z=e[d].length;a<Z;a++){var Y=e[d][a];I.repairSonChkDisabled(c,Y,b)}}},repairParentChkDisabled:function(Z,a,Y){if(!a){return }if(a.chkDisabled!=Y){a.chkDisabled=Y;if(a.nocheck!==true){I.repairChkClass(Z,a)}}I.repairParentChkDisabled(Z,a.getParentNode(),Y)},setChkClass:function(Y,a,Z){if(!a){return }if(Z.nocheck===true){a.hide()}else{a.show()}a.removeClass();a.addClass(I.makeChkClass(Y,Z))},setParentNodeCheckBox:function(j,b,h,e){var a=j.data.key.children,Y=j.data.key.checked,f=F("#"+b.tId+P.id.CHECK);if(!e){e=b}W.makeChkFlag(j,b);if(b.nocheck!==true&&b.chkDisabled!==true){b[Y]=h;I.setChkClass(j,f,b);if(j.check.autoCheckTrigger&&b!=e&&b.nocheck!==true){j.treeObj.trigger(P.event.CHECK,[j.treeId,b])}}if(b.parentTId){var g=true;if(!h){var Z=b.getParentNode()[a];for(var d=0,c=Z.length;d<c;d++){if((Z[d].nocheck!==true&&Z[d][Y])||(Z[d].nocheck===true&&Z[d].check_Child_State>0)){g=false;break}}}if(g){I.setParentNodeCheckBox(j,b.getParentNode(),h,e)}}},setSonNodeCheckBox:function(j,b,h,e){if(!b){return }var a=j.data.key.children,Y=j.data.key.checked,f=F("#"+b.tId+P.id.CHECK);if(!e){e=b}var Z=false;if(b[a]){for(var d=0,c=b[a].length;d<c&&b.chkDisabled!==true;d++){var g=b[a][d];I.setSonNodeCheckBox(j,g,h,e);if(g.chkDisabled===true){Z=true}}}if(b!=W.getRoot(j)&&b.chkDisabled!==true){if(Z&&b.nocheck!==true){W.makeChkFlag(j,b)}if(b.nocheck!==true){b[Y]=h;if(!Z){b.check_Child_State=(b[a]&&b[a].length>0)?(h?2:0):-1}}else{b.check_Child_State=-1}I.setChkClass(j,f,b);if(j.check.autoCheckTrigger&&b!=e&&b.nocheck!==true){j.treeObj.trigger(P.event.CHECK,[j.treeId,b])}}}},R={tools:H,view:E,event:G,data:O};F.extend(true,F.fn.zTree.consts,X);F.extend(true,F.fn.zTree._z,R);var C=F.fn.zTree,S=C._z.tools,P=C.consts,I=C._z.view,W=C._z.data,Q=C._z.event;W.exSetting(L);W.addInitBind(M);W.addInitCache(D);W.addInitNode(T);W.addInitProxy(N);W.addInitRoot(U);W.addBeforeA(A);W.addZTreeTools(J);var V=I.createNodes;I.createNodes=function(a,b,Z,Y){if(V){V.apply(I,arguments)}if(!Z){return }I.repairParentChkClassWithSelf(a,Y)};var B=I.removeNode;I.removeNode=function(Z,a){var Y=a.getParentNode();if(B){B.apply(I,arguments)}if(!a||!Y){return }I.repairChkClass(Z,Y);I.repairParentChkClass(Z,Y)}})(jQuery);(function(F){var Z={event:{DRAG:"ztree_drag",DROP:"ztree_drop",REMOVE:"ztree_remove",RENAME:"ztree_rename"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},L={edit:{enable:false,editNameSelectAll:false,showRemoveBtn:true,showRenameBtn:true,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:false,isCopy:true,isMove:true,prev:true,next:true,inner:true,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDrop:null,onRename:null}},V=function(a){var b=X.getRoot(a);b.curEditNode=null;b.curEditInput=null;b.curHoverNode=null;b.dragFlag=0;b.dragNodeShowBefore=[];b.dragMaskList=new Array();b.showHoverDom=true},C=function(a){},M=function(a){var b=a.treeObj;var d=P.event;b.unbind(d.RENAME);b.bind(d.RENAME,function(c,f,e){T.apply(a.callback.onRename,[c,f,e])});b.unbind(d.REMOVE);b.bind(d.REMOVE,function(c,f,e){T.apply(a.callback.onRemove,[c,f,e])});b.unbind(d.DRAG);b.bind(d.DRAG,function(e,c,g,f){T.apply(a.callback.onDrag,[c,g,f])});b.unbind(d.DROP);b.bind(d.DROP,function(g,f,i,h,j,e,c){T.apply(a.callback.onDrop,[f,i,h,j,e,c])})},N=function(i){var j=i.target,m=X.getSetting(i.data.treeId),k=i.relatedTarget,g="",b=null,c="",h="",a=null,f=null,d=null;if(T.eqs(i.type,"mouseover")){d=T.getMDom(m,j,[{tagName:"a",attrName:"treeNode"+P.id.A}]);if(d){g=d.parentNode.id;c="hoverOverNode"}}else{if(T.eqs(i.type,"mouseout")){d=T.getMDom(m,k,[{tagName:"a",attrName:"treeNode"+P.id.A}]);if(!d){g="remove";c="hoverOutNode"}}else{if(T.eqs(i.type,"mousedown")){d=T.getMDom(m,j,[{tagName:"a",attrName:"treeNode"+P.id.A}]);if(d){g=d.parentNode.id;c="mousedownNode"}}}}if(g.length>0){b=X.getNodeCache(m,g);switch(c){case"mousedownNode":a=K.onMousedownNode;break;case"hoverOverNode":a=K.onHoverOverNode;break;case"hoverOutNode":a=K.onHoverOutNode;break}}var l={stop:false,node:b,nodeEventType:c,nodeEventCallback:a,treeEventType:h,treeEventCallback:f};return l},U=function(c,g,f,a,e,b,d){if(!f){return }f.isHover=false;f.editNameFlag=false},J=function(b,a){a.cancelEditName=function(d){var c=X.getRoot(b),e=b.data.key.name,f=c.curEditNode;if(!c.curEditNode){return }I.cancelCurEditNode(b,d?d:f[e])};a.copyNode=function(g,f,e,h){if(!f){return null}if(g&&!g.isParent&&b.data.keep.leaf&&e===P.move.TYPE_INNER){return null}var c=T.clone(f);if(!g){g=null;e=P.move.TYPE_INNER}if(e==P.move.TYPE_INNER){function d(){I.addNodes(b,g,[c],h)}if(T.canAsync(b,g)){I.asyncNode(b,g,h,d)}else{d()}}else{I.addNodes(b,g.parentNode,[c],h);I.moveNode(b,g,c,e,false,h)}return c};a.editName=function(c){if(!c||!c.tId||c!==X.getNodeCache(b,c.tId)){return }if(c.parentTId){I.expandCollapseParentNode(b,c.getParentNode(),true)}I.editNode(b,c)};a.moveNode=function(e,d,c,g){if(!d){return d}if(e&&!e.isParent&&b.data.keep.leaf&&c===P.move.TYPE_INNER){return null}else{if(e&&((d.parentTId==e.tId&&c==P.move.TYPE_INNER)||F("#"+d.tId).find("#"+e.tId).length>0)){return null}else{if(!e){e=null}}}function f(){I.moveNode(b,e,d,c,false,g)}if(T.canAsync(b,e)){I.asyncNode(b,e,g,f)}else{f()}return d};a.setEditable=function(c){b.edit.enable=c;return this.refresh()}},O={setSonNodeLevel:function(d,a,f){if(!f){return }var e=d.data.key.children;f.level=(a)?a.level+1:0;if(!f[e]){return }for(var c=0,b=f[e].length;c<b;c++){if(f[e][c]){X.setSonNodeLevel(d,f,f[e][c])}}}},G={},K={onHoverOverNode:function(d,c){var b=X.getSetting(d.data.treeId),a=X.getRoot(b);if(a.curHoverNode!=c){K.onHoverOutNode(d)}a.curHoverNode=c;I.addHoverDom(b,c)},onHoverOutNode:function(d,c){var b=X.getSetting(d.data.treeId),a=X.getRoot(b);if(a.curHoverNode&&!X.isSelectedNode(b,a.curHoverNode)){I.removeTreeDom(b,a.curHoverNode);a.curHoverNode=null}},onMousedownNode:function(o,g){var w,t,n=X.getSetting(o.data.treeId),s=X.getRoot(n);if(o.button==2||!n.edit.enable||(!n.edit.drag.isCopy&&!n.edit.drag.isMove)){return true}var z=o.target,f=X.getRoot(n).curSelectedList,p=[];if(!X.isSelectedNode(n,g)){p=[g]}else{for(w=0,t=f.length;w<t;w++){if(f[w].editNameFlag&&T.eqs(z.tagName,"input")&&z.getAttribute("treeNode"+P.id.INPUT)!==null){return true}p.push(f[w]);if(p[0].parentTId!==f[w].parentTId){p=[g];break}}}I.editNodeBlur=true;I.cancelCurEditNode(n,null,true);var AC=F(document),v,h,x,y=false,AA=n,a,e,q=null,d=null,m=null,b=P.move.TYPE_INNER,u=o.clientX,r=o.clientY,j=(new Date()).getTime();if(T.uCanDo(n)){AC.bind("mousemove",k)}function k(A0){if(s.dragFlag==0&&Math.abs(u-A0.clientX)<n.edit.drag.minMoveSize&&Math.abs(r-A0.clientY)<n.edit.drag.minMoveSize){return true}var Av,Ar,AT,Am,Ae,Al=n.data.key.children;T.noSel(n);F("body").css("cursor","pointer");if(s.dragFlag==0){if(T.apply(n.callback.beforeDrag,[n.treeId,p],true)==false){AB(A0);return true}for(Av=0,Ar=p.length;Av<Ar;Av++){if(Av==0){s.dragNodeShowBefore=[]}AT=p[Av];if(AT.isParent&&AT.open){I.expandCollapseNode(n,AT,!AT.open);s.dragNodeShowBefore[AT.tId]=true}else{s.dragNodeShowBefore[AT.tId]=false}}s.dragFlag=1;s.showHoverDom=false;T.showIfameMask(n,true);var AE=true,AH=-1;if(p.length>1){var AR=p[0].parentTId?p[0].getParentNode()[Al]:X.getNodes(n);Ae=[];for(Av=0,Ar=AR.length;Av<Ar;Av++){if(s.dragNodeShowBefore[AR[Av].tId]!==undefined){if(AE&&AH>-1&&(AH+1)!==Av){AE=false}Ae.push(AR[Av]);AH=Av}if(p.length===Ae.length){p=Ae;break}}}if(AE){a=p[0].getPreNode();e=p[p.length-1].getNextNode()}v=F("<ul class='zTreeDragUL'></ul>");for(Av=0,Ar=p.length;Av<Ar;Av++){AT=p[Av];AT.editNameFlag=false;I.selectNode(n,AT,Av>0);I.removeTreeDom(n,AT);Am=F("<li id='"+AT.tId+"_tmp'></li>");Am.append(F("#"+AT.tId+P.id.A).clone());Am.css("padding","0");Am.children("#"+AT.tId+P.id.A).removeClass(P.node.CURSELECTED);v.append(Am);if(Av==n.edit.drag.maxShowNodeNum-1){Am=F("<li id='"+AT.tId+"_moretmp'><a>  ...  </a></li>");v.append(Am);break}}v.attr("id",p[0].tId+P.id.UL+"_tmp");v.addClass(n.treeObj.attr("class"));v.appendTo("body");h=F("<span class='tmpzTreeMove_arrow'></span>");h.attr("id","zTreeMove_arrow_tmp");h.appendTo("body");n.treeObj.trigger(P.event.DRAG,[A0,n.treeId,p])}if(s.dragFlag==1){if(x&&h.attr("id")==A0.target.id&&m&&(A0.clientX+AC.scrollLeft()+2)>(F("#"+m+P.id.A,x).offset().left)){var Az=F("#"+m+P.id.A,x);A0.target=(Az.length>0)?Az.get(0):A0.target}else{if(x){x.removeClass(P.node.TMPTARGET_TREE);if(m){F("#"+m+P.id.A,x).removeClass(P.node.TMPTARGET_NODE+"_"+P.move.TYPE_PREV).removeClass(P.node.TMPTARGET_NODE+"_"+Z.move.TYPE_NEXT).removeClass(P.node.TMPTARGET_NODE+"_"+Z.move.TYPE_INNER)}}}x=null;m=null;y=false;AA=n;var Aw=X.getSettings();for(var An in Aw){if(Aw[An].treeId&&Aw[An].edit.enable&&Aw[An].treeId!=n.treeId&&(A0.target.id==Aw[An].treeId||F(A0.target).parents("#"+Aw[An].treeId).length>0)){y=true;AA=Aw[An]}}var AQ=AC.scrollTop(),Ay=AC.scrollLeft(),AF=AA.treeObj.offset(),AY=AA.treeObj.get(0).scrollHeight,Ao=AA.treeObj.get(0).scrollWidth,Ax=(A0.clientY+AQ-AF.top),Ak=(AA.treeObj.height()+AF.top-A0.clientY-AQ),Af=(A0.clientX+Ay-AF.left),AP=(AA.treeObj.width()+AF.left-A0.clientX-Ay),AS=(Ax<n.edit.drag.borderMax&&Ax>n.edit.drag.borderMin),A1=(Ak<n.edit.drag.borderMax&&Ak>n.edit.drag.borderMin),Ai=(Af<n.edit.drag.borderMax&&Af>n.edit.drag.borderMin),AN=(AP<n.edit.drag.borderMax&&AP>n.edit.drag.borderMin),AG=Ax>n.edit.drag.borderMin&&Ak>n.edit.drag.borderMin&&Af>n.edit.drag.borderMin&&AP>n.edit.drag.borderMin,Ac=(AS&&AA.treeObj.scrollTop()<=0),Ab=(A1&&(AA.treeObj.scrollTop()+AA.treeObj.height()+10)>=AY),AJ=(Ai&&AA.treeObj.scrollLeft()<=0),AW=(AN&&(AA.treeObj.scrollLeft()+AA.treeObj.width()+10)>=Ao);if(A0.target.id&&AA.treeObj.find("#"+A0.target.id).length>0){var AO=A0.target;while(AO&&AO.tagName&&!T.eqs(AO.tagName,"li")&&AO.id!=AA.treeId){AO=AO.parentNode}var AV=true;for(Av=0,Ar=p.length;Av<Ar;Av++){AT=p[Av];if(AO.id===AT.tId){AV=false;break}else{if(F("#"+AT.tId).find("#"+AO.id).length>0){AV=false;break}}}if(AV){if(A0.target.id&&(A0.target.id==(AO.id+P.id.A)||F(A0.target).parents("#"+AO.id+P.id.A).length>0)){x=F(AO);m=AO.id}}}AT=p[0];if(AG&&(A0.target.id==AA.treeId||F(A0.target).parents("#"+AA.treeId).length>0)){if(!x&&(A0.target.id==AA.treeId||Ac||Ab||AJ||AW)&&(y||(!y&&AT.parentTId))){x=AA.treeObj}if(AS){AA.treeObj.scrollTop(AA.treeObj.scrollTop()-10)}else{if(A1){AA.treeObj.scrollTop(AA.treeObj.scrollTop()+10)}}if(Ai){AA.treeObj.scrollLeft(AA.treeObj.scrollLeft()-10)}else{if(AN){AA.treeObj.scrollLeft(AA.treeObj.scrollLeft()+10)}}if(x&&x!=AA.treeObj&&x.offset().left<AA.treeObj.offset().left){AA.treeObj.scrollLeft(AA.treeObj.scrollLeft()+x.offset().left-AA.treeObj.offset().left)}}v.css({top:(A0.clientY+AQ+3)+"px",left:(A0.clientX+Ay+3)+"px"});var Aa=0;var AZ=0;if(x&&x.attr("id")!=AA.treeId){var Aj=m==null?null:X.getNodeCache(AA,m),Ad=(A0.ctrlKey&&n.edit.drag.isMove&&n.edit.drag.isCopy)||(!n.edit.drag.isMove&&n.edit.drag.isCopy),AL=!!(a&&m===a.tId),Ah=!!(e&&m===e.tId),At=(AT.parentTId&&AT.parentTId==m),Ag=(Ad||!Ah)&&T.apply(AA.edit.drag.prev,[AA.treeId,p,Aj],!!AA.edit.drag.prev),AK=(Ad||!AL)&&T.apply(AA.edit.drag.next,[AA.treeId,p,Aj],!!AA.edit.drag.next),AD=(Ad||!At)&&!(AA.data.keep.leaf&&!Aj.isParent)&&T.apply(AA.edit.drag.inner,[AA.treeId,p,Aj],!!AA.edit.drag.inner);if(!Ag&&!AK&&!AD){x=null;m="";b=P.move.TYPE_INNER;h.css({display:"none"});if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}}else{var AX=F("#"+m+P.id.A,x),Aq=Aj.isLastNode?null:F("#"+Aj.getNextNode().tId+P.id.A,x.next()),As=AX.offset().top,Au=AX.offset().left,Ap=Ag?(AD?0.25:(AK?0.5:1)):-1,AM=AK?(AD?0.75:(Ag?0.5:0)):-1,AI=(A0.clientY+AQ-As)/AX.height();if((Ap==1||AI<=Ap&&AI>=-0.2)&&Ag){Aa=1-h.width();AZ=As-h.height()/2;b=P.move.TYPE_PREV}else{if((AM==0||AI>=AM&&AI<=1.2)&&AK){Aa=1-h.width();AZ=(Aq==null||(Aj.isParent&&Aj.open))?(As+AX.height()-h.height()/2):(Aq.offset().top-h.height()/2);b=P.move.TYPE_NEXT}else{Aa=5-h.width();AZ=As;b=P.move.TYPE_INNER}}h.css({display:"block",top:AZ+"px",left:(Au+Aa)+"px"});AX.addClass(P.node.TMPTARGET_NODE+"_"+b);if(q!=m||d!=b){j=(new Date()).getTime()}if(Aj&&Aj.isParent&&b==P.move.TYPE_INNER){var AU=true;if(window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==Aj.tId){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}else{if(window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===Aj.tId){AU=false}}if(AU){window.zTreeMoveTimer=setTimeout(function(){if(b!=P.move.TYPE_INNER){return }if(Aj&&Aj.isParent&&!Aj.open&&(new Date()).getTime()-j>AA.edit.drag.autoOpenTime&&T.apply(AA.callback.beforeDragOpen,[AA.treeId,Aj],true)){I.switchNode(AA,Aj);if(AA.edit.drag.autoExpandTrigger){AA.treeObj.trigger(P.event.EXPAND,[AA.treeId,Aj])}}},AA.edit.drag.autoOpenTime+50);window.zTreeMoveTargetNodeTId=Aj.tId}}}}else{b=P.move.TYPE_INNER;if(x&&T.apply(AA.edit.drag.inner,[AA.treeId,p,null],!!AA.edit.drag.inner)){x.addClass(P.node.TMPTARGET_TREE)}else{x=null}h.css({display:"none"});if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}}q=m;d=b}return false}AC.bind("mouseup",AB);function AB(AK){if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}q=null;d=null;AC.unbind("mousemove",k);AC.unbind("mouseup",AB);AC.unbind("selectstart",c);F("body").css("cursor","auto");if(x){x.removeClass(P.node.TMPTARGET_TREE);if(m){F("#"+m+P.id.A,x).removeClass(P.node.TMPTARGET_NODE+"_"+P.move.TYPE_PREV).removeClass(P.node.TMPTARGET_NODE+"_"+Z.move.TYPE_NEXT).removeClass(P.node.TMPTARGET_NODE+"_"+Z.move.TYPE_INNER)}}T.showIfameMask(n,false);s.showHoverDom=true;if(s.dragFlag==0){return }s.dragFlag=0;var AI,AE,AJ;for(AI=0,AE=p.length;AI<AE;AI++){AJ=p[AI];if(AJ.isParent&&s.dragNodeShowBefore[AJ.tId]&&!AJ.open){I.expandCollapseNode(n,AJ,!AJ.open);delete s.dragNodeShowBefore[AJ.tId]}}if(v){v.remove()}if(h){h.remove()}var AD=(AK.ctrlKey&&n.edit.drag.isMove&&n.edit.drag.isCopy)||(!n.edit.drag.isMove&&n.edit.drag.isCopy);if(!AD&&x&&m&&p[0].parentTId&&m==p[0].parentTId&&b==P.move.TYPE_INNER){x=null}if(x){var AF=m==null?null:X.getNodeCache(AA,m);if(T.apply(n.callback.beforeDrop,[AA.treeId,p,AF,b,AD],true)==false){return }var AG=AD?T.clone(p):p;function AH(){if(y){if(!AD){for(var AM=0,AL=p.length;AM<AL;AM++){I.removeNode(n,p[AM])}}if(b==P.move.TYPE_INNER){I.addNodes(AA,AF,AG)}else{I.addNodes(AA,AF.getParentNode(),AG);if(b==P.move.TYPE_PREV){for(AM=0,AL=AG.length;AM<AL;AM++){I.moveNode(AA,AF,AG[AM],b,false)}}else{for(AM=-1,AL=AG.length-1;AM<AL;AL--){I.moveNode(AA,AF,AG[AL],b,false)}}}}else{if(AD&&b==P.move.TYPE_INNER){I.addNodes(AA,AF,AG)}else{if(AD){I.addNodes(AA,AF.getParentNode(),AG)}if(b==P.move.TYPE_PREV){for(AM=0,AL=AG.length;AM<AL;AM++){I.moveNode(AA,AF,AG[AM],b,false)}}else{for(AM=-1,AL=AG.length-1;AM<AL;AL--){I.moveNode(AA,AF,AG[AL],b,false)}}}}for(AM=0,AL=AG.length;AM<AL;AM++){I.selectNode(AA,AG[AM],AM>0)}F("#"+AG[0].tId).focus().blur()}if(b==P.move.TYPE_INNER&&T.canAsync(AA,AF)){I.asyncNode(AA,AF,false,AH)}else{AH()}n.treeObj.trigger(P.event.DROP,[AK,AA.treeId,AG,AF,b,AD])}else{for(AI=0,AE=p.length;AI<AE;AI++){I.selectNode(AA,p[AI],AI>0)}n.treeObj.trigger(P.event.DROP,[AK,n.treeId,p,null,null,null])}}AC.bind("selectstart",c);function c(){return false}if(o.preventDefault){o.preventDefault()}return true}},H={getAbs:function(a){var b=a.getBoundingClientRect();return[b.left,b.top]},inputFocus:function(a){if(a.get(0)){a.focus();T.setCursorPosition(a.get(0),a.val().length)}},inputSelect:function(a){if(a.get(0)){a.focus();a.select()}},setCursorPosition:function(b,c){if(b.setSelectionRange){b.focus();b.setSelectionRange(c,c)}else{if(b.createTextRange){var a=b.createTextRange();a.collapse(true);a.moveEnd("character",c);a.moveStart("character",c);a.select()}}},showIfameMask:function(h,f){var e=X.getRoot(h);while(e.dragMaskList.length>0){e.dragMaskList[0].remove();e.dragMaskList.shift()}if(f){var j=F("iframe");for(var d=0,b=j.length;d<b;d++){var c=j.get(d),a=T.getAbs(c),g=F("<div id='zTreeMask_"+d+"' class='zTreeMask' style='background-color:yellow;opacity: 0.3;filter: alpha(opacity=30);    top:"+a[1]+"px; left:"+a[0]+"px; width:"+c.offsetWidth+"px; height:"+c.offsetHeight+"px;'></div>");g.appendTo("body");e.dragMaskList.push(g)}}}},D={addEditBtn:function(b,c){if(c.editNameFlag||F("#"+c.tId+P.id.EDIT).length>0){return }if(!T.apply(b.edit.showRenameBtn,[b.treeId,c],b.edit.showRenameBtn)){return }var d=F("#"+c.tId+P.id.A),a="<span class='button edit' id='"+c.tId+P.id.EDIT+"' title='"+T.apply(b.edit.renameTitle,[b.treeId,c],b.edit.renameTitle)+"' treeNode"+P.id.EDIT+" style='display:none;'></span>";d.append(a);F("#"+c.tId+P.id.EDIT).bind("click",function(){if(!T.uCanDo(b)||T.apply(b.callback.beforeEditName,[b.treeId,c],true)==false){return false}I.editNode(b,c);return false}).show()},addRemoveBtn:function(a,b){if(b.editNameFlag||F("#"+b.tId+P.id.REMOVE).length>0){return }if(!T.apply(a.edit.showRemoveBtn,[a.treeId,b],a.edit.showRemoveBtn)){return }var d=F("#"+b.tId+P.id.A),c="<span class='button remove' id='"+b.tId+P.id.REMOVE+"' title='"+T.apply(a.edit.removeTitle,[a.treeId,b],a.edit.removeTitle)+"' treeNode"+P.id.REMOVE+" style='display:none;'></span>";d.append(c);F("#"+b.tId+P.id.REMOVE).bind("click",function(){if(!T.uCanDo(a)||T.apply(a.callback.beforeRemove,[a.treeId,b],true)==false){return false}I.removeNode(a,b);a.treeObj.trigger(P.event.REMOVE,[a.treeId,b]);return false}).bind("mousedown",function(e){return true}).show()},addHoverDom:function(a,b){if(X.getRoot(a).showHoverDom){b.isHover=true;if(a.edit.enable){I.addEditBtn(a,b);I.addRemoveBtn(a,b)}T.apply(a.view.addHoverDom,[a.treeId,b])}},cancelCurEditNode:function(f,d){var b=X.getRoot(f),e=f.data.key.name,g=b.curEditNode;if(g){var c=b.curEditInput;var a=d?d:c.val();if(!d&&T.apply(f.callback.beforeRename,[f.treeId,g,a],true)===false){g.editNameFlag=true;return false}else{g[e]=a?a:c.val();if(!d){f.treeObj.trigger(P.event.RENAME,[f.treeId,g])}}var h=F("#"+g.tId+P.id.A);h.removeClass(P.node.CURSELECTED_EDIT);c.unbind();I.setNodeName(f,g);g.editNameFlag=false;b.curEditNode=null;b.curEditInput=null;I.selectNode(f,g,false)}b.noSelection=true;return true},editNode:function(d,e){var a=X.getRoot(d);I.editNodeBlur=false;if(X.isSelectedNode(d,e)&&a.curEditNode==e&&e.editNameFlag){setTimeout(function(){T.inputFocus(a.curEditInput)},0);return }var c=d.data.key.name;e.editNameFlag=true;I.removeTreeDom(d,e);I.cancelCurEditNode(d);I.selectNode(d,e,false);F("#"+e.tId+P.id.SPAN).html("<input type=text class='rename' id='"+e.tId+P.id.INPUT+"' treeNode"+P.id.INPUT+" >");var b=F("#"+e.tId+P.id.INPUT);b.attr("value",e[c]);if(d.edit.editNameSelectAll){T.inputSelect(b)}else{T.inputFocus(b)}b.bind("blur",function(f){if(!I.editNodeBlur){I.cancelCurEditNode(d)}}).bind("keydown",function(f){if(f.keyCode=="13"){I.editNodeBlur=true;I.cancelCurEditNode(d,null,true)}else{if(f.keyCode=="27"){I.cancelCurEditNode(d,e[c])}}}).bind("click",function(f){return false}).bind("dblclick",function(f){return false});F("#"+e.tId+P.id.A).addClass(P.node.CURSELECTED_EDIT);a.curEditInput=b;a.noSelection=false;a.curEditNode=e},moveNode:function(m,d,p,c,AA,e){var r=X.getRoot(m),j=m.data.key.children;if(d==p){return }if(m.data.keep.leaf&&d&&!d.isParent&&c==P.move.TYPE_INNER){return }var u=(p.parentTId?p.getParentNode():r),o=(d===null||d==r);if(o&&d===null){d=r}if(o){c=P.move.TYPE_INNER}var a=(d.parentTId?d.getParentNode():r);if(c!=P.move.TYPE_PREV&&c!=P.move.TYPE_NEXT){c=P.move.TYPE_INNER}if(c==P.move.TYPE_INNER){if(o){p.parentTId=null}else{if(!d.isParent){d.isParent=true;d.open=!!d.open;I.setNodeLineIcos(m,d)}p.parentTId=d.tId}}var f,h;if(o){f=m.treeObj;h=f}else{if(!e&&c==P.move.TYPE_INNER){I.expandCollapseNode(m,d,true,false)}else{if(!e){I.expandCollapseNode(m,d.getParentNode(),true,false)}}f=F("#"+d.tId);h=F("#"+d.tId+P.id.UL);if(!h.get(0)){var y=[];I.makeUlHtml(m,d,y,"");f.append(y.join(""))}h=F("#"+d.tId+P.id.UL)}var w=F("#"+p.tId);if(h.get(0)&&c==P.move.TYPE_INNER){h.append(w)}else{if(f.get(0)&&c==P.move.TYPE_PREV){f.before(w)}else{if(f.get(0)&&c==P.move.TYPE_NEXT){f.after(w)}}}var t,s,g=-1,v=0,z=null,b=null,x=p.level;if(p.isFirstNode){g=0;if(u[j].length>1){z=u[j][1];z.isFirstNode=true}}else{if(p.isLastNode){g=u[j].length-1;z=u[j][g-1];z.isLastNode=true}else{for(t=0,s=u[j].length;t<s;t++){if(u[j][t].tId==p.tId){g=t;break}}}}if(g>=0){u[j].splice(g,1)}if(c!=P.move.TYPE_INNER){for(t=0,s=a[j].length;t<s;t++){if(a[j][t].tId==d.tId){v=t}}}if(c==P.move.TYPE_INNER){if(!d[j]){d[j]=new Array()}if(d[j].length>0){b=d[j][d[j].length-1];b.isLastNode=false}d[j].splice(d[j].length,0,p);p.isLastNode=true;p.isFirstNode=(d[j].length==1)}else{if(d.isFirstNode&&c==P.move.TYPE_PREV){a[j].splice(v,0,p);b=d;b.isFirstNode=false;p.parentTId=d.parentTId;p.isFirstNode=true;p.isLastNode=false}else{if(d.isLastNode&&c==P.move.TYPE_NEXT){a[j].splice(v+1,0,p);b=d;b.isLastNode=false;p.parentTId=d.parentTId;p.isFirstNode=false;p.isLastNode=true}else{if(c==P.move.TYPE_PREV){a[j].splice(v,0,p)}else{a[j].splice(v+1,0,p)}p.parentTId=d.parentTId;p.isFirstNode=false;p.isLastNode=false}}}X.fixPIdKeyValue(m,p);X.setSonNodeLevel(m,p.getParentNode(),p);I.setNodeLineIcos(m,p);I.repairNodeLevelClass(m,p,x);if(!m.data.keep.parent&&u[j].length<1){u.isParent=false;u.open=false;var n=F("#"+u.tId+P.id.UL),q=F("#"+u.tId+P.id.SWITCH),k=F("#"+u.tId+P.id.ICON);I.replaceSwitchClass(u,q,P.folder.DOCU);I.replaceIcoClass(u,k,P.folder.DOCU);n.css("display","none")}else{if(z){I.setNodeLineIcos(m,z)}}if(b){I.setNodeLineIcos(m,b)}if(!!m.check&&m.check.enable&&I.repairChkClass){I.repairChkClass(m,u);I.repairParentChkClassWithSelf(m,u);if(u!=p.parent){I.repairParentChkClassWithSelf(m,p)}}if(!e){I.expandCollapseParentNode(m,p.getParentNode(),true,AA)}},removeEditBtn:function(a){F("#"+a.tId+P.id.EDIT).unbind().remove()},removeRemoveBtn:function(a){F("#"+a.tId+P.id.REMOVE).unbind().remove()},removeTreeDom:function(a,b){b.isHover=false;I.removeEditBtn(b);I.removeRemoveBtn(b);T.apply(a.view.removeHoverDom,[a.treeId,b])},repairNodeLevelClass:function(b,d,c){if(c===d.level){return }var e=F("#"+d.tId),h=F("#"+d.tId+P.id.A),g=F("#"+d.tId+P.id.UL),a="level"+c,f="level"+d.level;e.removeClass(a);e.addClass(f);h.removeClass(a);h.addClass(f);g.removeClass(a);g.addClass(f)}},R={tools:H,view:D,event:Q,data:O};F.extend(true,F.fn.zTree.consts,Z);F.extend(true,F.fn.zTree._z,R);var B=F.fn.zTree,T=B._z.tools,P=B.consts,I=B._z.view,X=B._z.data,Q=B._z.event;X.exSetting(L);X.addInitBind(M);X.addInitCache(C);X.addInitNode(U);X.addInitProxy(N);X.addInitRoot(V);X.addZTreeTools(J);var S=I.cancelPreSelectedNode;I.cancelPreSelectedNode=function(c,d){var e=X.getRoot(c).curSelectedList;for(var b=0,a=e.length;b<a;b++){if(!d||d===e[b]){I.removeTreeDom(c,e[b]);if(d){break}}}if(S){S.apply(I,arguments)}};var W=I.createNodes;I.createNodes=function(c,d,b,a){if(W){W.apply(I,arguments)}if(!b){return }if(I.repairParentChkClassWithSelf){I.repairParentChkClassWithSelf(c,a)}};I.makeNodeUrl=function(a,b){return(b.url&&!a.edit.enable)?b.url:null};var A=I.removeNode;I.removeNode=function(b,c){var a=X.getRoot(b);if(a.curEditNode===c){a.curEditNode=null}if(A){A.apply(I,arguments)}};var Y=I.selectNode;I.selectNode=function(c,d,b){var a=X.getRoot(c);if(X.isSelectedNode(c,d)&&a.curEditNode==d&&d.editNameFlag){return false}if(Y){Y.apply(I,arguments)}I.addHoverDom(c,d);return true};var E=T.uCanDo;T.uCanDo=function(b,c){var a=X.getRoot(b);if(c&&(T.eqs(c.type,"mouseover")||T.eqs(c.type,"mouseout")||T.eqs(c.type,"mousedown")||T.eqs(c.type,"mouseup"))){return true}return(!a.curEditNode)&&(E?E.apply(I,arguments):true)}})(jQuery);
function Mxtchat(A){if(A==undefined){A={}}this.id=A.id!=undefined?A.id:Math.floor(Math.random()*100000000);this.zIndex=500;this.width=514;this.height=510;this.bodyHeight=413;this.title="UC\u4e2d\u5fc3";this.numberText1="\u60a8\u8fd8\u53ef\u4ee5\u518d\u8f93\u5165";this.numberText2="\u4e2a\u6c49\u5b57";this.closeTitle="\u5173\u95ed";this.sendTitle="\u53d1\u9001";this.minTitle="\u6700\u5c0f\u5316";this.historyTitle="\u6d88\u606f\u8bb0\u5f55";this.groupTitle="\u7fa4\u6210\u5458";this.defaultLength=140;this.online_msg="\u5728\u7ebf\u6d88\u606f";this.owner="\u6211",this.left=A.left!=undefined?A.left:100;this.top=A.top!=undefined?A.top:100;this.fixRight=A.fixRight!=undefined?A.fixRight:100;this.fixBottom=A.fixBottom!=undefined?A.fixBottom:10;this.isAttach=A.isAttach;this.currentTabId=null;this.lastTabId=null;this.tabItems=A.tabItems;this.isShowHistory=false;this.isGroup=false;if(this.isAttach!=undefined&&this.isAttach==true){this.createAttach()}this.initWindow();this.dialogtextarea.focus();this.addChatTab();this.addHistoryTab();$("#"+this.firstTab).click()}Mxtchat.prototype.initWindow=function(){var C="";C+="<div id='"+this.id+"_container' class='border_all clearfix' style='position:fixed;'>";C+="<div id='"+this.id+"_content' class='absolute page_color clearfix'>";C+="<div id='"+this.id+"_head' class='hidden padding_t_5 padding_b_5 align_right border_b font_size12 clearfix'></div>";C+="<div id='"+this.id+"_left' class='padding_l_10 padding_t_10 left clearfix'>";C+="<div id='"+this.id+"_dialogcontent' class='border_all clearfix'>";C+="<div id='"+this.id+"_dialogcontenthead' class='border_b clearfix common_tabs'><ul id='"+this.id+"_dialogcontentheadul' class='left'></ul></div>";C+="<div id='"+this.id+"_dialogcontentbody' class='clearfix' style='position:relative'></div>";C+="</div>";C+="<div id='"+this.id+"_dialogbar' class='font_size12 clearfix'></div>";C+="<div id='"+this.id+"_dialogtextarea' contentEditable='true' class='border_all imgLength'></div>";C+="<div id='"+this.id+"_dialogbottom' class='font_size12 clearfix'></div>";C+="</div>";C+="<div id='"+this.id+"_right' class='hidden right  border_l clearfix'>";C+="<div id='"+this.id+"_righthead' class='padding_t_5 padding_b_5 clearfix'>";C+="</div>";C+="<div id='"+this.id+"_rightbody' class='margin_l_10 clearfix'>";C+="<div id='"+this.id+"_rightbodyhead' class='border_t  	border_lr clearfix common_tabs'><ul id='"+this.id+"_rightbodyheadul' class='left'></ul></div>";C+="<div id='"+this.id+"_rightbodybody' class='clearfix'>";C+="<div id='"+this.id+"_historytabbody' class='clearfix hidden'>";C+="<div id='"+this.id+"_historytabbodytop' class='border_all clearfix'></div>";C+="<div id='"+this.id+"_historytabbodybottom' class='clearfix'></div>";C+="</div>";C+="<div id='"+this.id+"_grouptabbody' class='border_all clearfix hidden'></div>";C+="</div>";C+="</div>";C+="</div>";C+="</div>";C+="<iframe id='"+this.id+"_iframe' class='absolute'></iframe>";C+="</div>";$("body").prepend(C);this.container=$("#"+this.id+"_container");this.content=$("#"+this.id+"_content");this.head=$("#"+this.id+"_head");this.left=$("#"+this.id+"_left");this.right=$("#"+this.id+"_right");this.iframe=$("#"+this.id+"_iframe");this.dialogcontent=$("#"+this.id+"_dialogcontent");this.dialogcontenthead=$("#"+this.id+"_dialogcontenthead");this.dialogcontentheadul=$("#"+this.id+"_dialogcontentheadul");this.dialogcontentbody=$("#"+this.id+"_dialogcontentbody");this.dialogbar=$("#"+this.id+"_dialogbar");this.dialogtextarea=$("#"+this.id+"_dialogtextarea");this.dialogbottom=$("#"+this.id+"_dialogbottom");this.righthead=$("#"+this.id+"_righthead");this.rightbody=$("#"+this.id+"_rightbody");this.rightbodyhead=$("#"+this.id+"_rightbodyhead");this.rightbodyheadul=$("#"+this.id+"_rightbodyheadul");this.rightbodybody=$("#"+this.id+"_rightbodybody");this.grouptabbody=$("#"+this.id+"_grouptabbody");this.historytabbody=$("#"+this.id+"_historytabbody");this.historytabbodytop=$("#"+this.id+"_historytabbodytop");this.historytabbodybottom=$("#"+this.id+"_historytabbodybottom");this.rightbodybottom=$("#"+this.id+"rightbodybottom");if(this.isAttach){var B=$("#"+this.id+"_onlineHeight").height()+this.fixBottom-1;this.container.css({"z-index":this.zIndex,bottom:B,right:this.fixRight,width:this.width,height:this.height,overflow:"hidden"})}else{this.container.css({"z-index":this.zIndex,top:this.top,left:this.left,width:this.width,height:this.height,overflow:"hidden"})}this.content.css({top:"0px",left:"0px","z-index":2,width:this.width,height:this.height});this.iframe.css({top:"0px",left:"0px","z-index":1,width:this.width,height:this.height});this.head.css({width:this.width});this.left.css({width:this.width-10,height:this.bodyHeight-10});this.right.css({width:298,height:this.bodyHeight,background:"#d8d8d8",overflow:"hidden"});this.righthead.css({width:298});this.rightbody.css({width:276,height:this.bodyHeight-40,background:"#ffffff"});this.rightbodyhead.css({width:276,height:24});this.rightbodybody.css({width:276,height:this.bodyHeight-100});this.grouptabbody.css({width:276,height:this.bodyHeight-66,overflow:"auto"});this.historytabbody.css({width:276,height:this.bodyHeight-60,overflow:"hidden"});this.historytabbodytop.css({width:276,height:this.bodyHeight-100,overflow:"auto"});this.historytabbodybottom.css({width:276,height:45,background:"#d8d8d8",overflow:"hidden"});this.dialogcontent.css({width:this.width-22,height:353,background:"#fff"});this.dialogcontenthead.css({width:this.width-22,height:24,overflow:"hidden"});this.dialogcontentbody.css({width:this.width-22,height:329,overflow:"auto","overflow-x":"hidden"});this.dialogbar.css({width:this.width-20,height:26});this.dialogtextarea.css({width:this.width-32,height:64,background:"#fff",overflow:"auto",padding:"5px","word-wrap":"break-word"});this.dialogbottom.css({width:this.width-20,height:46});var A=this;$("<a id='"+this.id+"_uc' class='margin_r_10 font_size12 hand'>"+this.title+"</a>").click(function(){if(window.opener){window.opener.focus()}}).appendTo(this.head);$("<span id='"+this.id+"_min' class='ico16 minimize_16  margin_r_5'></span>").click(function(){A.minChat()}).appendTo(this.head);$("<span id='"+this.id+"_close' class='ico16 gray_close_16  margin_r_5'></span>").click(function(){A.minChat()}).appendTo(this.head);$("<a  id='"+this.id+"_face' class='img-button  left' href='javascript:void(0)' style='padding-left:0;margin-top:2px;'><em class='ico16 face_16  margin_r_5'></em>\u8868\u60c5</a>").click(function(){new MxtFace({clickFn:function(){A.checkNumber()},fixObj:A.id+"_face",target:A.id+"_dialogtextarea",top:200,left:200,isUp:true})}).appendTo(this.dialogbar);$("<a class='img-button  left' href='javascript:void(0)' style='padding-left:0;margin-top:2px;'><em class='ico16 affix_16 margin_r_5'></em>\u6587\u4ef6</a>").click(function(){}).appendTo(this.dialogbar);$("<span class='ico16 signature_16 left' style='margin-top:5px;'></span>").click(function(){}).appendTo(this.dialogbar);$("<a class='img-button  right' href='javascript:void(0)' style='padding-right:0;margin-top:2px;'><em class='ico16 no_through_ico_16 margin_r_5'></em>\u6d88\u606f\u8bb0\u5f55</a>").click(function(){A.showHistory()}).appendTo(this.dialogbar);$("<span class='left font_size12 margin_t_5 font_size12' style='color:#888888'>"+this.numberText1+"<span id='"+this.id+"_number'>"+this.defaultLength+"</span>"+this.numberText2+"</span>").appendTo(this.dialogbottom);$("<a id='"+this.id+"_send' class='common_button common_button_gray margin_t_10 right' style='cursor:pointer;'>"+this.sendTitle+"</a>").click(function(){A.sendMessage()}).appendTo(this.dialogbottom);$("<a id='"+this.id+"_close' class='common_button common_button_gray margin_t_10 margin_r_10 right' style='cursor:pointer;'>"+this.closeTitle+"</a>").click(function(){A.minChat()}).appendTo(this.dialogbottom);$("<span class='ico16 gray_close_16 right margin_r_10'></span>").click(function(){A.showHistory()}).appendTo(this.righthead);$("<span class='font_size12'><span class='ico16 month_16 margin_l_10 margin_r_5'></span>\u67e5\u627e</span>").appendTo(this.righthead);this.dialogtextarea.keyup(function(){A.checkNumber()})};Mxtchat.prototype.checkNumber=function(){var B=this.dialogtextarea.text();var C=$(".imgLength img").length;var D=this.defaultLength-B.length-C;if(D<0){D=0;var A=B.substr(0,this.defaultLength);this.dialogtextarea.text(A)}$("#"+this.id+"_number").html(D)};Mxtchat.prototype.minChat=function(){this.container.hide()};Mxtchat.prototype.maxChat=function(){this.container.show()};Mxtchat.prototype.setUcCenter=function(){$("#"+this.id+"_uc").hide()};Mxtchat.prototype.addSingleTab=function(B){if(B){var A=this;this.dialogcontentbody.append("<div id='"+B.id+"_body' class='hidden dialogcontentbody_content'></div>");this.dialogcontentheadul.append("<li id='"+B.id+"' class='display_block left'><a hidefocus='true' href='javascript:void(0)' class='last_tab' style='border-top:0px;border-left:0px;border-bottom:0px;width:57px;'><span class='ico16 correlation_form_16'></span>"+B.name+"</a><span class='pageChatTabsClose_box'><span class='pageChatTabsClose'><span class='ico16 for_close_16'></span></span></span></li>");(function(C){$("#"+C.id).click(function(){A.resetChatContent(C)});$("#"+C.id+" .pageChatTabsClose").unbind().click(function(){A.removeChatTab(C.id)})})(B)}};Mxtchat.prototype.addChatTab=function(){if(this.tabItems!=undefined&&this.tabItems.length>0){this.moreArray=[];var A=this;this.firstTab=null;for(var B=0;B<this.tabItems.length;B++){var D=this.tabItems[B];if(B==0){this.firstTab=D.id}if(B==2){this.lastTabId=D.id}this.dialogcontentbody.append("<div id='"+D.id+"_body' class='hidden dialogcontentbody_content'></div>");if(B<3){this.dialogcontentheadul.append("<li id='"+D.id+"' class='display_block left'><a hidefocus='true' href='javascript:void(0)' class='last_tab' style='border-top:0px;border-left:0px;border-bottom:0px;width:57px;'><span class='ico16 correlation_form_16'></span>"+D.name+"</a><span class='pageChatTabsClose_box'><span class='pageChatTabsClose'><span class='ico16 for_close_16'></span></span></span></li>");(function(E){$("#"+E.id).click(function(){A.resetChatContent(E)});$("#"+E.id+" .pageChatTabsClose").unbind().click(function(){A.removeChatTab(E.id)})})(D)}else{this.moreArray.push(D)}}$("#"+this.id+"_dialogcontenthead li").mouseenter(function(){$(this).find(".pageChatTabsClose").show()}).mouseleave(function(){$(this).find(".pageChatTabsClose").hide()});$("#"+this.id+"_dialogcontenthead li .pageChatTabsClose .ico16").mouseenter(function(){$(this).removeClass("for_close_16 hover_close_16").addClass("hover_close_16")}).mouseleave(function(){$(this).removeClass("for_close_16 hover_close_16").addClass("for_close_16")});$(".dialogcontentbody_content").css({width:this.width-52,height:338,padding:"5px"});if(this.moreArray.length>0){this.dialogcontentheadul.append("<li id='"+this.id+"_more'><a hidefocus='true' id='"+this.id+"_morea' href='javascript:void(0)' class='last_tab' style='border:0px;border-right:solid 1px #b6b6b6; width:21px;padding:0;text-align:center;vertical-align:middle;'><span class='ico16 arrow_1_b'></span></a></li>");this.tabMore=$("#"+this.id+"_morea");this.tabMore.menuSimple({id:this.id+"_moreItems",offsetLeft:-143,offsetTop:-5,data:this.moreArray});for(var C=0;C<this.moreArray.length;C++){var D=this.moreArray[C];(function(E){$("#"+E.id).click(function(){A.resetChatTab(E)})})(D)}}this.dialogcontentheadul.append("<a class='right' style='border:0;'>>>\u8fdb\u5165UC\u4e2d\u5fc3</a>")}};Mxtchat.prototype.removeChatTab=function(B){for(var C=0;C<this.tabItems.length;C++){if(this.tabItems[C].id==B){this.tabItems.splice(C,1);break}}this.dialogcontentheadul.empty();this.tabMore.empty();if(this.tabItems!=undefined&&this.tabItems.length>0){this.moreArray=[];var A=this;this.firstTab=null;for(var C=0;C<this.tabItems.length;C++){var E=this.tabItems[C];if(C==0){this.firstTab=E.id}if(C==5){this.lastTabId=E.id}this.dialogcontentbody.append("<div id='"+E.id+"_body' class='hidden dialogcontentbody_content'></div>");if(C<6){this.dialogcontentheadul.append("<li id='"+E.id+"' class='display_block left'><a hidefocus='true' href='javascript:void(0)' class='last_tab' style='border-top:0px;border-left:0px;border-bottom:0px;width:57px;'><span class='ico16 correlation_form_16'></span>"+E.name+"</a><span class='pageChatTabsClose_box'><span class='pageChatTabsClose'><span class='ico16 for_close_16'></span></span></span></li>");(function(G){$("#"+G.id).click(function(){A.resetChatContent(G)});$("#"+G.id+" .pageChatTabsClose").click(function(){A.removeChatTab(G.id)})})(E)}else{this.moreArray.push(E)}}$("#"+this.id+"_dialogcontenthead li").mouseenter(function(){$(this).find(".pageChatTabsClose").show()}).mouseleave(function(){$(this).find(".pageChatTabsClose").hide()});$("#"+this.id+"_dialogcontenthead li .pageChatTabsClose .ico16").mouseenter(function(){$(this).removeClass("for_close_16 hover_close_16").addClass("hover_close_16")}).mouseleave(function(){$(this).removeClass("for_close_16 hover_close_16").addClass("for_close_16")});$(".dialogcontentbody_content").css({width:this.width-52,height:338,padding:"5px"});if(this.moreArray.length>0){this.dialogcontentheadul.append("<li id='"+this.id+"_more'><a hidefocus='true' id='"+this.id+"_morea' href='javascript:void(0)' class='last_tab' style='border:0px;width:21px;padding:0;text-align:center;vertical-align:middle;'><span class='ico16 arrow_1_b'></span></a></li>");this.tabMore=$("#"+this.id+"_morea");this.tabMore.menuSimple({id:this.id+"_moreItems",offsetLeft:-143,offsetTop:-5,data:this.moreArray});for(var D=0;D<this.moreArray.length;D++){var E=this.moreArray[D];(function(G){$("#"+G.id).click(function(){A.resetChatTab(G)})})(E)}}}var F=this.dialogcontentheadul.find("li");if(F.size()>0){this.dialogcontentheadul.find("li").eq(0).trigger("click")}else{this.minChat()}};Mxtchat.prototype.resetChatTab=function(K){var L=this;var G=K.id;this.currentTabId=G;var H=K.name;var E=K.content;var J=K.isGroup;this.isGroup=J;var I=[];for(var B=0;B<this.moreArray.length;B++){var F=this.moreArray[B];if(F.id!=G){I.push(F)}}var A=this.getTab(this.lastTabId);I.push(A);$("#"+this.lastTabId).remove();$("#"+this.id+"_more").before("<li id='"+G+"'><a hidefocus='true' href='javascript:void(0)' class='last_tab' style='border-top:0px;border-left:0px;border-bottom:0px;width:57px;'><span class='ico16 communication_16 margin_r_5'></span>"+H+"</a><span class='pageChatTabsClose_box'><span class='pageChatTabsClose'><span class='ico16 for_close_16'></span></span></span></li>");$("#"+G+" .pageChatTabsClose").unbind().click(function(){L.removeChatTab(G)});this.moreArray=I;this.tabMore.menuSimple({id:this.id+"_moreItems",offsetLeft:-143,offsetTop:-5,data:this.moreArray});for(var D=0;D<this.moreArray.length;D++){var C=this.moreArray[D];$("#"+C.id).unbind();(function(M){$("#"+M.id).click(function(){L.resetChatTab(M)})})(C)}this.lastTabId=G;$("#"+G).click(function(){L.resetChatContent(K)});$("#"+this.id+"_dialogcontenthead li").mouseenter(function(){$(this).find(".pageChatTabsClose").show()}).mouseleave(function(){$(this).find(".pageChatTabsClose").hide()});$("#"+this.id+"_dialogcontenthead li .pageChatTabsClose .ico16").mouseenter(function(){$(this).removeClass("for_close_16 hover_close_16").addClass("hover_close_16")}).mouseleave(function(){$(this).removeClass("for_close_16 hover_close_16").addClass("for_close_16")})};Mxtchat.prototype.resetChatContent=function(I){this.hideHistory();$(".dialogcontentbody_content").hide();var F=I.id;this.currentTabId=F;var G=I.name;var D=I.content;var H=I.isGroup;this.isGroup=H;$("#"+F).siblings().removeClass("current");$("#"+F).addClass("current");var A="";for(var C=0;C<D.length;C++){var E=D[C];var B=E.isMy;var J="left";if(B){J="right"}A+="<ul class='pageChatArea2 margin_t_10' id='"+F+"_ul'>";A+=" <li class='pageChatAreaMy'>";A+="<img class='pageChatAreaMy_img' width='42' height='42' src='http://img.baidu.com/img/image/liulanimage/w_quweigaoxiao.jpg?0225'' />";A+="<span class='pageChatAreaArrowRight'></span>";A+="<div class='pageChatAreaMy_content'>";A+="<span class='ico16 cancel_track_16 pageChatAreaListClose'></span>";A+="<p>";A+="<span class='color_gray2'>"+E.name+"</span><span class='margin_l_10 color_gray2'>\u4eca\u5929 09-05 10:12</span><br />";A+="</p>";A+="<p>"+E.context+"</p>";A+="</div>";A+="</li>";A+="<li class='pageChatAreaOther'>";A+="<img class='pageChatAreaOther_img' width='42' height='42' src='http://img.baidu.com/img/image/liulanimage/w_quweigaoxiao.jpg?0225'' />";A+="<span class='pageChatAreaArrowLeft'></span>";A+="<div class='pageChatAreaOther_content'>";A+="<span class='ico16 cancel_track_16 pageChatAreaListClose'></span>";A+="<p>";A+="<span class='color_blue'><a href='javascript:void(0)'>"+E.name+"</a></span><span class='margin_l_10 color_gray2'>\u4eca\u5929 09-05 10:12</span><br />";A+="</p>";A+="<p>"+E.context+"</p>";A+="</div>";A+="</li>";A+="<li class='pageChatAreaOther'>";A+="<img class='pageChatAreaOther_img' width='42' height='42' src='http://img.baidu.com/img/image/liulanimage/w_quweigaoxiao.jpg?0225' />";A+="<span class='pageChatAreaArrowLeft'></span>";A+="<div class='pageChatAreaOther_content speech_w_1'>";A+="<p class='speech_height'>";A+="<span class='left'><span class='color_blue'><a href='javascript:void(0)'>\u4e54\u7acb\uff1a</a></span><span class='ico16 speech_read_16'></span></span>";A+="<span class='right font_size12 color_gray2'>09-05&nbsp;10:12</span>";A+="</p>";A+="</div>";A+="<span class='speech_time_box'><span class='speech_time_1 color_gray2'>5\"</span></span>";A+="<span class='speech_time_box'></span>";A+="</li>";A+="<li class='pageChatAreaOther'>";A+="<img class='pageChatAreaOther_img' width='42' height='42' src='http://img.baidu.com/img/image/liulanimage/w_quweigaoxiao.jpg?0225' />";A+="<span class='pageChatAreaArrowLeft'></span>";A+="<div class='pageChatAreaOther_content speech_w_2'>";A+="<p class='speech_height'>";A+="<span class='left'><span class='color_blue'><a href='javascript:void(0)'>\u4e54\u7acb\uff1a</a></span><span class='ico16 speech_read_16'></span></span>";A+="<span class='right font_size12 color_gray2 '>09-05&nbsp;10:12</span>";A+="</p>";A+="</div>";A+="<span class='speech_time_box'><span class='speech_time_2 color_gray2'>10\"</span></span>";A+="</li>";A+="<li class='pageChatAreaOther'>";A+="<img class='pageChatAreaOther_img' width='42' height='42' src='http://img.baidu.com/img/image/liulanimage/w_quweigaoxiao.jpg?0225' />";A+="<span class='pageChatAreaArrowLeft'></span>";A+="<div class='pageChatAreaOther_content speech_w_3'>";A+="<p class='speech_height'>";A+="<span class='left'><span class='color_blue'><a href='javascript:void(0)'>\u4e54\u7acb\uff1a</a></span><span class='ico16 speech_read_16'></span></span>";A+="<span class='right font_size12 color_gray2 '>09-05&nbsp;10:12</span>";A+="</p>";A+="</div>";A+="<span class='speech_time_box'><span class='speech_time_3 color_gray2'>20\"</span></span>";A+="</li>";A+="<li class='pageChatAreaOther'>";A+="<img class='pageChatAreaOther_img' width='42' height='42' src='http://img.baidu.com/img/image/liulanimage/w_quweigaoxiao.jpg?0225' />";A+="<span class='pageChatAreaArrowLeft'></span>";A+="<div class='pageChatAreaOther_content speech_w_4'>";A+="<p class='speech_height'>";A+="<span class='left'><span class='color_blue'><a href='javascript:void(0)'>\u4e54\u7acb\uff1a</a></span><span class='ico16 speech_read_16'></span></span>";A+="<span class='right font_size12 color_gray2 '>09-05&nbsp;10:12</span>";A+="</p>";A+="</div>";A+="<span class='speech_time_box'><span class='speech_time_4 color_gray2'>60\"</span></span>";A+="</li>";A+="<li class='pageChatAreaMy'>";A+="<img class='pageChatAreaMy_img' width='42' height='42' src='http://img.baidu.com/img/image/liulanimage/w_quweigaoxiao.jpg?0225' />";A+="<span class='pageChatAreaArrowRight'></span>";A+="<span class='speech_time_1 color_gray2'>5\"</span>";A+="<div class='pageChatAreaMy_content speech_w_1'>";A+="<p class='speech_height clearFlow'>";A+="<span class='left font_size12 color_gray2'>09-05&nbsp;10:12</span>";A+="<span class='right'><span class='ico16 speech_gif2_16'></span><span class='color_blue margin_l_5'>\u6211</span></span>";A+="</p>";A+="</div>";A+="</li>";A+="</li>";A+="<li class='pageChatAreaMy'>";A+="<img class='pageChatAreaMy_img' width='42' height='42' src='http://img.baidu.com/img/image/liulanimage/w_quweigaoxiao.jpg?0225' />";A+="<span class='pageChatAreaArrowRight'></span>";A+="<span class='speech_time_2 color_gray2'>10\"</span>";A+="<div class='pageChatAreaMy_content speech_w_2'>";A+="<p class='speech_height clearFlow'>";A+="<span class='left font_size12 color_gray2'>09-05&nbsp;10:12</span>";A+="<span class='right'><span class='ico16 speech_gif2_16'></span><span class='color_blue margin_l_5'>\u6211</span></span>";A+="</p>";A+="</div>";A+="</li>";A+="</li>";A+="<li class='pageChatAreaMy'>";A+="<img class='pageChatAreaMy_img' width='42' height='42' src='http://img.baidu.com/img/image/liulanimage/w_quweigaoxiao.jpg?0225' />";A+="<span class='pageChatAreaArrowRight'></span>";A+="<span class='speech_time_3 color_gray2'>20\"</span>";A+="<div class='pageChatAreaMy_content speech_w_3'>";A+="<p class='speech_height clearFlow'>";A+="<span class='left font_size12 color_gray2'>09-05&nbsp;10:12</span>";A+="<span class='right'><span class='ico16 speech_gif2_16'></span><span class='color_blue margin_l_5'>\u6211</span></span>";A+="</p>";A+="</div>";A+="</li>";A+="</li>";A+="<li class='pageChatAreaMy'>";A+="<img class='pageChatAreaMy_img' width='42' height='42' src='http://img.baidu.com/img/image/liulanimage/w_quweigaoxiao.jpg?0225' />";A+="<span class='pageChatAreaArrowRight'></span>";A+="<span class='speech_time_4 color_gray2'>60\"</span>";A+="<div class='pageChatAreaMy_content speech_w_4'>";A+="<p class='speech_height clearFlow'>";A+="<span class='left font_size12 color_gray2'>09-05&nbsp;10:12</span>";A+="<span class='right'><span class='ico16 speech_gif2_16'></span><span class='color_blue margin_l_5'>\u6211</span></span>";A+="</p>";A+="</div>";A+="</li>";A+="</ul>"}$("#"+this.id+"_dialogcontenthead li[class!='"+this.id+"_more']").mouseenter(function(){$(this).find(".pageChatTabsClose").show()}).mouseleave(function(){$(this).find(".pageChatTabsClose").hide()});$("#"+F+"_body").html(A).show()};Mxtchat.prototype.getTab=function(C){for(var A=0;A<this.tabItems.length;A++){var B=this.tabItems[A];if(this.tabItems[A].id==C){return B}}};Mxtchat.prototype.setCurrentTab=function(A){$("#"+A).click()};Mxtchat.prototype.showHistory=function(){if(!this.isShowHistory){this.isShowHistory=true;this.width=814;this.container.css({width:this.width});this.content.css({width:this.width});this.iframe.css({width:this.width});this.head.css({width:this.width});this.setGroup();this.addHistory();this.right.removeClass("hidden")}else{this.hideHistory()}};Mxtchat.prototype.setGroup=function(){if(this.isGroup){$("#"+this.id+"_historytaba").css({width:117,"max-width":117});$("#"+this.id+"_grouptab").css({display:""});this.addPeople();this.grouptaba.click()}else{$("#"+this.id+"_historytaba").css({width:256,"max-width":256});$("#"+this.id+"_grouptab").css({display:"none"});this.historytaba.click()}};Mxtchat.prototype.hideHistory=function(){this.isShowHistory=false;this.width=514;this.container.css({width:this.width});this.content.css({width:this.width});this.iframe.css({width:this.width});this.head.css({width:this.width});this.right.addClass("hidden")};Mxtchat.prototype.setMessage=function(){};Mxtchat.prototype.getMessage=function(){};Mxtchat.prototype.addHistory=function(){var B=[{id:"p1",name:"\u80e1\u4e3d",dateTime:"15:00",attachments:[{id:"att1",name:"attName.png"},{id:"att2",name:"attName.png"},{id:"att3",name:"attName.png"}],content:"\u9971\u55dd\uff0c\u6253\u4e86\u4e00\u4e2a\u9971\u55dd!"},{id:"p2",name:"\u80e1\u4e3d",dateTime:"15:00",attachments:[{id:"att21",name:"attName.png"},{id:"att22",name:"attName.png"},{id:"att23",name:"attName.png"}],content:"\u9971\u55dd\uff0c\u6253\u4e86\u4e00\u4e2a\u9971\u55dd!"},{id:"p3",name:"\u80e1\u4e3d",dateTime:"15:00",attachments:[{id:"att21",name:"attName.png"},{id:"att22",name:"attName.png"},{id:"att23",name:"attName.png"}],content:"\u9971\u55dd\uff0c\u6253\u4e86\u4e00\u4e2a\u9971\u55dd!"},{id:"p4",name:"\u80e1\u4e3d",dateTime:"15:00",attachments:[{id:"att21",name:"attName.png"},{id:"att22",name:"attName.png"},{id:"att23",name:"attName.png"}],content:"\u9971\u55dd\uff0c\u6253\u4e86\u4e00\u4e2a\u9971\u55dd!"},{id:"p5",name:"\u80e1\u4e3d",dateTime:"15:00",attachments:[{id:"att21",name:"attName.png"},{id:"att22",name:"attName.png"},{id:"att23",name:"attName.png"}],content:"\u9971\u55dd\uff0c\u6253\u4e86\u4e00\u4e2a\u9971\u55dd!"},{id:"p6",name:"\u80e1\u4e3d",dateTime:"15:00",attachments:[{id:"att21",name:"attName.png"},{id:"att22",name:"attName.png"},{id:"att23",name:"attName.png"}],content:"\u9971\u55dd\uff0c\u6253\u4e86\u4e00\u4e2a\u9971\u55dd!"}];this.historytabbodytop.empty();for(var D=0;D<B.length;D++){var F=B[D];var C="";var A="";C+="<div class='border_b padding_b_5 padding_t_5 font_size12 clearfix'>";C+="<ul>";C+="<li class='left padding_0'>";C+="</li>";C+="<li class='padding_0'>";C+="<div><span class='color_gray2 margin_l_5'>"+F.name+"</span><span class='color_gray2 margin_r_5 margin_l_5'>"+F.dateTime+"</span>";for(var E=0;E<F.attachments.length;E++){C+="<span class='display_inline-block color_gray2 margin_l_5'><span class='ico16 affix_16'></span>"+F.attachments[E].name+"</span>"}C+="</div>";C+="<div class='margin_t_10 margin_l_10'><span class=''>"+F.content+"</span></div>";C+="</li>";C+="</ul>";C+="</div>";C+="<div class='border_b padding_b_5 padding_t_5 font_size12 clearfix'>";C+="<ul>";C+="<li class='left padding_0'>";C+="</li>";C+="<li class='padding_0'>";C+="<span class='color_gray2 margin_l_5'>"+F.name+"</span><span class='color_gray2 margin_r_5 margin_l_5'>"+F.dateTime+"</span>";C+="<div class='im_talk6'><span class='ico16 speech_read_16 left'></span><span class='color_gray2 right'>60\"</span></div>";C+="</li>";C+="</ul>";C+="</div>";this.historytabbodytop.append(C)}A+="<div class='common_over_page right margin_r_10 padding_t_10 padding_r_5'>";A+="<a href='#' class='common_over_page_btn' title='\u4e0a\u4e00\u9875'><em class='pagePrev'></em></a>";A+="<a href='#' class='margin_l_5' title=''>1</a>";A+="<a href='#' class='margin_l_5' title=''>2</a>";A+="</div>";this.historytabbodybottom.append(A)};Mxtchat.prototype.addPeople=function(){var A=[{id:"p1",name:"\u80e1\u4e3d(\u7528\u6237\u4f53\u9a8c\u90e8)"},{id:"p2",name:"\u80e1\u4e3d(\u7528\u6237\u4f53\u9a8c\u90e8)"},{id:"p3",name:"\u80e1\u4e3d(\u7528\u6237\u4f53\u9a8c\u90e8)"},{id:"p4",name:"\u80e1\u4e3d(\u7528\u6237\u4f53\u9a8c\u90e8)"},{id:"p5",name:"\u80e1\u4e3d(\u7528\u6237\u4f53\u9a8c\u90e8)"},{id:"p6",name:"\u80e1\u4e3d(\u7528\u6237\u4f53\u9a8c\u90e8)"},{id:"p7",name:"\u80e1\u4e3d(\u7528\u6237\u4f53\u9a8c\u90e8)"},{id:"p8",name:"\u80e1\u4e3d(\u7528\u6237\u4f53\u9a8c\u90e8)"},{id:"p9",name:"\u80e1\u4e3d(\u7528\u6237\u4f53\u9a8c\u90e8)"},{id:"p10",name:"\u80e1\u4e3d(\u7528\u6237\u4f53\u9a8c\u90e8)"}];this.grouptabbody.empty();for(var B=0;B<A.length;B++){var C=A[B];this.grouptabbody.append("<div class='border_b padding_b_5 padding_t_5 font_size12'><span class='ico32 pdf_32 margin_r_10 margin_l_10'></span> "+C.name+"</div>")}};Mxtchat.prototype.sendMessage=function(){var B="";var A=this.dialogtextarea.html();if(A!=""){B+="<li class='pageChatAreaMy' id='show_msg'>";B+="<img class='pageChatAreaMy_img' width='42' height='42' src='http://img.baidu.com/img/image/liulanimage/w_quweigaoxiao.jpg?0225'' />";B+="<span class='pageChatAreaArrowRight'></span>";B+="<div class='pageChatAreaMy_content'>";B+="<span class='ico16 cancel_track_16 pageChatAreaListClose'></span>";B+="<p>";B+="<span class='color_blue'><a href='javascript:void(0)'>"+this.owner+":</a></span>"+A+"<br />";B+="</p>";B+="<p class='font_size12 color_gray2'>09-05&nbsp;10:12</p>";B+="</div>";B+="</li>";$("#"+this.currentTabId+"_ul").append(B)}this.dialogtextarea.empty().focus()};Mxtchat.prototype.addHistoryTab=function(){this.rightbodyheadul.append("<li id='"+this.id+"_grouptab' style='display:none'><a hidefocus='true' id='"+this.id+"_grouptaba' href='javascript:void(0)' class='last_tab' style='border-top:0px;border-left:0px;border-bottom:0px;width:118px;max-width:118px;text-align:center'>"+this.groupTitle+"</a></li>");this.rightbodyheadul.append("<li id='"+this.id+"_historytab'><a hidefocus='true' id='"+this.id+"_historytaba' href='javascript:void(0)' class='' style='border-top:0px;border-left:0px;border-bottom:0px;width:117px;max-width:117px;text-align:center'>"+this.historyTitle+"</a></li>");this.grouptaba=$("#"+this.id+"_grouptaba");this.historytaba=$("#"+this.id+"_historytaba");var A=this;this.grouptaba.click(function(){A.grouptabbody.show();A.historytabbody.hide();$("#"+A.id+"_grouptab").removeClass("current");$("#"+A.id+"_historytab").removeClass("current");$("#"+A.id+"_grouptab").addClass("current")});this.historytaba.click(function(){A.grouptabbody.hide();A.historytabbody.show();$("#"+A.id+"_grouptab").removeClass("current");$("#"+A.id+"_historytab").removeClass("current");$("#"+A.id+"_historytab").addClass("current")})};Mxtchat.prototype.createAttach=function(){var B="";B+="<div id='"+this.id+"_onlineHeight' style='position:fixed;right:"+this.fixRight+"px;bottom:"+this.fixBottom+"px;'>";B+="<a id='"+this.id+"_online' href='javascript:void(0)' class='common_button common_button_icon'>";B+="<em class='ico16 online_news_16'></em>"+this.online_msg+"";B+="</a>";B+="</div>";$("body").prepend(B);var A=this;$("#"+this.id+"_online").click(function(){A.maxChat()})};
!function(B){var A=function(D,C){this.$element=B(D);this.options=B.extend({},B.fn.button.defaults,C)};A.prototype={toggle:function(){var C=this.$element.parent('[data-toggle="buttons-radio"]');C&&C.find(".active").removeClass("active");this.$element.toggleClass("active")}};B.fn.button=function(C){return this.each(function(){var F=B(this),E=F.data("button"),D=typeof C=="object"&&C;if(!E){F.data("button",(E=new A(this,D)))}if(C=="toggle"){E.toggle()}else{if(C){E.setState(C)}}})};B(function(){B("body").on("click.button","[data-toggle^=button]",function(D){var C=B(D.target);if(!C.hasClass("btn")){C=C.closest(".viewswitcher_btn")}C.button("toggle")})})}(window.jQuery);
var CKEDITOR_BASEPATH=_ctxPath+"/common/ckeditor/";function FCKeditor_OnComplete(A){$("#"+A.Name).attr("editorReadyState","complete");$("#"+A.Name).trigger("editorReady")}(function(D){var J=D.browser.msie&&(parseInt(D.browser.version,10)<7);D.messageBox=function(S){return new MxtMsgBox(S)};D.alert=function(T){var S=null;if(typeof (T)=="object"){S=T}S=S==null?{}:S;S.title=S.title?S.title:D.i18n("system.prompt.js");S.type=S.type?S.type:0;S.imgType=S.imgType?S.imgType:2;S.close_fn=S.close_fn?S.close_fn:null;if(typeof (T)!="object"){S.msg=T}return new MxtMsgBox(S)};D.infor=function(T){var S=null;if(typeof (T)=="object"){S=T}var S=S==undefined?{}:S;S.title=D.i18n("system.prompt.js");S.type=0;if(typeof (T)!="object"){S.msg=T}S.imgType=S.imgType?S.imgType:0;S.close_fn=S.close_fn?S.close_fn:null;return new MxtMsgBox(S)};D.confirm=function(S){var S=S==undefined?{}:S;S.title=S.title?S.title:D.i18n("system.prompt.js");S.type=1;S.imgType=S.imgType?S.imgType:4;S.close_fn=S.close_fn?S.close_fn:null;return new MxtMsgBox(S)};D.error=function(T){var S=null;if(typeof (T)=="object"){S=T}var S=S==undefined?{}:S;S.title=S.title?S.title:D.i18n("system.prompt.js");S.type=S.type?S.type:0;S.imgType=S.imgType?S.imgType:1;S.close_fn=S.close_fn?S.close_fn:null;if(typeof (T)!="object"){S.msg=T}return new MxtMsgBox(S)};D.progressBar=function(S){if(S==undefined){S={}}return new MxtProgressBar(S)};D.dialog=function(S){return new MxtDialog(S)};D.PeopleCard=function(S){insertScriptP();return PeopleCard(S)};D.PeopleCardMini=function(T){var S=insertScript(T);return new PeopleCardMini_flash(S)};D.fn.PeopleCardMini=function(T){var S=insertScript(T);return new PeopleCardMini(S,this)};D.metadata=function(T){function S(V){this.data=V;function U(Y,X,W){var b=V[Y];var a=b.columns;if(a!=null){for(var Z=0;Z<a.length;Z++){if(a[Z][W]==X){return a[Z]}}}return null}this.getColumn=function(X,W){return U(X,W,"name")};this.getColumnByAlias=function(X,W){return U(X,W,"alias")};this.getColumns=function(W){var X=V[W];return X.columns}}return new S(T)};D.renderMetadata=function(){};D.metadataForm=function(S,a,c){var V=serverMetadata;var X=[];function d(g){var f=g.component;if(f=="codecfg"){return b(g)}var h="";var e="";var i=g.rule;if(f!=null){i=i==null?"":","+i;h=' class="comp" comp="type:\''+f+"'"+i+'"'}else{if(i!=null){e=' class="validate" validate="'+i+'"'}}return'<input type="text" '+Y(g.name)+h+e+"/>"}function Y(f){var g='name="'+f+'"';var e=' id="'+f+'"';return e+g}function b(e){var f="";var g=e.rule;g=g==null?"":g;f=' class="codecfg" codecfg="'+g+'"';return"<select "+Y(e.name)+f+'><option value="">'+D.i18n("pleaseSelect")+"...</option></select>"}var U=c?c.columns:null;var W=c?c.position:"in";var Z=D.metadata(V);var T=[];if(U){D.each(U,function(f,e){var g=Z.getColumnByAlias(a,e);if(g){T.push(g)}else{g=Z.getColumn(a,e);if(g){T.push(g)}}})}else{T=Z.getColumns(a)}D.each(T,function(g,h){var f=h.label;var e=d(h);X.push('<tr><th nowrap="nowrap"><label class="margin_r_10" for="'+h.name+'">'+f+':</label></th><td><div class="common_txtbox_wrap">'+e+"</div></td></tr>")});if(W=="after"){D(S).after(X.join(""))}else{if(W=="before"){D(S).before(X.join(""))}else{D(S).html(X.join(""))}}};function G(S,d){var T=d.code;var b=d.type;var c=d.suffix;function W(e){var f=getA8Top();if(f){f.showLocation(e)}else{S.addClass("common_crumbs");S.html(e)}}if(d.html){W(Z)}function U(h,e,j){for(var f=0;f<h.length;f++){var k=h[f];k.parentMenu=e;var g=k.resourceCode;if(g!=null){j[g]=k}if(k.items){U(k.items,k,j)}}}function V(i){var h=getCtpTop?getCtpTop():parent;if(h){var f=D(h.memberMenus);if(f){var k="resourceMenuCache";var g=h.$.data(h.document.body,k);if(g==undefined){g=new Array();U(f,null,g);h.$.data(h.document.body,k,g)}var e=[];var j=g[i];if(j!=undefined){while(j!=null){e.push(j);j=j.parentMenu}}return e.reverse()}}return[]}var X=V(T);if(X.length>0){var Z='<span class="margin_r_10">'+D.i18n("seeyon.top.nowLocation.label")+"</span>";var a=[];for(var Y=0;Y<X.length;Y++){if(X[Y].url){a.push('<a href="###" onclick="showMenu(\''+_ctxPath+X[Y].url+"')\">"+escapeStringToHTML(X[Y].name,false)+"</a>")}else{a.push('<a style="color:#888;" class="color_gray2_nohover">'+escapeStringToHTML(X[Y].name,false)+"</a>")}}Z+=a.join('<span class="common_crumbs_next margin_lr_5">-</span>');if(c){Z+='<span class="common_crumbs_next margin_lr_5">-</span>'+c}W(Z)}}D.fn.tooltip=function(S){return E(S,1,D(this))};D.tooltip=function(S){return E(S,0)};function E(S,W,U){var S=S;var V;if(W==1){var T=U.attr("id").replace("#","");D.extend(S,{event:true,targetId:T});V=new MxtToolTip(S);U.mouseenter(function(){V.setPoint(null,null);V.show()}).mouseleave(function(){V.hide()})}else{V=new MxtToolTip(S)}return V}var A=1;D.fn.layout=function(){var e=D(this),a=e.attrObj("_layout");if(a){return a}var W=A,S=e[0].id,V=D("#"+S+" > .layout_north"),b=D("#"+S+" > .layout_east"),T=D("#"+S+" > .layout_west"),U=D("#"+S+" > .layout_south"),Z=D("#"+S+" > .layout_center"),Y={id:S},c,X,d;V.each(function(){this.id=this.id?this.id:("north"+W);c={id:this.id};d=D(this).attr("layout");X=d?D.parseJSON("{"+d+"}"):{};c=D.extend(c,X);Y.northArea=c});b.each(function(){this.id=this.id?this.id:("east"+W);c={id:this.id};d=D(this).attr("layout");X=d?D.parseJSON("{"+d+"}"):{};c=D.extend(c,X);Y.eastArea=c});T.each(function(){this.id=this.id?this.id:("west"+W);c={id:this.id};d=D(this).attr("layout");X=d?D.parseJSON("{"+d+"}"):{};c=D.extend(c,X);Y.westArea=c});U.each(function(){this.id=this.id?this.id:("south"+W);c={id:this.id};d=D(this).attr("layout");X=d?D.parseJSON("{"+d+"}"):{};c=D.extend(c,X);Y.southArea=c});Z.each(function(){this.id=this.id?this.id:("center"+W);c={id:this.id};d=D(this).attr("layout");X=d?D.parseJSON("{"+d+"}"):{};c=D.extend(c,X);Y.centerArea=c});e.attrObj("_layout",new MxtLayout(Y));A++};D.fn.compThis=function(W){var Y=this;if(Y.attrObj("_comp")){Y=Y.attrObj("_comp")}var T=Y.attr("comp"),X,Z;if(T){X=D.parseJSON("{"+T+"}");if(W){X=D.extend(X,W);var U=D.toJSON(X);Y.attr("comp",U.substring(1,U.length-1))}Z=X.type;Y.attr("compType",Z);switch(Z){case"onlyNumber":Y.onlyNumber(X);break;case"calendar":Y.calendar(X);break;case"layout":Y.layout();break;case"tab":Y.tab(X);break;case"fileupload":M(Y,X);break;case"attachlist":L(Y);break;case"showattachlist":C(Y,X);break;case"assdoc":O(Y,X);break;case"selectPeople":X.srcElement=Y;Y.selectPeople(X);break;case"editor":Y.showEditor(X);break;case"tooltip":Y.tooltip(X);break;case"slider":var S=D("<div id='"+Y.attr("id")+"'></div>");Y.replaceWith(S);Y=S;Y.slider(X);break;case"workflowEdit":var V=D.ctx.CurrentUser;if(X.isTemplate){if(X.isView){Y.click(function(){showWFTDiagram(getCtpTop(),X.workflowId,window,V.name,V.loginAccountName)})}else{Y.click(function(){createWFTemplate(getCtpTop(),X.moduleType,X.formApp,X.formId,X.workflowId,window,X.defaultPolicyId,V.id,V.name,V.loginAccountName,X.flowPermAccountId,X.operationName,X.startOperationName,X.defaultPolicyName)})}}else{if(X.isView){Y.click(function(){showWFCDiagram(getCtpTop(),X.caseId,X.workflowId,false,false,null,null,"collaboration")})}else{Y.click(function(){createWFPersonal(getCtpTop(),X.moduleType,V.id,V.name,V.loginAccountName,X.workflowId,window,X.defaultPolicyId,V.loginAccount,X.defaultPolicyName)})}}break;case"correlation_form":P(Y,Z,X);break;case"affix":P(Y,Z,X);break;case"associated_document":P(Y,Z,X);break;case"insert_pic":P(Y,Z,X);break;case"correlation_project":P(Y,Z,X);break;case"data_task":P(Y,Z,X);break;case"search":P(Y,Z,X);break;case"breadcrumb":if(!X.code){X.code=_resourceCode}G(Y,X);break;case"autocomplete":if(Y.autocomplete){Y.autocomplete(X)}break;case"office":Y.showOffice(X);break;case"PeopleCardMini":Y.PeopleCardMini(X);break;case"htmlSignature":Y.htmlSignature(Y,X);break;case"chooseProject":Y.chooseProject(X);break}}};D.fn.comp=function(S){D(".comp",this).add(this).each(function(T){D(this).compThis(S)})};D.fn.chooseProject=function(X){var T=D(this);var U=T.width();var W=T.attr("id");T.attr("id",W+"_txt");T.attr("name",W+"_txt");var V=D("<input id='"+W+"' name='"+W+"' type='hidden'/>");if(typeof (X.text)!="undefined"){T.val(X.text)}if(typeof (X.value)!="undefined"){V.val(X.value)}T.before(V);var S=D("<span class='ico16 correlation_project_16'></span>");T.after(S);if(V.height()!=0){T.height(V.height())}U=U-S.outerWidth(true)-8;if(U>0){T.width(U)}else{setTimeout(function(){U=T.width()-S.outerWidth(true)-8;T.width(U)},300)}S.unbind("click").bind("click",function(){var a=T.prev().val();var b=X.resetCallback;var Z=X.okCallback;var Y=D.dialog({url:_ctxPath+"/project.do?method=getAllProjectList&isFormRel=true&selectId="+a,title:D.i18n("form.base.relationProject.title"),width:700,height:450,targetWindow:getCtpTop(),buttons:[{text:D.i18n("common.button.reset.label"),handler:function(){T.val("");T.prev().val("");if(b!=undefined){b(S)}Y.close()}},{text:D.i18n("common.button.ok.label"),handler:function(){var c=Y.getReturnValue();if(c.value==""){D.alert(D.i18n("form.base.relationProject.chooseItem"));return }else{T.val(c.name);T.prev().val(c.value);if(Z!=undefined){Z(S)}Y.close()}}},{text:D.i18n("common.button.cancel.label"),handler:function(){Y.close()}}]})})};D.fn.showEditor=function(V){var T=D(this);if(V.contentType=="html"){var U=_ctxPath;var W=D.extend({},{toolbarSet:"Basic",category:"1",maxSize:1048576},V);T.attr("editorReadyState","loading");D.ajaxSetup({cache:true});if(J){D.getScript(U+"/common/RTE/fckeditor.js",function(){var Z=U+"/common/RTE/";var Y=new FCKeditor(T[0].id);Y.BasePath=Z;Y.Config.DefaultLanguage=_locale.replace("_","-").toLowerCase();Y.ToolbarSet=W.toolbarSet;Y.Config.ImageUploadURL=U+"/fileUpload.do?method=processUpload&type=1&applicationCategory="+W.category+"&extensions=jpg,gif,jpeg,png&maxSize="+W.maxSize;Y.Config.FlashUploadURL=U+"/fileUpload.do?method=processUpload&type=1&applicationCategory="+W.category+"&extensions=swf,fla&maxSize="+W.maxSize;Y.Config.ImageUploadMaxFileSize="1M";Y.ReplaceTextarea()})}else{var X="/common/ckeditor";var S=parseInt(D.browser.version,10);if(S==11&&navigator.userAgent.match(/Trident\/7\./)){X=X+"43";CKEDITOR_BASEPATH=CKEDITOR_BASEPATH.replace("ckeditor","ckeditor43")}D.getScript(U+X+"/ckeditor.js",function(){CKEDITOR.basePath=U+X+"/";CKEDITOR.baseHref=CKEDITOR.basePath;if(CKEDITOR.instances[T[0].id]){CKEDITOR.instances[T[0].id].destroy()}CKEDITOR.replace(T[0].id,{height:"100%",startupFocus:true,toolbar:W.toolbarSet,on:{instanceReady:function(Z){T.attr("editorReadyState","complete");T.trigger("editorReady",Z);function Y(){var b=CKEDITOR.instances[T.attr("id")].ui.space("contents");if(b){var a=D(document).height()-D(b.$).offset().top-5;a=a<0?0:a;try{if(_fckEditorDecentHeight){a-=20}}catch(c){}b.setStyle("height",a+"px")}}Y();window.onresize=function(a){Y()};D(T[0]).parent().resize(function(){Y()});if(v3x&&v3x.isMSIE){Z.editor.on("dialogShow",function(b){var a=b.data._.element.$.getElementsByTagName("a");for(var d=0;d<a.length;d++){var c=a[d].getAttribute("href");if(c&&c.indexOf("void(0)")>-1){a[d].removeAttribute("href")}}})}}}})})}D.ajaxSetup({cache:false})}};D.fn.getEditorContent=function(U){var T=D(this);var S=T.attr("comp");if(S){var V=D.parseJSON("{"+S+"}");if(V.type=="editor"&&V.contentType=="html"){if(J){return FCKeditorAPI.GetInstance(this.attr("id")).GetHTML()}else{return CKEDITOR.instances[this.attr("id")].getData()}}}return null};function H(S,U){if(this.CKEDITOR){var T=CKEDITOR.instances[S];T.setData(U)}D("#"+S).bind("editorReady",function(){var V=CKEDITOR.instances[S];V.setData(U)})}D.fn.setEditorContent=function(V){var T=D(this);var S=T.attr("comp");if(S){var U=D.parseJSON("{"+S+"}");if(U.type=="editor"&&U.contentType=="html"){if(J){FCKeditorAPI.GetInstance(this.attr("id")).SetHTML(V)}else{H(this.attr("id"),V)}return null}}if(T.val){T.val(V)}return null};D.fn.selectPeople=function(U){var a=D(this),d=a.attr("id"),g=a.attr("_inited"),i=28;var e=d,Y,V,T,b,W,X=U.showBtn!=undefined?U.showBtn:false;if(g){Y=a.next();e=Y.attr("id");V=Y.next(),T=V.attrObj("tmpclone"),b=V.attr("_hide");V.remove();Y.remove()}else{a.attr("id",d+"_txt");a.attr("name",d+"_txt");a.attr("readonly","readonly");if(X&&!U.extendWidth&&a.width()!=0){a.width(a.width()-i)}a.attr("_inited",1)}if(U.text){a.val(U.text);a.attr("title",U.text)}Y=D('<input type="hidden" />');Y.attr("id",e);Y.attr("name",e);Y.attrObj("_comp",a);if(U.value){Y.val(U.value)}a.after(Y);if(X){var j=!(U.maxSize===1);var h={Account:"account",Department:"dept",Team:"team",Post:"post",Level:"level",Member:"people"};var c=h[U.selectType];c=c?c:"people";W=D("<span></span>");a.attrObj("_rel",W);W.attr("_isrel",1);W.attr("class","ico16 "+(j?"check":"radio")+"_"+c+"_16");W.addClass("_autoBtn");if(T){W.attrObj("tmpclone",T)}if(b==1){W.hide()}Y.after(W)}else{W=a;W.css("cursor","pointer")}if(U.extendWidth){if(!D.browser.msie||(D.browser.msie&&(parseInt(D.browser.version,10)>=9))){var f=Y.css("display");Y.css("display","block");if(Y.css("width").indexOf("%")!=-1){a.css("width",Y.css("width"))}else{if(Y.width()>0){a.width(Y.width())}}Y.css("display",f)}if(X){var Z=a.width()*2-a.outerWidth(true)-W.outerWidth(true)-1;if(Z>0){a.width(Z)}}}function S(m){a.val(m.text);a.attr("title",m.text);if(m.obj&&(U.returnValueNeedType===false)){a.data("obj",m.obj)}Y.val(m.value);var k=a.attr("comp");if(k){var n=D.parseJSON("{"+k+"}");n.value=m.value;n.text=m.text;var l=D.toJSON(n);a.attr("comp",l.substring(1,l.length-1))}}if(U.excludeElements){}U.id=a.attr("id");if(U.mode!="modal"){U.callbk=function(k){S(k);a.focus()}}if(!U.params){U.params={}}W.unbind("click").click(function(){U.params.value=Y.val();U.params.text=a.val();if(!U.elements){var l=a.data("obj");if(l){U.elements=l}}var k=D.selectPeople(U);if(k){S(k)}})};D.selectPeople=function(U){var Y={mode:"div"};function X(a){var b=[];for(var Z=0;Z<a.length;Z++){if(Object.prototype.toString.call(a[Z])=="[object Array]"){b.push(X(a[Z]))}else{b.push(a[Z])}}return b}U._window=window;U=D.extend(Y,U);var T=_ctxPath+"/selectpeople.do",S;if(U.mode=="modal"){if(U.preCallback){U.preCallback(U)}var W=window.showModalDialog(T+"?isFromModel=true",U,"dialogWidth=708px;dialogHeight=568px");if(W!=null&&(typeof W=="object")){W.obj=X(W.obj)}else{if(W==-1){return }}if(W){S=W;if(U.callback){U.callback(W,U)}}}else{if(U.preCallback){U.preCallback(U)}var V=D.dialog({id:"SelectPeopleDialog",url:T,width:708,height:530,title:D.i18n("selectPeople.page.title"),checkMax:true,transParams:U,targetWindow:getCtpTop(),buttons:[{text:D.i18n("common.button.ok.label"),handler:function(){var a=V.getReturnValue(),Z=true;if(a==-1){return }if(a){if(U.callback&&U.callback(a,U)){Z=false}if(U.callbk&&U.callbk(a)){Z=false}}if(Z){V.close()}}},{text:D.i18n("common.button.cancel.label"),handler:function(){V.close()}}],bottomHTML:'<table id="flowTypeDiv" class="hidden" width="" border="0" height="100%" align="center" cellpadding="0" cellspacing="0">\r\n  <tr>\r\n    <td id="concurrentType">&nbsp;&nbsp;&nbsp;&nbsp;\r\n      <label for="concurrent">\r\n        <input id="concurrent" name="flowtype" type="radio" value="1" checked>&nbsp;<span>'+D.i18n("selectPeople.flowtype.concurrent.lable")+'</span>\r\n      </label>&nbsp;&nbsp;&nbsp;\r\n    </td>\r\n    <td id="sequenceType">\r\n      <label for="sequence">\r\n        <input id="sequence" name="flowtype" type="radio" value="0">&nbsp;<span>'+D.i18n("selectPeople.flowtype.sequence.lable")+'</span>\r\n      </label>&nbsp;&nbsp;&nbsp;\r\n    </td>\r\n    <td id="multipleType">\r\n      <label for="multiple">\r\n        <input id="multiple" name="flowtype" type="radio" value="2">&nbsp;<span>'+D.i18n("selectPeople.flowtype.multiple.lable")+'</span>\r\n      </label>&nbsp;&nbsp;&nbsp;\r\n    </td>\r\n    <td id="colAssignType">\r\n      <label for="colAssign">\r\n        <input id="colAssign" name="flowtype" type="radio" value="3">&nbsp;<span>'+D.i18n("selectPeople.flowtype.colAssign.lable")+"</span>\r\n      </label>\r\n    </td>\r\n  </tr>\r\n</table>"})}return S};D.fn.showOffice=function(T){var U={webRoot:_ctxServer};T=D.extend(U,T);var W=[];W[".doc"]=".wps";W[".wps"]=".doc";W[".et"]=".xls";W[".xls"]=".et";var V=D.ctx.isOfficeEnabled(T.fileType);if(!V&&W[T.fileType]){V=D.ctx.isOfficeEnabled(W[T.fileType]);if(V){T.fileType=W[T.fileType]}}if(V){var S=D('<div id="officeFrameDiv" style="display:none;height:100%"><iframe src="" name="officeEditorFrame" id="officeEditorFrame" frameborder="0" width="100%" height="100%"></iframe></div>');this.replaceWith(S);createOCX(T);if(typeof officeSupportCallback!="undefined"){officeSupportCallback()}}else{this.replaceWith(D('<center><font color="red" style="font-weight:bold">'+D.i18n("common.body.type.officeNotSupported")+"</font></center>"));if(typeof officeNotSupportCallback!="undefined"){officeNotSupportCallback()}}};D.fn.tab=function(T){var S=this.attrObj("tabObj");if(S){return S}T.id=this.attr("id");S=new MxtTab(T);this.attrObj("tabObj",S);if(T.mode&&"mouseOver"===T.mode){S.setMouseOver()}};D.fn.tabEnable=function(T){var S=this.attrObj("tabObj");if(S){S.enable(T)}};D.fn.tabDisable=function(T){var S=this.attrObj("tabObj");if(S){S.disabled(T)}};D.fn.tabCurrent=function(T){var S=this.attrObj("tabObj");if(S){S.setCurrent(T)}};D.fn.toolbar=function(T){var V={contextPath:_ctxPath,render:this[0].id};V=D.extendParam(V,T);var W=new WebFXMenuBar(V),X=T.toolbar;this.attrObj("toolbarObj",W);if(X){if(!_isDevelop){var U=[];D.each(X,function(d,c){var Z=c.resCode,a=c.pluginId,b=false;D.privCheck(Z,a,function(){U.push(c);b=true});if(b&&c.subMenu){var Y=[];D.each(c.subMenu,function(e,f){Z=f.resCode,a=f.pluginId;D.privCheck(Z,a,function(){Y.push(f)})});c.subMenu=Y}});X=U}D.each(X,function(a,Z){var Y=D.extendParam({},Z);if(Z.items){Y.items=Z.items}if(Z.subMenu){Y.subMenu=S(Z.subMenu)}Y.id=Y.id?Y.id:("mb_"+a);W.add(new WebFXMenuButton(Y))})}function S(Z){var Y=new WebFXMenu();D.each(Z,function(d,c){var b=D.extendParam({},c),a;b.id=b.id?b.id:("mi_"+d);a=new WebFXMenuItem(b);Y.add(a)});return Y}W.show();return W};D.fn.toolbarEnable=function(T){var S=this.attrObj("toolbarObj");if(S){S.enabled(T)}};D.fn.toolbarDisable=function(T){var S=this.attrObj("toolbarObj");if(S){S.disabled(T)}};D.fn.menu=function(S){var T=D.extendParam({render:this[0].id},S);var U=new MxtMenuBar(T);if(S.menus){D.each(S.menus,function(Z,Y){var W=D.extendParam({},Y);var X=new MxtMenu(W);if(Y.items){D.each(Y.items,function(a,b){X.add(V(b))})}U.add(X)})}function V(W){var X=D.extendParam({},W);var Y=new MxtMenuItem(X);if(W.items){var Z=new MxtSubMenu({});Y.add(Z);D.each(W.items,function(b,a){Z.add(V(a))})}return Y}U.show()};D.fn.htmlSignature=function(V,U){if(!D.v3x.isMSIE){V.after(D('<center><font color="red" style="font-weight:bold">'+D.i18n("common.isignaturehtml.notSupported")+"</font></center>"))}else{if(V.length>0&&V[0].tagName.toLowerCase()==="input"){var S=0;if(V.css("width")==="100%"||V.width()==0){S=V.parent("div").width()}else{S=V.width()}var W=V.height();if(S==0){S=100}if(W==0){W=20}if(U.showButton==true){var T=D("<span></span>");T.attr("id","signButton");T.attr("class",U.buttonClass?U.buttonClass:"ico16 signa_16");if(U.enabled===1){T.unbind("click").bind("click",function(){handWrite(U.recordId,U.signObj,false)})}V.after(T);S=S-T.width()-2}V[0].initWidth=S+"";V[0].initHeight=W+"";V.attr("initWidth",S+"");V.attr("initHeight",W+"")}U.signObj=V[0];initHandWriteData(U)}};function M(V,U){V.attrObj("_attachShow")?V.attrObj("_attachShow").remove():null;downloadURL=_ctxPath+"/fileUpload.do?type="+((U.customType==undefined)?0:U.customType)+((U.firstSave==undefined)?"":("&firstSave="+U.firstSave))+"&applicationCategory="+U.applicationCategory+"&extensions="+((U.extensions==undefined)?"":U.extensions)+((U.quantity==undefined)?"":("&quantity="+U.quantity))+"&maxSize="+((U.maxSize==undefined)?"":U.maxSize)+"&isEncrypt="+((U.isEncrypt==undefined)?"":U.isEncrypt)+"&popupTitleKey="+((U.attachmentTrId==undefined)?"":("&attachmentTrId="+U.attachmentTrId))+((U.embedInput==undefined)?"":("&embedInput="+U.embedInput))+((U.showReplaceOrAppend==undefined)?"":("&selectRepeatSkipOrCover="+U.showReplaceOrAppend))+((U.callMethod==undefined)?"":("&callMethod="+U.callMethod))+((U.isShowImg==undefined)?"":("&isShowImg="+U.isShowImg))+((U.takeOver==undefined)?"":("&takeOver="+U.takeOver));var W=false;try{var S=new ActiveXObject("UFIDA_Upload.A8Upload.2");S.SetLimitFileSize(1024);W=true}catch(Y){W=false}downloadURL+=((!W)?"":("&isA8geniusAdded="+W));var X=((U.displayMode==undefined)?"auto;":U.displayMode);var Z='style="overflow: '+X+';height: auto;"';if(U.isShowImg){Z=" "}var T="<div id='attachmentArea"+(U.attachmentTrId?U.attachmentTrId:"")+"' "+Z+" requrl='"+downloadURL+"'></div>";if(D("#downloadFileFrame").length==0){T=T+'<div style="display:none;"><iframe name="downloadFileFrame" id="downloadFileFrame" frameborder="0" width="0" height="0"></iframe></div>'}if(U.embedInput){V.append('<input type="text" style="display:none" id="'+(U.embedInput?U.embedInput:"")+'" name="'+(U.embedInput?U.embedInput:"")+'" value="">')}T=D(T);V.after(T);V.hide();V.attrObj("_attachShow",T);Q(V,U,true,(U.embedInput?U.embedInput:""));if(V.attr("attsdata")!=""){setTimeout(function(){var a=D.parseJSON(V.attr("attsdata"));if(a!=null&&U.isShowImg&&a.length>0){for(var c=0;c<a.length;c++){if(a[c].subReference==U.attachmentTrId){var d=D("#"+U.embedInput);d.parent("div").css("display","block");d.css("display","block");var e=D("#attachmentDiv_"+a[c].fileUrl);var b=e.find(".ico16").width()+2;e.width(d.width()).height(d.height());e.find("img").width(d.width()-b).height(d.height());d.css("display","none");d.parent("div").css("display","none");break}}}},300)}}function Q(a,S,Y,T){var X=S.attsdata?S.attsdata:a.attr("attsdata")?D.parseJSON(a.attr("attsdata")):null;if(X&&X instanceof Array){var Z;for(var V=0;V<X.length;V++){Z=X[V];if(Y){if(Z.type==2){continue}}else{if(Z.type!=2){continue}}var W=true;var U=false;if(S.canFavourite!=undefined){W=S.canFavourite}if(S.isShowImg!=undefined){U=S.isShowImg}if(S.attachmentTrId){if(Z.reference!=Z.subReference&&S.attachmentTrId!=Z.subReference){continue}addAttachmentPoi(Z.type,Z.filename,Z.mimeType,Z.createdate?Z.createdate.toString():null,Z.size,Z.fileUrl,S.canDeleteOriginalAtts,S.originalAttsNeedClone,Z.description,Z.extension,Z.icon,S.attachmentTrId,Z.reference,Z.category,false,null,T,true,Z.officeTransformEnable,Z.v,W,U,Z.id)}else{addAttachment(Z.type,Z.filename,Z.mimeType,Z.createdate?Z.createdate.toString():null,Z.size,Z.fileUrl,S.canDeleteOriginalAtts,S.originalAttsNeedClone,Z.description,Z.extension,Z.icon,Z.reference,Z.category,false,null,true,Z.officeTransformEnable,Z.v,W)}}}}function L(U){theToShowAttachments=new ArrayList();var V=_ctxPath+"/fileUpload.do";var W=U.attr("attsdata");if(W!=null&&W!=""){W=D.parseJSON(W)}var S;for(var T=0;T<W.length;T++){S=W[T];theToShowAttachments.add(new Attachment(S.id,S.reference,S.subReference,S.category,S.type,S.filename,S.mimeType,S.createdate.toString(),S.size,S.fileUrl,"",null,S.extension,S.icon,true,"true"))}}function C(T,S){showAttachment(S.subRef,S.atttype,S.attachmentTrId,S.numberDivId)}function O(T,S){T.after(D('<div id="attachment2Area'+(S.attachmentTrId?S.attachmentTrId:"")+'" poi="'+(S.attachmentTrId?S.attachmentTrId:"")+'"  '+(S.embedInput?' embedInput="'+S.embedInput+'"':"")+(S.callMethod?' callMethod="'+S.callMethod+'"':"")+' requestUrl="'+_ctxPath+"/ctp/common/associateddoc/assdocFrame.do?isBind="+(S.modids?S.modids:"")+"&referenceId="+(S.referenceId?S.referenceId:"")+"&applicationCategory="+(S.applicationCategory?S.applicationCategory:"")+"&poi="+(S.attachmentTrId?S.attachmentTrId:"")+('" style="overflow: '+((S.displayMode==undefined)?"auto;max-height: 36px":S.displayMode)+'min-height: 20px;"></div>')));if(S.embedInput){T.append('<input type="hidden" id="'+(S.embedInput?S.embedInput:"")+'" name="'+(S.embedInput?S.embedInput:"")+'" value="">')}Q(T,S,false,(S.embedInput?S.embedInput:""))}function P(V,S,U){var W=D(V[0]);W.width(W.width()-21);var T='<span class="margin_l_5 ico16 '+S+'_16"';U.fun?T+=" onclick='"+U.fun+"()'":null;U.fun?T+=" title='"+U.title+"'":null;T+="></span> ";W.after(T)}D.fn.ctpClone=function(){if(this){return D.ctpClone(D(this))}};D.ctpClone=function(T){if(T&&T.size()>0){var S;if(T[0].outerHTML){S=D(T[0].outerHTML.replace(/jQuery\d+="\d+"/g,""))}else{S=T.clone()}return S}};function I(X){var S=D(this);var W=S.val();if(W.length>0){var T=X.data;if(isNaN(W)||!T.type.test(W)){W=W.replace(T.start,"");if(W!="-"&&W!="+"&&isNaN(W)){W=W.replace(T.nonNumber,"")}}if(T.decimalDigit!=null){var V=W.indexOf("."),U=W.length;if(V>-1){if(T.decimalDigit<=0){W=W.substr(0,V)}else{W=W.substr(0,V+T.decimalDigit+1)}}}S.val(W)}S=null}function R(X){var S=D(this);var W=S.val();if(W.length>0){var T=X.data;if(isNaN(W)||!T.type.test(W)){W=W.replace(T.end,"");if(W!="-"&&W!="+"&&isNaN(W)){W=W.replace(T.nonNumber,"")}}if(T.decimalDigit!=null){var V=W.indexOf("."),U=W.length;if(V>-1){if(T.decimalDigit<=0){W=W.substr(0,V)}else{W=W.substr(0,V+T.decimalDigit+1)}}}S.val(W)}S=null}function F(V){var S=D(this);var U=S.val();if(U.length>0){var T=U.lastIndexOf("%");var W=U;if(T>-1){W=U.sub(0,T)}if(isNaN(W)||!/^[-+]?\d+(\.\d*)?$/.test(U)){if(!D.isANumber(W)){W=W.replace(/[^\d]+/g,"")}S.val(W)}}S=null}function K(V){var S=D(this);var U=S.val();if(U.length>0){var T=U.lastIndexOf("%");var W=U;if(T>-1){W=U.sub(0,T)}if(isNaN(W)||!/^\d+(\.\d+)?$/.test(U)){if(!D.isANumber(W)){W=W.replace(/[^\d]+/g,"")}S.val(W+"%")}}S=null}function N(U){var S=D(this);var T=S.val();if(T.length>0){var W=T;if(T.length<=3){if(isNaN(W)||!/^[-+]?\d+$/.test(T)){if(!D.isANumber(W)){W=W.replace(/[^\d]+/g,"")}S.val(W)}}else{var V=/^\d\d\d(,\d\d\d)*,\d{0,3}$/;if(!V.test(T)){W=W.match(/\d\d\d(,\d\d\d)*(,\d{0,3})?/);if(W==null){W=""}else{W=W[0]}S.val(W)}}}S=null}function B(U){var S=D(this);var T=S.val();if(T.length>0){var W=T;if(T.length<=3){if(isNaN(W)||!/^[-+]?\d+$/.test(T)){if(!D.isANumber(W)){W=W.replace(/[^\d]+/g,"").substr(0,3)}S.val(W)}}else{var V=/^\d\d\d(,\d\d\d)*$/;if(!V.test(T)){W=W.match(/\d\d\d(,\d\d\d)*/);if(W==null){W=""}else{W=W[0]}S.val(W)}}}S=null}D.fn.extend({onlyNumber:function(U){if(this[0]&&this[0].nodeName&&this[0].nodeName.toUpperCase()=="INPUT"){if(this.prop("type")=="text"){var T=U.numberType,V=U.decimalDigit;if(isNaN(V)){V=null}if(T=="delete"){this.unbind("keyup",I).unbind("blur",R)}else{if(T=="percent"){this.unbind("keyup",F).unbind("blur",K);this.bind("keyup",F).bind("blur",K)}else{if(T=="thousandth"){this.unbind("keyup",N).unbind("blur",B);this.bind("keyup",N).bind("blur",B)}else{var S={};switch(T){case"int":S.start=/[^0123456789-]+|[-]{2,}|[-]$/g;S.end=/[^0123456789-]+|[-]{2,}|[-]$/g;S.nonNumber=/[-]+/g;S.type=/^[-+]?\d+$/;S.decimalDigit=V;break;case"float":S.start=/^[.]|[^0123456789.-]+|[.-]{2,}/g;S.end=/^[.]|[^0123456789.-]+|[.-]{2,}|[.-]$/g;S.nonNumber=/[.-]+/g;S.type=/^[-+]?\d+(\.\d+)?$/;S.decimalDigit=V;break;default:S.start=/^[.]|[^0123456789.-]+|[.-]{2,}/g;S.end=/^[.]|[^0123456789.-]+|[.-]{2,}|[.-]$/g;S.nonNumber=/[.-]+/g;S.type=/^[-+]?\d+$/;S.decimalDigit=V;break}this.unbind("keyup",I).unbind("blur",R);this.bind("keyup",S,I).bind("blur",S,R)}}}}}}})})(jQuery);
(function($){var zt=$.fn.zTree,tools=zt._z.tools,consts=zt.consts,view=zt._z.view,data=zt._z.data,event=zt._z.event;_view={addNodes:function(setting,parentNode,newNodes,isSilent){if(setting.data.keep.leaf&&parentNode&&!parentNode.isParent){return }if(!tools.isArray(newNodes)){newNodes=[newNodes]}if(setting.data.simpleData.enable){newNodes=data.transformTozTreeFormat(setting,newNodes)}if(parentNode){var target_switchObj=$("#"+parentNode.tId+consts.id.SWITCH),target_icoObj=$("#"+parentNode.tId+consts.id.ICON),target_ulObj=$("#"+parentNode.tId+consts.id.UL);if(!parentNode.open){view.replaceSwitchClass(parentNode,target_switchObj,consts.folder.CLOSE);view.replaceIcoClass(parentNode,target_icoObj,consts.folder.CLOSE);parentNode.open=false;target_ulObj.css({display:"none"})}data.addNodesData(setting,parentNode,newNodes);view.createNodes(setting,parentNode.level+1,newNodes,parentNode);if(!isSilent){view.expandCollapseParentNode(setting,parentNode,true)}}else{data.addNodesData(setting,data.getRoot(setting),newNodes);view.createNodes(setting,0,newNodes,null)}for(var i=0;i<newNodes.length;i++){newNodes[i].data[setting.data.simpleData.pIdKey]=newNodes[i][setting.data.simpleData.pIdKey]}},asyncNode:function(setting,node,isSilent,callback){var i,l;if(node&&!node.isParent){tools.apply(callback);return false}else{if(node&&node.isAjaxing){return false}else{if(tools.apply(setting.callback.beforeAsync,[setting.treeId,node],true)==false){tools.apply(callback);return false}}}if(node){node.isAjaxing=true;var icoObj=$("#"+node.tId+consts.id.ICON);icoObj.attr({style:"","class":"button ico_loading"})}var isJson=(setting.async.contentType=="application/json"),tmpParam=isJson?"{":"",jTemp="";for(i=0,l=setting.async.autoParam.length;node&&i<l;i++){var pKey=setting.async.autoParam[i].split("="),spKey=pKey;if(pKey.length>1){spKey=pKey[1];pKey=pKey[0]}if(isJson){jTemp=(typeof node[pKey]=="string")?'"':"";tmpParam+='"'+spKey+('":'+jTemp+node[pKey]).replace(/'/g,"\\'")+jTemp+","}else{tmpParam+=spKey+("="+node[pKey]).replace(/&/g,"%26")+"&"}}if(tools.isArray(setting.async.otherParam)){for(i=0,l=setting.async.otherParam.length;i<l;i+=2){if(isJson){jTemp=(typeof setting.async.otherParam[i+1]=="string")?'"':"";tmpParam+='"'+setting.async.otherParam[i]+('":'+jTemp+setting.async.otherParam[i+1]).replace(/'/g,"\\'")+jTemp+","}else{tmpParam+=setting.async.otherParam[i]+("="+setting.async.otherParam[i+1]).replace(/&/g,"%26")+"&"}}}else{for(var p in setting.async.otherParam){if(isJson){jTemp=(typeof setting.async.otherParam[p]=="string")?'"':"";tmpParam+='"'+p+('":'+jTemp+setting.async.otherParam[p]).replace(/'/g,"\\'")+jTemp+","}else{tmpParam+=p+("="+setting.async.otherParam[p]).replace(/&/g,"%26")+"&"}}}if(tmpParam.length>1){tmpParam=tmpParam.substring(0,tmpParam.length-1)}if(isJson){tmpParam+="}"}var managerName=setting.managerName,managerMethod=setting.managerMethod;if(managerName&&!setting._managerLoaded){$("head").append("<script src='"+_ctxPath+"/ajax.do?managerName="+managerName+"' type='text/javascript'><\/script>");setting._managerLoaded=true}if(managerName&&managerMethod&&window[managerName]){var _bs=new window[managerName]();_bs[managerMethod]($.parseJSON(tmpParam),{success:function(msg){var newNodes=[];try{if(!msg||msg.length==0){newNodes=[]}else{if(typeof msg=="string"){newNodes=eval("("+msg+")")}else{newNodes=msg}}}catch(err){}if(node){node.isAjaxing=null;node.zAsync=true}view.setNodeLineIcos(setting,node);if(newNodes&&newNodes!=""){newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes);view.addNodes(setting,node,!!newNodes?tools.clone(newNodes):[],!!isSilent)}else{view.addNodes(setting,node,[],!!isSilent)}setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]);tools.apply(callback)},error:function(request,textStatus,errorThrown){if(node){node.isAjaxing=null}view.setNodeLineIcos(setting,node);setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,request,textStatus,errorThrown])}})}return true},appendNodes:function(setting,level,nodes,parentNode,initFlag,openFlag){if(!nodes){return[]}var html=[],childKey=setting.data.key.children,nameKey=setting.data.key.name,titleKey=data.getTitleKey(setting);for(var i=0,l=nodes.length;i<l;i++){var node=nodes[i],tmpPNode=(parentNode)?parentNode:data.getRoot(setting),tmpPChild=tmpPNode[childKey],isFirstNode=((tmpPChild.length==nodes.length)&&(i==0)),isLastNode=(i==(nodes.length-1));if(initFlag){data.initNode(setting,level,node,parentNode,isFirstNode,isLastNode,openFlag);data.addNodeCache(setting,node)}var childHtml=[];if(node[childKey]&&node[childKey].length>0){childHtml=view.appendNodes(setting,level+1,node[childKey],node,initFlag,openFlag&&node.open)}if(openFlag){var url=view.makeNodeUrl(setting,node),fontcss=view.makeNodeFontCss(setting,node),fontStyle=[];for(var f in fontcss){fontStyle.push(f,":",fontcss[f],";")}html.push("<li id='",node.tId,"' class='level",node.level,"' tabindex='0' hidefocus='true' treenode>","<span id='",node.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(setting,node),"' treeNode",consts.id.SWITCH,"></span>");data.getBeforeA(setting,node,html);html.push("<a id='",node.tId,consts.id.A,"' class='level",node.level,"' treeNode",consts.id.A,' onclick="',(node.click||""),'" ',((url!=null&&url.length>0)?"href='"+url+"'":"")," target='",view.makeNodeTarget(node),"' style='",fontStyle.join(""),"'");if(tools.apply(setting.view.showTitle,[setting.treeId,node],setting.view.showTitle)&&node[titleKey]&&node[titleKey].indexOf("title")==-1){html.push("title='",node[titleKey].replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'")}html.push(">");data.getInnerBeforeA(setting,node,html);var name=setting.view.nameIsHTML?node[nameKey]:node[nameKey].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");html.push("<span id='",node.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(setting,node),"' style='",view.makeNodeIcoStyle(setting,node),"'></span><span id='",node.tId,consts.id.SPAN,"'>",name,"</span>");data.getInnerAfterA(setting,node,html);html.push("</a>");data.getAfterA(setting,node,html);if(node.isParent&&node.open){view.makeUlHtml(setting,node,html,childHtml.join(""))}html.push("</li>");data.addCreatedNode(setting,node)}}return html}},_data={fixPIdKeyValue:function(setting,node){if(setting.data.simpleData.enable){node.data[setting.data.simpleData.pIdKey]=node[setting.data.simpleData.pIdKey]=node.parentTId?node.getParentNode()[setting.data.simpleData.idKey]:setting.data.simpleData.rootPId}},transformTozTreeFormat:function(setting,sNodes){var i,l,key=setting.data.simpleData.idKey,parentKey=setting.data.simpleData.pIdKey,childKey=setting.data.key.children;if(!key||key==""||!sNodes){return[]}if(!tools.isArray(sNodes)){sNodes=[sNodes]}var d=[],nm=setting.data.key.name,titleKey=data.getTitleKey(setting);for(var i=0;i<sNodes.length;i++){var no={};no[key]=sNodes[i][key];no[parentKey]=sNodes[i][parentKey];if(setting.render){no[nm]=setting.render(sNodes[i][nm],sNodes[i])}else{no[nm]=sNodes[i][nm]}if(titleKey&&titleKey!=""){no[titleKey]=sNodes[i][titleKey]}no.data=sNodes[i];var _iconSkin=sNodes[i]["iconSkin"];if(_iconSkin){no.iconSkin=_iconSkin}if(setting.nodeHandler){setting.nodeHandler(no)}d.push(no)}sNodes=d;var r=[];var tmpMap=[];for(i=0,l=sNodes.length;i<l;i++){tmpMap[sNodes[i][key]]=sNodes[i]}for(i=0,l=sNodes.length;i<l;i++){if(tmpMap[sNodes[i][parentKey]]&&sNodes[i][key]!=sNodes[i][parentKey]){if(!tmpMap[sNodes[i][parentKey]][childKey]){tmpMap[sNodes[i][parentKey]][childKey]=[]}tmpMap[sNodes[i][parentKey]][childKey].push(sNodes[i])}else{r.push(sNodes[i])}}return r}},_z={view:_view,data:_data};$.extend(true,$.fn.zTree._z,_z);$.fn.tree=function(options){var settings={};options=$.extend(settings,options);var opts={async:{enable:false,autoParam:["id"],contentType:"application/json"},edit:{enable:false,showRemoveBtn:false,showRenameBtn:false},callback:{},check:{},data:{simpleData:{enable:true,idKey:"id",pIdKey:"pId",rootPId:0},key:{name:"name"}},view:{selectedMulti:false}},oe=opts.edit,oc=opts.callback,od=opts.data,ods=od.simpleData,odk=od.key;if(options.onClick){oc.onClick=options.onClick}if(options.onDblClick){oc.onDblClick=options.onDblClick}if(options.beforeDrag){oc.beforeDrag=options.beforeDrag}if(options.beforeDrop){oc.beforeDrop=options.beforeDrop}if(options.onAsyncSuccess){oc.onAsyncSuccess=options.onAsyncSuccess}if(options.onAsyncError){oc.onAsyncError=options.onAsyncError}if(options.idKey){ods.idKey=options.idKey}if(options.pIdKey){ods.pIdKey=options.pIdKey}if(options.rootPId){ods.rootPId=options.rootPId}if(options.nameKey){odk.name=options.nameKey}if(options.enableEdit){oe.enable=true}if(options.enableRename){oe.showRenameBtn=true}if(options.enableRemove){oe.showRemoveBtn=true}if(options.enableCheck){opts.check.enable=true}if(options.managerName){opts.async.enable=true;opts.async.autoParam=[ods.idKey];if(options.asyncParam){opts.async.otherParam=options.asyncParam}}if(options.addHoverDom){opts.view.addHoverDom=options.addHoverDom}if(options.removeHoverDom){opts.view.removeHoverDom=options.removeHoverDom}if(options.dblClickExpand){opts.view.dblClickExpand=options.dblClickExpand}if(options.render){opts.view.nameIsHTML=true;opts.render=options.render}if(options.nodeHandler){opts.nodeHandler=options.nodeHandler}if(options.managerName){opts.managerName=options.managerName}if(options.managerMethod){opts.managerMethod=options.managerMethod}if(options.title){odk.title=options.title}oc.onRename=function(evt,tid,tNode){tNode.data[odk.name]=tNode[odk.name]};var t=this[0],id=t.id,d=[];$(this).replaceWith("<ul id='"+id+"' class='ztree'></ul>");t=$("#"+id);if($._autofill){var $af=$._autofill,$afg=$af.filllists;if($afg&&$afg[id]){d=$afg[id]}}$.fn.zTree.init(t,opts,d)};$.fn.treeObj=function(){var id=this[0].id;return $.fn.zTree.getZTreeObj(id)}})(jQuery);
(function(E){function B(F){var G=E.extend({data:[],value:null},F);this.data=G.data;this.value=G.value;this.onChange=G.onChange;this.originValue=this.value;function H(I){return I.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}this.filter=function(K,I){var J=new RegExp(H(I),"i");return E.grep(K,function(L){return J.test(L.label||L.value||L)})};return this}B.prototype.search=function(G,F){return this.filter(this.data,G)};B.prototype.get=function(G){var F=E.grep(this.data,function(H){return H.value==G});if(F.length>0){return F[0]}return null};B.prototype.getAll=function(F){return this.data};B.prototype.val=function(F){if(F){this.value=F;E(this).trigger("change",F)}return this.value};B.prototype.restore=function(){this.val(this.originValue)};B.prototype.destroy=function(F){this.data=null;this.value=null;E(this).unbind("change")};function C(F){this.id=Math.random()*10000;this.setting=E.extend({autoSize:false},F);this.onSelect=F.onSelect;this.ui=F.ui;this._cursor=null;this.cursor=function(I){if(I===null||I){this._cursor=I}return this._cursor};this.ds=F.ds;this.data=F.ds.getAll();var H=this;function G(){var J="autocomplete_popup";var I=E("#"+J);if(I.length==0){I=E("<div></div>").attr("id",J).addClass("autocomplete-popup").append(E("<div></div>").addClass("menu")).appendTo(E("body"));I.hide();I.mousedown(function(K){var L=E(K.target).closest(".item").length==0;if(!L){H.close()}else{setTimeout(function(){E(document).one("mousedown",function(M){if(I[0]!=M.target&&!E.contains(I,M.target)){H.close()}})},1)}setTimeout(function(){clearTimeout(I.closing)},13);E(H).trigger("clicked")})}if(E("#"+J+"_mask").length==0){E("<iframe></iframe>").attr("id",J+"_mask").addClass("autocomplete-popup-mask").appendTo(E("body"))}E(this).unbind("moveFirst").bind("moveFirst",function(L,K){H.moveFirst()}).unbind("moveNext").bind("moveNext",function(L,K){H.moveNext()}).bind("movePrevious",function(L,K){H.movePrevious()});return I}this.container=G();this.moveFirst=function(){H.cursor(E(H.container).find("div.menu div:first-child"));H.highlight()};this.moveNext=function(){if(H.cursor()==null){H.moveFirst();return }var I=H.cursor().next();if(I.length>0){H.cursor(I);H.highlight()}};this.movePrevious=function(){if(H.cursor()==null){H.moveFirst();return }var I=H.cursor().prev();if(I.length>0){H.cursor(I);H.highlight()}};this.highlight=function(){E(".item-selected").removeClass("item-selected");H.cursor().addClass("item-selected")};this.calcPosition=function(){var V=300;var M=E(document).scrollTop();var Q=document.documentElement.clientWidth+E(document).scrollLeft();var O=document.documentElement.clientHeight+M;if(V>O){V=O}var U=E(H.ui);var S=U.offset().top-1;var K=U.outerHeight();var T={left:0,top:0,width:0,height:0};T.left=U.offset().left;T.width=U.width();var R=U.next('input[name="acToggle"]').length>0;if(R){T.width=T.width+U.next('input[name="acToggle"]').outerWidth()-3}var J=H.container;var N=S+K;var I=J.height("").outerHeight();var W=I;if(I>V){I=V}if((N+I>O)&&(N>(O/2))){N=S-I-2}if(N<M){N=M}if(N<0){N=0;if(I<S){N=S-I}I=S-N}if(N+I+5<S){N=S-I-5}if(N+I>S+K){N=S+K}if(N+I>O){I=O-N-10}if(W>I){T.scroll=true}T.height=I;T.top=N;if(H.setting.autoSize){var P=0;E.each(H.data,function(Y,Z){var X=Z.label.length;if(X>P){P=X}});var L=P*8+24;T.width=T.width>L?T.width:L}return T}}C.prototype.refresh=function(){var G=this.container.find("div.menu");G.empty();var H=this;var F=this.ds.value;E.each(this.data,function(J,L){var K=F&&(L.value==F.value)?" item-selected":"";var I=E("<div></div>").html(L.label).data("item",L).attr("title",L.label).addClass("item"+K).hover(function(M){H.cursor(E(this));H.highlight()}).mousedown(function(M){H.select(M)}).appendTo(G);if(K){H.cursor(I)}});if(this.cursor()==null){this.moveFirst()}this.highlight();if(this.data.length==0){G.addClass("empty-menu")}else{G.removeClass("empty-menu")}};C.prototype.search=function(F){this.data=this.ds.search(F);this.cursor(null);this.refresh()};C.prototype.hide=function(F){E("#autocomplete_popup_mask").hide();this.container.hide()};C.prototype.show=function(){var J=this;var I=this.calcPosition();var G=this.container;if(I.scroll){G.css("overflow-y","auto").css("overflow-x","hidden").css("height",I.height+"px")}else{G.css("height","auto")}G.css({width:I.width-1+"px",top:I.top+1+"px",left:I.left+1+"px"});var F=G.height();E("#autocomplete_popup_mask").css({width:I.width+2+"px",top:I.top-0+"px",left:I.left-0+"px",height:F+"px"}).show();E(G.parents()).scroll(function(){J.hide()});var H=E(J.ui).offset().top;setTimeout(function(){var K=E(J.ui).offset().top;if(K!=H){J.hide()}},500);this.container.show()};C.prototype.toggle=function(){this.container.toggle()};C.prototype.close=function(F){this.hide()};C.prototype.visible=function(){return E(this.container).is(":visible")};C.prototype.select=function(F){var G=this.cursor();if(G!=null){this.ds.val(G.data("item"))}E(this.ui.ui).focus()};C.prototype.destroy=function(F){E(this).unbind("moveFirst").unbind("movePrevious").unbind("moveNext")};var A={isClickPopup:false};function D(H){var G=false;var L=this.keyCode;var K=E(H.ui);var M=this;var J=H.value;this.ds=new B({data:H.data,value:J});E(this.ds).unbind("change").bind("change",function(P,O){if(O){var N=K.data("value")==O.value;D.updateUi(K,O,N);if(H.onSelect){H.onSelect(O)}}});var F=new C(E.extend(H,{ds:this.ds,input:this}));var I;K.unbind("keyup").bind("keyup",function(N){switch(N.keyCode){case L.PAGE_UP:break;case L.PAGE_DOWN:break;case L.UP:if(M.popup.visible()){E(F).trigger("movePrevious")}else{M.popup.refresh();M.popup.show()}N.preventDefault();break;case L.DOWN:if(M.popup.visible()){E(F).trigger("moveNext")}else{M.popup.refresh();M.popup.show()}N.preventDefault();break;case L.ENTER:case L.NUMPAD_ENTER:if(M.popup.visible()){I=true;F.select();F.close();N.preventDefault()}case L.TAB:break;case L.ESCAPE:F.close(N);break;default:clearTimeout(M.searching);var O=E(this).val();M.searching=setTimeout(function(){F.search(O);F.show()},150);break}}).keypress(function(N){if(I){I=false;N.preventDefault()}}).unbind("click").bind("click",function(N){F.refresh();F.show()}).unbind("blur").bind("blur",function(N){E(this).val(E(this).data("label"));if(A.isClickPopup){A.isClickPopup=false;return }A.isClickPopup=false;F.close();if(G){F.select()}M.destroy()});E(F).unbind("clicked").bind("clicked",function(N){A.isClickPopup=true});E(K.parents()).scroll(function(){F.close()});this.ui=K;this.popup=F}D.prototype.destroy=function(F){this.popup.destroy(F);this.ds.destroy(F)};D.updateUi=function(F,H,G){F.val(H.label).attr("title",H.label).data("value",H.value).data("label",H.label);if(!G){F.trigger("changed",H)}};D.prototype.keyCode={ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91};E.fn.autocomplete=function(J){var V=false;if(this.length==0){return }var P={value:"",label:""};var I=this[0].nodeName.toLowerCase();function F(b,c,d){if(!V){b.trigger(c,d)}}function U(b){if(a&&a.length>0){b.removeAttr("disabled")}else{b.attr("disabled",true)}}function H(b){var c=[];b.find("option").each(function(){var d=E(this);c.push({value:d.val(),label:d.text()})});return c}function O(b){var c=b.find("option:selected");c=(c.length>0)?c:b.find("option:first");if(c.length>0){return{value:c.val(),label:c.text()}}else{return{value:"",label:""}}}if(I=="select"){var S=this;var N=this.data("binding");if(!N){var T=this.width();var Y=this.attr("id")!=undefined?('id="'+this.attr("id")+'_txt" '):"";N=E("<input "+Y+'type="text" widthVal="'+T+'"/>').insertAfter(this);N.width(T-(N.outerWidth(true)-N.width()));N.data("binding",S);S.data("binding",N);S.change(function(e,d){if(d){return }var b=E(this);var f=O(b);var c=N.data("value")==f.value;D.updateUi(N,f,c);N.autocomplete({data:H(b),value:O(b)})});N.bind("changed",function(c,b){S.val(b.value);F(S,"change",b)})}var Z=O(this);this.hide();F(N,"change",Z);D.updateUi(N,Z,true);var L=E.extend({data:H(this)},J);return N.autocomplete(L)}if(I!="input"){return }var W=E(this);this.showButton=true;var a=this.data("data");if(J){if(J.data){a=J.data}if(J.value){this.data("value",J.value)}}if(this.showButton){var Q=this.next('input[name="acToggle"]').length>0;if(!Q){var K=_ctxPath;if(!K){K=""}var X="background-image:url('"+K+"/common/images/desc.gif');background-repeat:no-repeat;background-color: #ececec;background-position:center;width:"+13+"px;height:22px;border:1px #d1d1d1 solid;vertical-align:middle";var G=E('<input type="button" name="acToggle" tabindex="-1" onclick="$(this.previousSibling).trigger(\'focus\').trigger(\'click\');" style="'+X+'"/>');this.after(G);var M=0;if(E.browser.msie&&parseInt(E.browser.version,10)<9){M=parseInt(this.attr("widthVal"),10)-G.outerWidth(true)-5;if(M<=0){var N=this;setTimeout(function(){var e=E("select",N.parent());if(e.length>0){var d=e.css("display");e.css("display","");var c=e.width();e.css("display",d);var b=c-G.outerWidth(true)-3;N.width(b)}},300)}else{this.width(M)}}else{M=this.width()-(this.outerWidth(true)-this.width())-G.outerWidth(true)-2;this.width(M)}}}U(this);var R=E.extend({data:a,ui:W,value:W.data("value"),autoSize:false},J);this.focus(function(){this.select();new D(R)})}})(jQuery);
